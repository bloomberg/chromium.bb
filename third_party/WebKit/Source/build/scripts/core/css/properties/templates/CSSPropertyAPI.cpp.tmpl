// Copyright 2017 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

{% from 'templates/macros.tmpl' import print_if, source_files_for_generated_file %}
{{source_files_for_generated_file(template_file, input_files)}}
// clang-format off

#include "core/css/properties/CSSPropertyAPI.h"

{% for api_class in api_classnames %}
#include "core/css/properties/{{api_class}}.h"
{% endfor %}

namespace blink {

namespace {

static constexpr CSSPropertyAPI base_api;
{% for api_class in api_classnames %}
static constexpr {{api_class}} api_{{api_class.lower()}};
{% endfor %}

static constexpr const CSSPropertyAPI* const property_apis[] = {
  {% for api_class_data in api_classes_by_property_id %}
    {% if api_class_data.classname %}
  &api_{{api_class_data.classname.lower()}},  // {{api_class_data.property_id}}
    {% else %}
  &base_api,  // API for {{api_class_data.property_id}} not implemented yet.
    {% endif %}
  {% endfor %}
};

} // namespace

const CSSPropertyAPI& CSSPropertyAPI::Get(CSSPropertyID id) {
  DCHECK_GE(id, {{first_property_id}});  // first_property_id
  DCHECK_LE(id, {{last_property_id}});  // last_property_id
  return *property_apis[id - {{first_property_id}}];
}

}  // namespace blink
