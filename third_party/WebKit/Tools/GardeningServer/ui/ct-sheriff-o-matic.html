<!--
Copyright 2014 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<script src="../bower_components/sugar/release/sugar-full.development.js"></script>
<script src="../scripts/base.js"></script>
<script src="../scripts/builders.js"></script>
<script src="../scripts/config.js"></script>
<script src="../scripts/model.js"></script>
<script src="../scripts/net.js"></script>
<script src="../scripts/results.js"></script>
<script src="../scripts/svn-log.js"></script>
<script src="../scripts/treestatus.js"></script>
<script src="../scripts/ui.js"></script>

<link rel="import" href="../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="ct-results-panel.html">
<link rel="import" href="ct-unexpected-failures.html">

<polymer-element name="ct-sheriff-o-matic">
  <template>
    <style>
      paper-tabs {
        background-color: #00bcd4;
        color: #fff;
        box-shadow: 0px 3px 2px rgba(0, 0, 0, 0.2);
      }
    </style>
    <paper-tabs selected="{{selected}}">
      <paper-tab>Unexpected Failures</paper-tab>
      <paper-tab>Results</paper-tab>
    </paper-tabs>
    <core-animated-pages selected="{{selected}}" transitions="slide-from-right">
      <ct-unexpected-failures on-ct-examine-failures="{{onExamine}}"></ct-unexpected-failures>
      <ct-results-panel failures="{{currentFailures}}"></ct-results-panel>
    </core-animated-pages>
  </template>
  <script>
    Polymer({
      selected: 0,
      currentFailures: [],

      onExamine: function(event) {
        this.currentFailures = event.detail;
        this.selected = 1;
      },
    });
  </script>
</polymer-element>
