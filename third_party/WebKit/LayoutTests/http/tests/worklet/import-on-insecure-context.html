<!DOCTYPE html>
<meta charset="utf-8">
<title>Worklet: addModule() on an insecure context</title>
<body>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<script src="/resources/get-host-info.js"></script>
<script>

// This test should not be upstreamed to WPT because Worklets are now restrected
// to secure contexts by Chrome's policy.

if (window.location.origin != get_host_info().UNAUTHENTICATED_ORIGIN) {
  test(t => {
    assert_not_equals(undefined, CSS.paintWorklet);
  }, 'CSS.paintWorklet should be available on a secure context.');
  window.location = get_host_info().UNAUTHENTICATED_ORIGIN +
                    window.location.pathname;
} else {
  test(t => {
    assert_equals(undefined, CSS.paintWorklet);
  }, 'CSS.paintWorklet should not be available on an insecure context.');
}

</script>
</body>
