<!doctype html>
<meta charset="utf-8">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<iframe src="http://localhost:8080/resources/dummy.html" id="likely_remote_frame"></iframe>
<script>
let likelyRemoteFrame = document.getElementById('likely_remote_frame');
likelyRemoteFrame.onload = function() {

test(function() {
  let likelyRemoteWindow = likelyRemoteFrame.contentWindow;
  try {
    // |likelyRemoteWindow| is likely to be a remote window and to not have
    // an associated v8::Context. The code below must not crash even in such
    // a case. Site-per-process makes this test easier to fail.
    window.addEventListener('click', likelyRemoteWindow);
  } catch (e) {}
}, "EventListener doesn't crash with a remote object.");

};  // likelyRemoteFrame.onload = function()
</script>
