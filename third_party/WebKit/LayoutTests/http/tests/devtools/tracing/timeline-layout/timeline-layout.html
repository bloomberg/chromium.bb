<html>
<head>
<script src="../../../inspector/inspector-test.js"></script>
<script src="../../../inspector/timeline-test.js"></script>
<style>
.relayout-boundary {
    overflow: hidden;
    width: 100px;
    height: 100px;
}
</style>
<script>

function invalidateAndForceLayout(element)
{
    element.style.marginTop = "10px";
    var unused = element.offsetHeight;
}

function performActions()
{
    wrapCallFunctionForTimeline(() => invalidateAndForceLayout(document.getElementById("invalidate1")));
    wrapCallFunctionForTimeline(() => invalidateAndForceLayout(document.getElementById("invalidate2")));
}

function test() {
  PerformanceTestRunner.performActionsAndPrint('performActions()', 'Layout');
}

</script>
</head>

<body onload="runTest()">
<p>
Tests the Timeline API instrumentation of a Layout event
</p>
<div class="relayout-boundary">
    <div>text</div>
    <div></div>
    <div>
        <div id="invalidate1"><div>text</div></div>
    </div>
</div>
<div class="relayout-boundary">
    <div></div>
    <div>text</div>
    <div id="invalidate2"><div>text</div></div>
    <div></div>
    <div></div>
    <div>text</div>
</div>

</body>
</html>
