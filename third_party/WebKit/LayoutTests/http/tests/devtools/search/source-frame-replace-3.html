<html>
<head>
<script src="../../inspector/inspector-test.js"></script>
<script src="../../inspector/debugger-test.js"></script>
<script src="../../inspector/sources-test.js"></script>
<script src="../../inspector/search/search-test.js"></script>
<script src="resources/search.js"></script>
<script>
function test() {
  UI.viewManager.showView('sources');
  SourcesTestRunner.showScriptSource('search.js', didShowScriptSource);

  function didShowScriptSource(sourceFrame) {
    var searchConfig = new UI.SearchableView.SearchConfig('(REPLACE)ME[38]', true, true);
    SourcesTestRunner.replaceAndDumpChange(sourceFrame, searchConfig, '$1D', false);

    var searchConfig = new UI.SearchableView.SearchConfig('(REPLACE)ME[45]', true, true);
    SourcesTestRunner.replaceAndDumpChange(sourceFrame, searchConfig, '$1D', true);

    TestRunner.completeTest();
  }
};
</script>
</head>
<body onload="runTest()">
<p>Tests different types of search-and-replace in SourceFrame</p>
</body>
</html>
