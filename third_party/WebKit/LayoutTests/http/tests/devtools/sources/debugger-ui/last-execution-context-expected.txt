CONSOLE WARNING: line 3078: Element.createShadowRoot is deprecated and will be removed in M73, around March 2019. Please use Element.attachShadow instead. See https://www.chromestatus.com/features/4507242028072960 for more details.
Tests how execution context and target are selected.


Adding page target
Execution context selected: contentScript1
Target selected: page-target
Execution context selected: page-target:42

Adding sw target

Removing page main frame
Execution context selected: page-target:iframe1

Readding page main frame
Execution context selected: page-target:42

Switching to sw target
Target selected: sw-target
Execution context selected: sw-target:

Switching to page target
Target selected: page-target
Execution context selected: page-target:42

User selected content script
Execution context selected: contentScript1

Switching to sw target
Target selected: sw-target
Execution context selected: sw-target:

Switching to page target
Target selected: page-target
Execution context selected: page-target:42

User selected iframe1
Execution context selected: page-target:iframe1

Switching to sw target
Target selected: sw-target
Execution context selected: sw-target:

Switching to page target
Target selected: page-target
Execution context selected: page-target:iframe1

Switching to sw target
Target selected: sw-target
Execution context selected: sw-target:

Removing page main frame

Readding page main frame

