<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<body>
<script>

// Test that setting various CanvasRenderingContext2D properties to invalid values has no effect.
ctx = document.createElement('canvas').getContext('2d');

function trySettingMiterLimit(value) {
    ctx.miterLimit = 1.5;
    ctx.miterLimit = value;
    return ctx.miterLimit;
}

function trySettingLineWidth(value) {
    ctx.lineWidth = 1.5;
    ctx.lineWidth = value;
    return ctx.lineWidth;
}

function trySettingShadowBlur(value) {
    ctx.shadowBlur = 1.5;
    ctx.shadowBlur = value;
    return ctx.shadowBlur;
}

function trySettingShadowOffsetX(value) {
    ctx.shadowOffsetX = 1.5;
    ctx.shadowOffsetX = value;
    return ctx.shadowOffsetX;
}

function trySettingShadowOffsetY(value) {
    ctx.shadowOffsetY = 1.5;
    ctx.shadowOffsetY = value;
    return ctx.shadowOffsetY;
}

var testScenarios = [
    [ "Invalid value has no effect1", trySettingMiterLimit(1), 1],
    [ "Invalid value has no effect2", trySettingMiterLimit(0), 1.5],
    [ "Invalid value has no effect3", trySettingMiterLimit(-1), 1.5],
    [ "Invalid value has no effect4", trySettingMiterLimit(Infinity), 1.5],
    [ "Invalid value has no effect5", trySettingMiterLimit(-Infinity), 1.5],
    [ "Invalid value has no effect6", trySettingMiterLimit(NaN), 1.5],
    [ "Invalid value has no effect7", trySettingMiterLimit('string'), 1.5],
    [ "Invalid value has no effect8", trySettingMiterLimit(true), 1],
    [ "Invalid value has no effect9", trySettingMiterLimit(false), 1.5],

    [ "Invalid value has no effect10", trySettingLineWidth(1), 1],
    [ "Invalid value has no effect11", trySettingLineWidth(0), 1.5],
    [ "Invalid value has no effect12", trySettingLineWidth(-1), 1.5],
    [ "Invalid value has no effect13", trySettingLineWidth(Infinity), 1.5],
    [ "Invalid value has no effect14", trySettingLineWidth(-Infinity), 1.5],
    [ "Invalid value has no effect15", trySettingLineWidth(NaN), 1.5],
    [ "Invalid value has no effect16", trySettingLineWidth('string'), 1.5],
    [ "Invalid value has no effect17", trySettingLineWidth(true), 1],
    [ "Invalid value has no effect18", trySettingLineWidth(false), 1.5],

    [ "Invalid value has no effect19", trySettingShadowBlur(1), 1],
    [ "Invalid value has no effect20", trySettingShadowBlur(0), 0],
    [ "Invalid value has no effect21", trySettingShadowBlur(-1), 1.5],
    [ "Invalid value has no effect22", trySettingShadowBlur(Infinity), 1.5],
    [ "Invalid value has no effect23", trySettingShadowBlur(-Infinity), 1.5],
    [ "Invalid value has no effect24", trySettingShadowBlur(NaN), 1.5],
    [ "Invalid value has no effect25", trySettingShadowBlur('string'), 1.5],
    [ "Invalid value has no effect26", trySettingShadowBlur(true), 1],
    [ "Invalid value has no effect27", trySettingShadowBlur(false), 0],

    [ "Invalid value has no effect28", trySettingShadowOffsetX(1), 1],
    [ "Invalid value has no effect29", trySettingShadowOffsetX(0), 0],
    [ "Invalid value has no effect30", trySettingShadowOffsetX(-1), -1],
    [ "Invalid value has no effect31", trySettingShadowOffsetX(Infinity), 1.5],
    [ "Invalid value has no effect32", trySettingShadowOffsetX(-Infinity), 1.5],
    [ "Invalid value has no effect33", trySettingShadowOffsetX(NaN), 1.5],
    [ "Invalid value has no effect34", trySettingShadowOffsetX('string'), 1.5],
    [ "Invalid value has no effect35", trySettingShadowOffsetX(true), 1],
    [ "Invalid value has no effect36", trySettingShadowOffsetX(false), 0],

    [ "Invalid value has no effect37", trySettingShadowOffsetY(1), 1],
    [ "Invalid value has no effect38", trySettingShadowOffsetY(0), 0],
    [ "Invalid value has no effect39", trySettingShadowOffsetY(-1), -1],
    [ "Invalid value has no effect40", trySettingShadowOffsetY(Infinity), 1.5],
    [ "Invalid value has no effect41", trySettingShadowOffsetY(-Infinity), 1.5],
    [ "Invalid value has no effect42", trySettingShadowOffsetY(NaN), 1.5],
    [ "Invalid value has no effect43", trySettingShadowOffsetY('string'), 1.5],
    [ "Invalid value has no effect44", trySettingShadowOffsetY(true), 1],
    [ "Invalid value has no effect45", trySettingShadowOffsetY(false), 0],
];
generate_tests(assert_equals, testScenarios);

</script>
</body>
