<html>
<head>
<script src="../../../resources/gc.js"></script>
<script>
if (window.testRunner)
{
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}

function runTest()
{
    style = document.createElement('style');
    style.textContent = 'body { color: red }';
    document.head.appendChild(style);
    ruleList = getMatchedCSSRules(document.body);
  
    document.styleSheets[0].deleteRule(0);
    document.head.removeChild(style);

    gc();

    if (!ruleList[0].parentStyleSheet)
        document.getElementById('result').innerHTML = "PASS";
    if (window.testRunner)
        testRunner.notifyDone();
}

</script>
</head>
<body onload="runTest()">
<div id="result"></div>
</body>
</html>

