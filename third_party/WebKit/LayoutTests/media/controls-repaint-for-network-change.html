<!DOCTYPE html>
<style>
  /* restrict to just the play button, so the slider doesn't mismatch */
  audio {
    width: 40px;
    height: 40px;
  }
</style>
<script src="../resources/run-after-layout-and-paint.js"></script>
<script src=media-file.js></script>
<script src=media-controls.js></script>

<audio controls></audio>
<audio controls></audio>
<p>Test that network state transitions paint audio controls properly.</p>

<script>

testRunner.waitUntilDone();

var audios = document.querySelectorAll("audio");
audios.forEach(audio => {
  enableTestMode(audio);
});

runAfterLayoutAndPaint(function() {
    // These will cause the play buttons to become enabled, and should
    // also cause a repaint.
    window.internals.setMediaElementNetworkState(audios[1], 2);

    testRunner.notifyDone();
});
</script>

