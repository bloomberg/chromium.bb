<!DOCTYPE html>
<html>
    <head>
        <title>Test that calling watchAvailability() when disableRemotePlayback attribute is set throws an exception</title>
        <script src="../../resources/testharness.js"></script>
        <script src="../../resources/testharnessreport.js"></script>
        <script src="../media-file.js"></script>
    </head>
    <body>
        <script>
            promise_test(function(test)
            {
                var v = document.createElement('video');
                v.src = findMediaFile('video', 'content/test');
                v.disableRemotePlayback = true;
                document.body.appendChild(v);

                return promise_rejects(
                    test,
                    new DOMException('disableRemotePlayback attribute is present.', 'InvalidStateError'),
                    v.remote.watchAvailability(function() {}));
            }, 'Test that calling watchAvailability() when disableRemotePlayback attribute is set throws an exception.');
        </script>
    </body>
</html>
