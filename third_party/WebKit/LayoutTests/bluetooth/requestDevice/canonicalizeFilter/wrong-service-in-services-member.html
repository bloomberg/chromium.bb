<!DOCTYPE html>
<script src="../../../resources/testharness.js"></script>
<script src="../../../resources/testharnessreport.js"></script>
<script src="../../../resources/testdriver.js"></script>
<script src="../../../resources/testdriver-vendor.js"></script>
<script src="../../../external/wpt/bluetooth/resources/bluetooth-helpers.js"></script>
<script>
bluetooth_test(t => {
  let test_promises = Promise.resolve();
  generateRequestDeviceArgsWithServices(['wrong_service']).forEach(args => {
    test_promises = test_promises.then(() => promise_rejects(
      t, TypeError(), requestDeviceWithTrustedClick(args)));
  });
  return test_promises;
}, 'Invalid service must reject the promise.');
</script>
