<!DOCTYPE html>
<meta charset="utf-8">
<title>idlharness test: Encoding Living Standard API</title>
<link rel="author" title="Joshua Bell" href="mailto:jsbell@google.com" />
<link rel="help" href="https://encoding.spec.whatwg.org/#api"/>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="/resources/WebIDLParser.js"></script>
<script src="/resources/idlharness.js"></script>

<h1>idlharness test</h1>
<p>This test validates the WebIDL included in the Encoding Living Standard.</p>

<script>
promise_test(async() => {
  const text = await (await fetch('/interfaces/encoding.idl')).text();
  const idl_array = new IdlArray();
  idl_array.add_idls(text);
  idl_array.add_objects({
    TextEncoder: ['new TextEncoder()'],
    TextDecoder: ['new TextDecoder()']
  });
  idl_array.test();
}, 'Test driver');
</script>
