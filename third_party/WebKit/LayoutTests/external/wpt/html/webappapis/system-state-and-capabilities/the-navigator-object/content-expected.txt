This is a testharness.js-based test.
FAIL the registerContentHandler method should exist on the navigator object assert_idl_attribute: property "registerContentHandler" not found in prototype chain
FAIL a handler with valid arguments should work navigator.registerContentHandler is not a function
FAIL a relative URL should work navigator.registerContentHandler is not a function
FAIL a URL with a fragment identifier should work navigator.registerContentHandler is not a function
FAIL a URL with a query string should work navigator.registerContentHandler is not a function
FAIL a URL with a multi-argument query string should work navigator.registerContentHandler is not a function
FAIL a URL with the passed string as a directory name should work navigator.registerContentHandler is not a function
FAIL a URL with the passed string as a directory name followed by a query string and fragment identifier should work navigator.registerContentHandler is not a function
FAIL a URL with the passed string included twice should work navigator.registerContentHandler is not a function
FAIL an empty url argument should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', '', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12
FAIL %s instead of domain name should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', 'http://%s.com', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12
FAIL %s instead of subdomain name should throw syntax_err assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', 'http://%s.example.com', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12
FAIL a url argument without %s should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', location.href + '', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12
FAIL a url argument pointing to a different domain name, without %s should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', 'http://example.com', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12
FAIL a url argument without %s (but with %) should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', location.href + '/%', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12
FAIL a url argument without %s (but with %a) should throw SYNTAX_ERR assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', location.href + '/%a', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SYNTAX_ERR: property "code" is equal to undefined, expected 12
FAIL a url argument pointing to a different domain name should throw SECURITY_ERR assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', 'http://example.com/%s', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18
FAIL a url argument pointing to a different domain name should throw SECURITY_ERR (2) assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', 'https://example.com/%s', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18
FAIL a url argument pointing to a different domain name should throw SECURITY_ERR (3) assert_throws: function "function () { navigator.registerContentHandler('text/x-unknown-type', 'http://foobar.example.com/%s', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18
FAIL attempting to override the image/jpeg MIME type should throw SECURITY_ERR assert_throws: function "function () { navigator.registerContentHandler(blacklist[bi], location.href + '/%s', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18
FAIL attempting to override the text/html MIME type should throw SECURITY_ERR assert_throws: function "function () { navigator.registerContentHandler(blacklist[bi], location.href + '/%s', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18
FAIL attempting to override the text/javascript MIME type should throw SECURITY_ERR assert_throws: function "function () { navigator.registerContentHandler(blacklist[bi], location.href + '/%s', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18
FAIL attempting to override the text/plain MIME type should throw SECURITY_ERR assert_throws: function "function () { navigator.registerContentHandler(blacklist[bi], location.href + '/%s', 'foo') }" threw object "TypeError: navigator.registerContentHandler is not a function" that is not a DOMException SECURITY_ERR: property "code" is equal to undefined, expected 18
FAIL overriding the application/atom+xml MIME type should work navigator.registerContentHandler is not a function
FAIL overriding the application/rss+xml MIME type should work navigator.registerContentHandler is not a function
FAIL overriding the application/x-unrecognized MIME type should work navigator.registerContentHandler is not a function
FAIL overriding the text/unrecognized MIME type should work navigator.registerContentHandler is not a function
FAIL overriding the foo/bar MIME type should work navigator.registerContentHandler is not a function
Harness: the test ran to completion.

