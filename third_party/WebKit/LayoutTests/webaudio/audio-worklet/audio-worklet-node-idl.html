<!DOCTYPE html>
<html>
  <head>
    <title>
      Testing AudioWorklet IDL
    </title>
    <script src="../../resources/testharness.js"></script>
    <script src="../../resources/testharnessreport.js"></script>
    <script src="../../resources/webidl2.js"></script>
    <script src="../../resources/idlharness.js"></script>
  </head>
  <body>
    <script type="text/plain" id="tested">
      interface AudioParamMap {
          readonly maplike<DOMString, AudioParam>;
      };

      dictionary AudioWorkletNodeOptions : AudioNodeOptions {
          unsigned long             numberOfInputs = 1;
          unsigned long             numberOfOutputs = 1;
      };

      [Constructor(BaseAudioContext context, DOMString name, optional AudioWorkletOptions options)]
      interface AudioWorkletNode : AudioNode {
          readonly attribute AudioParamMap              parameters;
      };
    </script>
    <script>
      (function() {
        'use strict';
        let idl_array = new IdlArray();
        idl_array.add_untested_idls('interface AudioNode {};');
        idl_array.add_untested_idls('dictionary AudioNodeOptions {};');
        idl_array.add_idls(
            document.querySelector('#tested').textContent);
        idl_array.test();
      })();
    </script>
  </body>
</html>
