<!DOCTYPE html>
<html>
  <head>
    <script src="../../fast/js/resources/js-test-pre.js"></script>
    <script src="../../compositing/overflow/resources/automatically-opt-into-composited-scrolling.js"></script>
    <script src="resources/link-highlight-helper.js"></script>
    <link rel="stylesheet" type="text/css" href="resources/link-highlight-style.css">
    <script>
      if (window.internals)
        window.internals.settings.setAcceleratedCompositingForOverflowScrollEnabled(true);

      function runTest() {
        createCompositedHighlight(document.getElementById('targetLink'));

        if (window.testRunner)
          testRunner.dumpAsTextWithPixelResults();
      }
    </script>
  </head>
  <body onload="runTest();">
    <div id="targetDiv" style="-webkit-transform: translateZ(0); position: relative; left: 10px; top: 10px"></div>
    <div style="position: relative; left: 10px; top: 40px; width: 200px; height: 100px; overflow-y: scroll; overflow-x: scroll;">
      <a href="">Link 1</a><br>
      <a href="">Link 2</a><br>
      <a href="">Link 3</a><br>
      <a href="" id="targetLink" class="activeLink">Target Link.</a><br>
      <a href="">Link 4</a><br>
      <a href="">Link 5</a><br>
    </div>
    <div style="position: relative; left: 10px; top: 80px">
      This test is successful if "Target Link" above is covered in a green
      rectangle with rounded corners.
    </div>
    <div id="result"></div>
  </body>
</html>
