<html>
<head>
<script src="../../http/tests/inspector/inspector-test.js"></script>
<script src="../../http/tests/inspector/network-test.js"></script>
<script>

function test() {
    InspectorTest.recordNetwork();
    var networkPanel = UI.panels.network;
    var showOverviewSetting = Common.settings.createSetting('networkLogShowOverview', true);
    var showFilmstripSetting = Common.settings.createSetting('networkRecordFilmStripSetting', false);

    InspectorTest.addResult("Overview should not be showing");
    InspectorTest.addResult("Filmstrip should not be showing");
    showOverviewSetting.set(false);
    showFilmstripSetting.set(false);

    InspectorTest.addResult("Overview Showing: " + isOverviewShowing());
    InspectorTest.addResult("Filmstrip Showing: " + isFilmstripShowing());
    InspectorTest.addResult("");

    InspectorTest.addResult("Overview should be showing");
    InspectorTest.addResult("Filmstrip should not be showing");
    showOverviewSetting.set(true);
    showFilmstripSetting.set(false);

    InspectorTest.addResult("Overview Showing: " + isOverviewShowing());
    InspectorTest.addResult("Filmstrip Showing: " + isFilmstripShowing());
    InspectorTest.addResult("");

    InspectorTest.addResult("Overview should not be showing");
    InspectorTest.addResult("Filmstrip should be showing");
    showOverviewSetting.set(false);
    showFilmstripSetting.set(true);

    InspectorTest.addResult("Overview Showing: " + isOverviewShowing());
    InspectorTest.addResult("Filmstrip Showing: " + isFilmstripShowing());
    InspectorTest.addResult("");

    InspectorTest.addResult("Overview should be showing");
    InspectorTest.addResult("Filmstrip should be showing");
    showOverviewSetting.set(true);
    showFilmstripSetting.set(true);

    InspectorTest.addResult("Overview Showing: " + isOverviewShowing());
    InspectorTest.addResult("Filmstrip Showing: " + isFilmstripShowing());
    InspectorTest.addResult("");

    InspectorTest.completeTest();

    function isOverviewShowing() {
        if (!networkPanel._overviewPane)
            return false;
        return networkPanel._overviewPane.isShowing();
    }

    function isFilmstripShowing() {
        if (!networkPanel._filmStripView)
            return false;
        return networkPanel._filmStripView.isShowing();
    }
}

</script>
</head>
<body onload="runTest()">
<p>Tests to make sure film strip and overview pane show if the other does not exist. http://crbug.com/723659</p>
</body>
</html>
