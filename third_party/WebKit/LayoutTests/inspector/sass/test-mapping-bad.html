<html>
<head>

<link rel="stylesheet" href="resources/test-mapping-bad.css">

<script src="../../http/tests/inspector/inspector-test.js"></script>
<script src="../../http/tests/inspector/debugger-test.js"></script>
<script src="./sass-test.js"></script>
<script>

function test()
{
    var header = InspectorTest.cssModel.styleSheetHeaders().find(header => !!header.sourceMapURL)
    InspectorTest.loadASTMapping(header, onMapping);

    function onMapping(mapping)
    {
        if (mapping.isValid()) {
            InspectorTest.addResult("ERROR: a valid mapping created for misaligned sourcemap.");
        } else {
            InspectorTest.addResult("OK: the mapping successfully reported misalignment.");
        }
        InspectorTest.completeTest();
    }
}

</script>

</head>

<body onload="runTest()">
<p>Verify that mapping is not valid for misaligned sources.</p>
</body>
</html>
