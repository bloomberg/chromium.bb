<!DOCTYPE html>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<script>

promise_test(t => {
  // promise_rejects doesn't test the exception message, so just match against undefined.
  return promise_rejects(
      t, new DOMException(undefined, 'SecurityError'),
      navigator.share({title: 'the title', text: 'the message', url: 'data:the url'}));
}, 'share without a user gesture');

</script>
