<html>
<head>

<script src="../../http/tests/inspector-protocol/resources/inspector-protocol-test.js"></script>
<script src="../resources/device-emulation-test.js"></script>

<script>
// This test is based on http://jsbin.com/urowoh/latest.
setMetaViewport("w=dw");
</script>

<style>
html {
    overflow-x: hidden;
}

body {
    margin: 0;
    min-height: 100px;
    overflow: hidden;
}
</style>

<script>
function test()
{
    InspectorTest.testDeviceEmulation("device-emulation-small-dw.html", 380, 420, 1, "w=dw", undefined, false);
}
</script>

</head>
<body onload="runTest()">
<p>
Tests that device emulation affects media rules, viewport meta tag, body dimensions and window.screen.
Emulating small device on a page with viewport "width=device-width" set should work without reload for page without scrollbar.
</p>
</body>
</html>
