<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script>
// This behavior is not in the webxr spec, so this is an internal-only test.
promise_test((t) => navigator.xr.requestSession('immersive-vr').catch(() => {
  return promise_rejects(t, "InvalidStateError", navigator.getVRDisplays());
}), "Test that calls to navigator.getVRDisplays are blocked once navigator.xr has been accessed.");

</script>
