This is a testharness.js-based test.
FAIL window.postMessage should be able to transfer a TransformStream Failed to execute 'postMessage' on 'Window': Value at index 0 does not have a transferable type.
FAIL a TransformStream with a locked writable should not be transferable assert_throws: postMessage should throw function "() => postMessage(ts, '*', [ts])" threw object "TypeError: Failed to execute 'postMessage' on 'Window': Value at index 0 does not have a transferable type." that is not a DOMException DataCloneError: property "code" is equal to undefined, expected 25
FAIL a TransformStream with a locked readable should not be transferable assert_throws: postMessage should throw function "() => postMessage(ts, '*', [ts])" threw object "TypeError: Failed to execute 'postMessage' on 'Window': Value at index 0 does not have a transferable type." that is not a DOMException DataCloneError: property "code" is equal to undefined, expected 25
FAIL a TransformStream with both sides locked should not be transferable assert_throws: postMessage should throw function "() => postMessage(ts, '*', [ts])" threw object "TypeError: Failed to execute 'postMessage' on 'Window': Value at index 0 does not have a transferable type." that is not a DOMException DataCloneError: property "code" is equal to undefined, expected 25
FAIL piping through transferred transforms should work Failed to execute 'postMessage' on 'Window': Value at index 0 does not have a transferable type.
Harness: the test ran to completion.

