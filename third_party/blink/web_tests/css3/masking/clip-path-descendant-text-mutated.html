<!DOCTYPE html>
<script src="../../resources/ahem.js"></script>
<script src="../../resources/run-after-layout-and-paint.js"></script>
<style>
#target {
  width: 100px;
  height: 100px;
  background-color: green;
  border-right: 100px solid red;
  clip-path: url(#clip);
}
</style>
<div id="target"></div>
<svg>
  <clipPath id="clip">
    <text id="text" y="80" font-family="Ahem" font-size="100">XX</text>
  </clipPath>
</svg>
<script>
runAfterLayoutAndPaint(function() {
  text.firstChild.data = 'X';
}, true);
</script>
