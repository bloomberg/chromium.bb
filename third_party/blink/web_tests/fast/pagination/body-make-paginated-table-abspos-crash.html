<!DOCTYPE html>
<table id="table" style="width:300px;">
  <tr>
    <td>
      <div style="position:relative">
	<div style="position:absolute"></div>
      </div>
    </td>
  </tr>
</table>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script>
  // See crbug.com/879467 - NG block fragmentation doesn't handle out-of-flow
  // positioned objects correctly (invokes legacy pagination, which doesn't
  // cooperate with NG block fragmentation). Falling back to legacy for the
  // entire document avoids that situation.
  test(() => {
    // Lay out.
    document.body.offsetTop;

    // Paginate the document.
    document.body.style.overflow = "-webkit-paged-x";

    // Make sure we get a deep layout.
    document.getElementById("table").style.width = "301px";
  }, "No crash when BODY becomes paginated.");
</script>
