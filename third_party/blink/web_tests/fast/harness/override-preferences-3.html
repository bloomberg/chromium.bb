<!DOCTYPE html>
<title>Tests parsing for testRunner.overridePreference parameters.</title>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script>
type_error = new TypeError();

test(() => {
  assert_throws(type_error, () => {
    testRunner.overridePreference();
  });
}, "No parameters");

test(() => {
  assert_throws(type_error, () => {
    testRunner.overridePreference("WebKitDefaultFontSize");
  });
}, "Only one parameter");

test(() => {
  assert_throws(type_error, () => {
    testRunner.overridePreference(5, 5);
  });
}, "Invalid type for key parameter");

test(() => {
  assert_throws(type_error, () => {
    testRunner.overridePreference("foo", 5);
  });
}, "Unknown key parameter");

test(() => {
  assert_throws(type_error, () => {
    testRunner.overridePreference("WebKitDefaultFontSize", Symbol.iterator);
  });
}, "Failed conversion from value");

test(() => {
testRunner.overridePreference("WebKitDefaultFontSize", 5);
});
</script>
