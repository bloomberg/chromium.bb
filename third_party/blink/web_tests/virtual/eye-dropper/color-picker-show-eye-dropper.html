<!DOCTYPE html>
<html>
<head>
<script>
testRunner.waitUntilDone();
</script>
<script src='../../fast/forms/resources/picker-common.js'></script>
<script src="file:///gen/layout_test_data/mojo/public/js/mojo_bindings.js"></script>
<script src="file:///gen/third_party/blink/public/mojom/choosers/color_chooser.mojom.js"></script>
<script src='mock-eyedropperchooser.js'></script>
</head>
<body>
<input type='color' id='color' value='#7EFFC9'>

<p id='description' style='opacity: 0'></p>
<div id='console' style='opacity: 0'></div>

<script>
openPicker(document.getElementById('color'), openPickerSuccessfulCallback, () => testRunner.notifyDone());

function openPickerSuccessfulCallback() {
  popupWindow.focus();
  const popupDocument = popupWindow.document;
  waitUntilEyeDropperShown(() => testRunner.notifyDone());
  const eyeDropper = popupDocument.querySelector('eye-dropper');
  eyeDropper.click();
}
</script>
</body>
</html>