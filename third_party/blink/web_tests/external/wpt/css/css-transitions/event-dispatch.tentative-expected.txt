This is a testharness.js-based test.
PASS Idle -> Pending or Before
PASS Idle -> Before
PASS Idle or Pending -> Active
PASS Idle or Pending -> After
FAIL Before -> Idle (display: none) assert_true: Timed out waiting for transitioncancel expected true got false
FAIL Before -> Idle (Animation.timeline = null) promise_test: Unhandled rejection with value: object "TypeError: Cannot assign to read only property 'timeline' of object '#<Animation>'"
PASS Before -> Active
PASS Before -> After
FAIL Active -> Idle, no delay (display: none) assert_true: Timed out waiting for transitioncancel expected true got false
FAIL Active -> Idle, no delay (Animation.timeline = null) promise_test: Unhandled rejection with value: object "TypeError: Cannot assign to read only property 'timeline' of object '#<Animation>'"
FAIL Active -> Idle, with positive delay (display: none) assert_true: Timed out waiting for transitioncancel expected true got false
FAIL Active -> Idle, with positive delay (Animation.timeline = null) promise_test: Unhandled rejection with value: object "TypeError: Cannot assign to read only property 'timeline' of object '#<Animation>'"
FAIL Active -> Idle, with negative delay (display: none) assert_true: Timed out waiting for transitioncancel expected true got false
FAIL Active -> Idle, with negative delay (Animation.timeline = null) promise_test: Unhandled rejection with value: object "TypeError: Cannot assign to read only property 'timeline' of object '#<Animation>'"
PASS Active -> Before
PASS Active -> After
PASS After -> Before
PASS After -> Active
PASS Calculating the interval start and end time with negative start delay.
FAIL Calculating the interval start and end time with negative end delay. assert_true: Timed out waiting for transitioncancel, transitionrun, transitionstart expected true got false
FAIL Call Animation.cancel after canceling transition. assert_true: Timed out waiting for transitioncancel expected true got false
FAIL Restart transition after canceling transition immediately assert_true: Timed out waiting for transitioncancel, transitionrun expected true got false
FAIL Call Animation.cancel after restarting transition immediately assert_true: Timed out waiting for transitioncancel expected true got false
FAIL Set timeline and play transition after clear the timeline promise_test: Unhandled rejection with value: object "TypeError: Cannot assign to read only property 'timeline' of object '#<Animation>'"
FAIL Set null target effect after canceling the transition assert_true: Timed out waiting for transitioncancel expected true got false
FAIL Cancel the transition after clearing the target effect assert_true: Timed out waiting for transitionend expected true got false
Harness: the test ran to completion.

