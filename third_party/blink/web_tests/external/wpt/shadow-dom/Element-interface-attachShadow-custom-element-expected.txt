This is a testharness.js-based test.
PASS Element.attachShadow must create an instance of ShadowRoot for autonomous custom elements
PASS Element.attachShadow must create an instance of ShadowRoot for undefined autonomous custom elements
FAIL Element.attachShadow for an autonomous custom element with disabledFeatures=["shadow"] should throw a NotSupportedError assert_throws: No definition, host function "() => {
    element.attachShadow({mode: 'closed'});
  }" threw object "InvalidStateError: Failed to execute 'attachShadow' on 'Element': Shadow root cannot be created on a host which already hosts a shadow tree." that is not a DOMException NotSupportedError: property "code" is equal to 11, expected 9
FAIL Element.attachShadow for a customized built-in element with disabledFeatures=["shadow"] should throw a NotSupportedError assert_throws: No definition, host. function "() => {
    element.attachShadow({mode: 'closed'});
  }" threw object "InvalidStateError: Failed to execute 'attachShadow' on 'Element': Shadow root cannot be created on a host which already hosts a shadow tree." that is not a DOMException NotSupportedError: property "code" is equal to 11, expected 9
PASS Element.attachShadow for a custom element with disabledFeatures=["SHADOW"] should not throw a NotSupportedError
PASS Element.attachShadow must throw a NotSupportedError for customized built-in elements
Harness: the test ran to completion.

