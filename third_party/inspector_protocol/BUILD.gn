# Copyright 2018 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/jumbo.gni")

jumbo_component("crdtp") {
  sources = [
    "crdtp/cbor.h",
    "crdtp/export.h",
    "crdtp/glue.h",
    "crdtp/status.h",
    "crdtp/json.h",
    "crdtp/json_platform.h",
    "crdtp/parser_handler.h",
    "crdtp/span.h",
    "crdtp/status.h",
    "crdtp/cbor.cc",
    "crdtp/json.cc",
    "crdtp/status.cc",
  ]

  defines = [ "CRDTP_IMPLEMENTATION" ]

  if (!is_debug) {
    configs -= [ "//build/config/compiler:default_optimization" ]
    configs += [ "//build/config/compiler:optimize_max" ]
  }
}
# encoding/encoding_test.cc:
# There's no target for this file here, instead it is included
# in //content/test:content_unittest
# via //content/browser/devtools:inspector_protocol_encoding_test.
