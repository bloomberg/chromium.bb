<!DOCTYPE html>
<meta charset="utf-8">
<title>register a service worker</title>
<script>
async function setup(script_file_arg) {
  let script_file = script_file_arg || 'service_worker.js';
  await navigator.serviceWorker.register(script_file);
  await navigator.serviceWorker.ready;
  return 'ok';
}

function hasController() {
  return !!navigator.serviceWorker.controller;
}
</script>
