import("//build/config/ios/ios_sdk.gni")
import("//build/config/ios/rules.gni")

config("config") {
  include_dirs = [ "//ios/third_party/earl_grey2/src/EarlGreyApp/EarlGreyApp.h" ]
}

source_set("eg2") {
  testonly = true

  sources = [
    "src/AppFramework/Action/GREYAction.h",
    "src/AppFramework/Action/GREYActionBlock.h",
    "src/AppFramework/Action/GREYActionBlock.m",
    "src/AppFramework/Action/GREYActions+Internal.h",
    "src/AppFramework/Action/GREYActions.h",
    "src/AppFramework/Action/GREYActions.mm",
    "src/AppFramework/Action/GREYBaseAction.h",
    "src/AppFramework/Action/GREYBaseAction.m",
    "src/AppFramework/Action/GREYChangeStepperAction.h",
    "src/AppFramework/Action/GREYChangeStepperAction.m",
    "src/AppFramework/Action/GREYMultiFingerSwipeAction.h",
    "src/AppFramework/Action/GREYMultiFingerSwipeAction.m",
    "src/AppFramework/Action/GREYPathGestureUtils.h",
    "src/AppFramework/Action/GREYPathGestureUtils.m",
    "src/AppFramework/Action/GREYPickerAction.h",
    "src/AppFramework/Action/GREYPickerAction.m",
    "src/AppFramework/Action/GREYPinchAction.h",
    "src/AppFramework/Action/GREYPinchAction.m",
    "src/AppFramework/Action/GREYScrollAction.h",
    "src/AppFramework/Action/GREYScrollAction.m",
    "src/AppFramework/Action/GREYScrollToContentEdgeAction.h",
    "src/AppFramework/Action/GREYScrollToContentEdgeAction.m",
    "src/AppFramework/Action/GREYSlideAction.h",
    "src/AppFramework/Action/GREYSlideAction.m",
    "src/AppFramework/Action/GREYSwipeAction.h",
    "src/AppFramework/Action/GREYSwipeAction.m",
    "src/AppFramework/Action/GREYTapAction.h",
    "src/AppFramework/Action/GREYTapAction.m",
    "src/AppFramework/Action/GREYTapper.h",
    "src/AppFramework/Action/GREYTapper.m",
    "src/AppFramework/Assertion/GREYAssertion.h",
    "src/AppFramework/Assertion/GREYAssertionBlock.h",
    "src/AppFramework/Assertion/GREYAssertionBlock.m",
    "src/AppFramework/Assertion/GREYAssertions.h",
    "src/AppFramework/Assertion/GREYAssertions.m",
    "src/AppFramework/AutomationSetup/GREYAutomationSetup.h",
    "src/AppFramework/AutomationSetup/GREYAutomationSetup.m",
    "src/AppFramework/Core/GREYElementFinder.h",
    "src/AppFramework/Core/GREYElementFinder.m",
    "src/AppFramework/Core/GREYElementInteraction.h",
    "src/AppFramework/Core/GREYElementInteraction.m",
    "src/AppFramework/Core/GREYInteraction.h",
    "src/AppFramework/Core/GREYInteractionDataSource.h",
    "src/AppFramework/Delegate/GREYCAAnimationDelegate.h",
    "src/AppFramework/Delegate/GREYCAAnimationDelegate.m",
    "src/AppFramework/Delegate/GREYNSURLConnectionDelegate.h",
    "src/AppFramework/Delegate/GREYNSURLConnectionDelegate.m",
    "src/AppFramework/Delegate/GREYSurrogateDelegate.h",
    "src/AppFramework/Delegate/GREYSurrogateDelegate.m",
    "src/AppFramework/Delegate/GREYUIWebViewDelegate.h",
    "src/AppFramework/Delegate/GREYUIWebViewDelegate.m",
    "src/AppFramework/DistantObject/GREYHostApplicationDistantObject+GREYTestHelper.h",
    "src/AppFramework/DistantObject/GREYHostApplicationDistantObject+GREYTestHelper.m",
    "src/AppFramework/DistantObject/GREYHostApplicationDistantObject.m",
    "src/AppFramework/DistantObject/GREYHostBackgroundDistantObject+GREYApp.h",
    "src/AppFramework/DistantObject/GREYHostBackgroundDistantObject+GREYApp.m",
    "src/AppFramework/DistantObject/GREYHostBackgroundDistantObject.m",
    "src/AppFramework/DistantObject/GREYTestStub.m",
    "src/AppFramework/EarlGreyV2/EarlGreyApp.h",
    "src/AppFramework/Error/GREYAppFailureHandler.h",
    "src/AppFramework/Error/GREYAppFailureHandler.m",
    "src/AppFramework/Error/GREYFailureScreenshotter.h",
    "src/AppFramework/Error/GREYFailureScreenshotter.m",
    "src/AppFramework/Error/GREYFailureScreenshotterStub.m",
    "src/AppFramework/Event/GREYIOHIDEventTypes.h",
    "src/AppFramework/Event/GREYSyntheticEvents.h",
    "src/AppFramework/Event/GREYSyntheticEvents.m",
    "src/AppFramework/Event/GREYTouchInjector.h",
    "src/AppFramework/Event/GREYTouchInjector.m",
    "src/AppFramework/IdlingResources/GREYDispatchQueueIdlingResource.h",
    "src/AppFramework/IdlingResources/GREYDispatchQueueIdlingResource.m",
    "src/AppFramework/IdlingResources/GREYIdlingResource.h",
    "src/AppFramework/IdlingResources/GREYManagedObjectContextIdlingResource.h",
    "src/AppFramework/IdlingResources/GREYManagedObjectContextIdlingResource.m",
    "src/AppFramework/IdlingResources/GREYNSTimerIdlingResource.h",
    "src/AppFramework/IdlingResources/GREYNSTimerIdlingResource.m",
    "src/AppFramework/IdlingResources/GREYOperationQueueIdlingResource.h",
    "src/AppFramework/IdlingResources/GREYOperationQueueIdlingResource.m",
    "src/AppFramework/IdlingResources/GREYTimedIdlingResource.h",
    "src/AppFramework/IdlingResources/GREYTimedIdlingResource.m",
    "src/AppFramework/IdlingResources/GREYUIWebViewIdlingResource.h",
    "src/AppFramework/IdlingResources/GREYUIWebViewIdlingResource.m",
    "src/AppFramework/Keyboard/GREYKeyboard.h,
    "src/AppFramework/Keyboard/GREYKeyboard.m,
    "src/AppFramework/Matcher/GREYAllOf.h,
    "src/AppFramework/Matcher/GREYAllOf.m,
    "src/AppFramework/Matcher/GREYAnyOf.h,
    "src/AppFramework/Matcher/GREYAnyOf.m,
    "src/AppFramework/Matcher/GREYBaseMatcher.h,
    "src/AppFramework/Matcher/GREYBaseMatcher.m,
    "src/AppFramework/Matcher/GREYElementMatcherBlock.h,
    "src/AppFramework/Matcher/GREYElementMatcherBlock.m,
    "src/AppFramework/Matcher/GREYMatchers.h,
    "src/AppFramework/Matcher/GREYMatchers.m,
    "src/AppFramework/Matcher/GREYMatchersShorthand.h,
    "src/AppFramework/Matcher/GREYMatchersShorthand.m,
    "src/AppFramework/Matcher/GREYNot.h,
    "src/AppFramework/Matcher/GREYNot.m,
    "src/AppFramework/Synchronization/GREYAppStateTracker.h,
    "src/AppFramework/Synchronization/GREYAppStateTracker.m,
    "src/AppFramework/Synchronization/GREYAppStateTrackerObject.h,
    "src/AppFramework/Synchronization/GREYAppStateTrackerObject.m,
    "src/AppFramework/Synchronization/GREYDispatchQueueTracker.h,
    "src/AppFramework/Synchronization/GREYDispatchQueueTracker.m.,
    "src/AppFramework/Synchronization/GREYObjectDeallocationTracker.h,
    "src/AppFramework/Synchronization/GREYObjectDeallocationTracker.m,
    "src/AppFramework/Synchronization/GREYRunLoopSpinner.h,
    "src/AppFramework/Synchronization/GREYRunLoopSpinner.m,
    "src/AppFramework/Synchronization/GREYSyncAPI.h,
    "src/AppFramework/Synchronization/GREYSyncAPI.m,
    "src/AppFramework/Synchronization/GREYUIThreadExecutor+Internal.h,
    "src/AppFramework/Synchronization/GREYUIThreadExecutor.h,
    "src/AppFramework/Synchronization/GREYUIThreadExecutor.m,
  ]

  public_configs = [ ":config" ]

  configs -= [
    "//build/config/gcc:symbol_visibility_hidden",
    "//build/config/compiler:chromium_code",
  ]
  configs += [
    "//build/config/compiler:no_chromium_code",
    "//build/config/compiler:enable_arc",
    "//build/config/gcc:symbol_visibility_default",
  ]
}
