include_rules = [
  # Restricting uses of ChromeActivity in favor of direct dependency aquisition. Code that lives
  # under java/src/.../chrome/browser has a seperate exception under that same directory.
  # Exceptions can be found under "specific_include_rules" below. Valid ChromeActivity dependents
  # should add an allow rule to a DEPS file in the relevant directory.
  "-chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",

  "+chrome/browser/browser_controls/android",
  "+chrome/browser/device",
  "+chrome/browser/enterprise",
  "+chrome/browser/feedback/android",
  "+chrome/browser/flags/android",
  "+chrome/browser/fullscreen/android",
  "+chrome/browser/image_descriptions",
  "+chrome/browser/ui/android/layouts/java",
  "+chrome/browser/notifications",
  "+chrome/browser/password_manager/android",
  "+chrome/browser/policy/android",
  "+chrome/browser/preferences/android/java",
  "+chrome/browser/safe_browsing/android",
  "+chrome/browser/safety_check/android",
  "+chrome/browser/settings/android",
  "+chrome/browser/ui/android/favicon/java",
  "+chrome/browser/ui/android/native_page",
  "+chrome/browser/ui/messages/android",
  "+chrome/browser/uid/android",
  "+chrome/browser/user_education",
  "+chrome/browser/util/android/java",
  "+chrome/browser/version",
  "+chrome/browser/video_tutorials",
  "+chrome/browser/webauthn/android",
  "+components/browser_ui/android/bottomsheet",
  "+components/browser_ui/banners/android",
  "+components/browser_ui/contacts_picker/android",
  "+components/browser_ui/display_cutout/android",
  "+components/browser_ui/media/android",
  "+components/browser_ui/modaldialog/android",
  "+components/browser_ui/photo_picker/android",
  "+components/browser_ui/share/android",
  "+components/browser_ui/site_settings/android",
  "+components/browser_ui/util/android",
  "+components/browser_ui/webshare/android",
  "+components/browser_ui/widget/android",
  "+components/content_capture",
  "+components/content_settings",
  "+components/download",
  "+components/embedder_support/android",
  "+components/external_intents/android",
  "+components/favicon/android",
  "+components/favicon_base",
  "+components/find_in_page/android",
  "+components/infobars/android",
  "+components/invalidation",
  "+components/javascript_dialogs/android",
  "+components/media_router/browser/android",
  "+components/page_info/android/java",
  "+components/permissions/android/nfc",
  "+components/policy",
  "+components/prefs/android",
  "+components/query_tiles",
  "+components/security_interstitials/content/android",
  "+components/signin/core/browser/android",
  "+components/signin/public/android",
  "+components/spellcheck/browser",
  "+components/strictmode/android",
  "+components/subresource_filter/android",
  "+components/translate/content/android",
  "+components/user_prefs/android",
  "+components/viz/common/java",
  "+components/webapk/android",
  "+components/webrtc/android",
  "+jni",
  "+media/base/android/java",
  "+services/device/public",
  "+services/media_session/public",
]

specific_include_rules = {
  "chrome/android/java/src/org/chromium/chrome/browser/AppHooks.java": [
    "+chrome/browser/xsurface/android",
  ],

  # Tests and test-oriented classes are allowed to rely on ChromeActivity for DEPS. When committing
  # a file that doesn't conform to these patterns, add an allow rule to the DEPS file to the
  # testing directory.
  ".*Test\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  ".*TestRule\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],

  # Exceptions to the ChromeActivity dependency restriction. These will all eventually be removed
  # new code should rely on acceptable dependency aquisition patterns. These are sorted by package,
  # but the package to work with the filename matching done by checkdeps.
  "AssistantCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "AssistantRootViewContainer\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "AutofillAssistantUiController\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "FeedbackContext\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "AutofillAssistantFacade\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "AutofillKeyboardAccessoryViewBridge\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "ManualFillingComponentBridge\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "ManualFillingMediator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "ExploreSurfaceCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "ExploreSurfaceCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "StartSurfaceCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "StartSurfaceDelegate\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "MostVisitedListCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "SingleTabSwitcherCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "TasksSurfaceCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "TabGroupUiCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "TabListCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "TabManagementDelegate\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "TabManagementDelegateImpl\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "VrDelegate\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "VrDelegateFallback\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "VrDelegateImpl\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "VrShell\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "VrShellDelegate\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "VrWindowAndroid\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
  "FeedSurfaceCoordinator\.java": [
    "+chrome/android/java/src/org/chromium/chrome/browser/app/ChromeActivity.java",
  ],
}
