<style include="shared-style">
  :host {
    color: var(--cr-primary-text-color);
    display: block;
    font-size: 0.875rem;  /* 14px */
  }

  cr-toolbar {
    --cr-toolbar-field-width: var(--cluster-width);
  }

  #container {
    height: calc(100% - var(--cr-toolbar-height));
    overflow-x: hidden;
    overflow-y: scroll;
  }

  #clusters,
  #header {
    margin: var(--cluster-padding) auto;
    width: var(--cluster-width);
  }

  #title {
    font-size: 1.75rem;  /* 28px */
    padding: 0 var(--cluster-padding);
  }
</style>
<clusters-router query="{{query_}}"></clusters-router>
<cr-toolbar id="toolbar" page-name="History Clusters"
    clear-label="$i18n{clearLabel}" search-prompt="$i18n{searchPrompt}"
    on-search-changed="onSearchChanged_">
</cr-toolbar>
<div id="container">
  <div id="header" hidden="[[!result_.query]]">
    <div id="title">[[title_]]</div>
  </div>
  <div id="clusters" on-remove-visits="onRemoveVisits_"
      on-cluster-changed-or-removed="onClusterChangedOrRemoved_">
    <template is="dom-repeat" items="[[result_.clusters]]">
      <history-cluster cluster="[[item]]"></history-cluster>
    </template>
  </div>
</div>
<iron-scroll-threshold id="scrollThreshold" scroll-target="container"
    on-lower-threshold="onScrolledToBottom_">
</iron-scroll-threshold>

<cr-lazy-render id="confirmationDialog">
  <template>
    <cr-dialog consume-keydown-event on-cancel="onConfirmationDialogCancel_">
      <div slot="title">$i18n{removeSelected}</div>
      <div slot="body">$i18n{deleteWarning}</div>
      <div slot="button-container">
        <cr-button class="cancel-button" on-click="onCancelButtonClick_">
          $i18n{cancel}
        </cr-button>
        <cr-button class="action-button" on-click="onRemoveButtonClick_">
          $i18n{deleteConfirm}
        </cr-button>
      </div>
    </cr-dialog>
  </template>
</cr-lazy-render>
