<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="chrome://resources/cr_elements/cr_icons_css.html">
<link rel="import" href="chrome://resources/cr_elements/shared_vars_css.html">
<link rel="import" href="chrome://resources/cr_elements/cr_icon_button/cr_icon_button.html">
<link rel="import" href="chrome://resources/cr_elements/cr_input/cr_input.html">
<link rel="import" href="chrome://resources/cr_elements/cr_search_field/cr_search_field_behavior.html">
<link rel="import" href="print_preview_shared_css.html">

<dom-module id="print-preview-search-box">
  <template>
    <style include="print-preview-shared cr-input-style">
      :host {
        display: flex;
        font-size: calc(13/15 * 1em);
        --cr-input-error-display: none;
      }

      cr-input::part(row-container) {
        min-height: 32px;
      }

      #icon,
      #clearSearch {
        margin-inline-end: 0;
        margin-inline-start: 0;
      }

      #icon {
        height: 30px;
        width: 30px;
      }

      #clearSearch {
        --clear-icon-size: 28px;
        --cr-icon-button-size: var(--clear-icon-size);
        --cr-icon-button-icon-size: 20px;
        height: var(--clear-icon-size);
        position: absolute;
        right: 0;
        width: var(--clear-icon-size);
      }

      :host-context([dir=rtl]) #clearSearch {
        left: 0;
        right: auto;
      }

      :host([has-search-text]) cr-input {
        --cr-input-padding-end: 24px;
      }

      .search-box-input {
        width: 100%;
      }

      .search-box-input::-webkit-search-cancel-button {
        -webkit-appearance: none;
      }
    </style>
    <cr-input type="search" id="searchInput" class="search-box-input"
        on-search="onSearchTermSearch" on-input="onSearchTermInput"
        aria-label$="[[label]]" placeholder="[[label]]"
        autofocus="[[autofocus]]" spellcheck="false">
      <div slot="prefix" id="icon" class="cr-icon icon-search" alt=""></div>
      <cr-icon-button id="clearSearch" class="icon-cancel"
          hidden$="[[!hasSearchText]]" slot="suffix" on-click="onClearClick_"
          title="[[clearLabel]]">
      </cr-icon-button>
    </cr-input>
  </template>
  <script src="print_preview_search_box.js"></script>
</dom-module>
