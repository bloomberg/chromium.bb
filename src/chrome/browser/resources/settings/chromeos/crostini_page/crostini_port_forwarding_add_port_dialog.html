<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="chrome://resources/cr_elements/cr_button/cr_button.html">
<link rel="import" href="chrome://resources/cr_elements/cr_dialog/cr_dialog.html">
<link rel="import" href="chrome://resources/cr_elements/cr_input/cr_input.html">
<link rel="import" href="chrome://resources/html/i18n_behavior.html">
<link rel="import" href="chrome://resources/cr_elements/md_select_css.html">
<link rel="import" href="crostini_browser_proxy.html">
<link rel="import" href="../../settings_shared_css.html">

<dom-module id="settings-crostini-add-port-dialog">
  <template>
    <style include="settings-shared md-select">
      #portNumberInput {
        padding-inline-end: 20px;
        width: 376px;
      }

      #portLabelInput {
        padding-top: 20px;
        width: 472px;
      }

      #selectProtocol {
        max-width: 96px;
      }

      #errorText {
        color: var(--settings-error-color);
        float: left;
      }

      .custom-body {
        padding-bottom: 20px;
      }

      .custom-button-container {
        float: right;
      }

      .input-container {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
      }

      .placeholder-label {
        visibility: hidden;
      }
    </style>
    <cr-dialog id="dialog" close-text="$i18n{close}">
      <div slot="title">$i18n{crostiniPortForwardingAddPortDialogTitle}</div>
      <div slot="body">
        <div class="input-container">
          <cr-input id="portNumberInput"
              label="$i18n{crostiniPortForwardingListPortNumber}"
              aria-disabled="false">
          </cr-input>
          <div>
            <div id="label" class="cr-form-field-label placeholder-label"
                aria-hidden="true">
                ""
            </div>
            <select id="selectProtocol"
                class="md-select"
                value="$i18n{crostiniPortForwardingTCP}"
                on-change="onSelectProtocol_">
              <option value="$i18n{crostiniPortForwardingTCP}">
                $i18n{crostiniPortForwardingTCP}
              </option>
              <option value="$i18n{crostiniPortForwardingUDP}">
                $i18n{crostiniPortForwardingUDP}
              </option>
            </select>
          </div>
        </div>
        <div slot="body">
          <cr-input id="portLabelInput"
              label="$i18n{crostiniPortForwardingAddPortDialogLabel}"
              aria-disabled="false"
              maxlength="50">
          </cr-input>
        </div>
      </div>
      <div slot="body" class="custom-body">
        <template is="dom-if" if="[[invalidPort_]]">
          <span id="errorText">
            $i18n{crostiniPortForwardingAddError}
          </span>
        </template>
        <div slot="button-container" class="custom-button-container">
          <cr-button id="cancel" class="cancel-button"
              on-click="onCancelTap_">$i18n{cancel}</cr-button>
          <cr-button id="continue" class="action-button"
              on-click="onAddTap_">
              $i18n{add}
          </cr-button>
        </div>
      </div>
    </cr-dialog>
  </template>
  <script src="crostini_port_forwarding_add_port_dialog.js"></script>
</dom-module>
