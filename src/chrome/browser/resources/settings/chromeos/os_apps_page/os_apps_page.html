<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="chrome://resources/cr_elements/cr_link_row/cr_link_row.html">
<link rel="import" href="app_management_page/app_management_page.html">
<link rel="import" href="app_management_page/app_permission_view.html">
<link rel="import" href="app_management_page/uninstall_button.html">
<link rel="import" href="../../route.html">
<link rel="import" href="../../settings_shared_css.html">

<dom-module id="os-settings-apps-page">
  <template>
  <style include="settings-shared"></style>
  <settings-animated-pages id="pages" section="apps"
      focus-config="[[focusConfig_]]">
    <div route-path="default">
      <cr-link-row id="appManagement"
        label="$i18n{appManagementTitle}"
        on-click="onClickAppManagement_">
      </cr-link-row>
    </div>
    <template is="dom-if" route-path="/app-management">
      <settings-subpage
        associated-control="[[$$('#appManagement')]]"
        page-title="$i18n{appManagementTitle}">
        <settings-app-management-page>
        </settings-app-management-page>
      </settings-subpage>
    </template>
    <template is="dom-if" route-path="/app-management/detail" no-search>
      <settings-subpage
          page-title="[[app_.title]]"
          title-icon="[[iconUrlFromId_(app_)]]">
        <app-management-uninstall-button slot="subpage-title-extra">
        </app-management-uninstall-button>
        <app-management-app-permission-view>
        </app-management-app-permission-view>
      </settings-subpage>
    </template>
  </settings-animated-pages>
  </template>
  <script src="os_apps_page.js"></script>
</dom-module>
