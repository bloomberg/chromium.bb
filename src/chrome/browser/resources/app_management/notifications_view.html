<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="expandable_app_list.html">
<link rel="import" href="shared_style.html">
<link rel="import" href="store_client.html">
<link rel="import" href="chrome://resources/cr_elements/cr_icon_button/cr_icon_button.html">

<dom-module id="app-management-notifications-view">
  <template>
    <style include="app-management-shared-css">
      cr-icon-button {
        margin: 0;
      }

      app-management-permission-toggle {
        margin-inline-end: 24px;
      }

      #notification-view-header {
        align-items: center;
        display: flex;
        margin: 24px auto;
        width: var(--card-width)
      }

      #notification-title {
        padding-inline-start: 12px;
      }
    </style>
    <!-- TODO(crbug.com/906508): Implement display when there is no apps at
    all  -->
    <div id="notification-view-header">
      <cr-icon-button class="icon-arrow-back" id="closeButton"
          on-click="onClickBackButton_" aria-label="$i18n{back}">
      </cr-icon-button>
      <div id="notification-title" class="page-title">$i18n{notifications}</div>
    </div>
    <app-management-expandable-app-list
        apps="[[appsList_]]"
        collapsed-size="[[getCollapsedSize_(appsList_)]]">
      <template is="dom-repeat" items="[[appsList_]]" as="app">
        <app-management-app-item app="[[app]]">
          <app-management-permission-toggle slot="right-content"
              app="[[app]]"
              permission-type="CONTENT_SETTINGS_TYPE_NOTIFICATIONS">
          </app-management-permission-toggle>
        </app-management-app-item>
      </template>
    </app-management-expandable-app-list>
  </template>
 <script src="notifications_view.js"></script>
</dom-module>
