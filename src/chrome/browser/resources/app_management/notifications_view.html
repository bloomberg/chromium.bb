<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="expandable_app_list.html">
<link rel="import" href="shared_style.html">
<link rel="import" href="store_client.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-icon-button/paper-icon-button-light.html">

<dom-module id="app-management-notifications-view">
  <template>
    <style include="app-management-shared-css">
      paper-icon-button-light {
        margin-inline-start: 0;
      }

      app-management-permission-toggle {
        margin-inline-end: 24px;
      }

      #notification-view-header {
        align-items: center;
        display: flex;
        margin: 24px auto;
        width: var(--card-width)
      }

      #notification-title {
        padding-inline-start: 12px;
      }
    </style>
    <!-- TODO(crbug.com/906508): Implement display when there is no apps at
    all  -->
    <div id="notification-view-header">
      <paper-icon-button-light class="icon-arrow-back">
        <button id="closeButton" on-click="onClickBackButton_"
            aria-label="$i18n{back}">
          <paper-ripple class="circle"></paper-ripple>
        </button>
      </paper-icon-button-light>
      <div id="notification-title" class="page-title">$i18n{notifications}</div>
    </div>
    <app-management-expandable-app-list
        apps="[[appsList_]]"
        collapsed-size="[[getCollapsedSize_(appsList_)]]">
      <template is="dom-repeat" items="[[appsList_]]"
                as="app" notify-dom-change>
        <app-management-app-item app="[[app]]">
          <app-management-permission-toggle slot="right-content"
              app="[[app]]"
              permission-type="CONTENT_SETTINGS_TYPE_NOTIFICATIONS">
          </app-management-permission-toggle>
        </app-management-app-item>
      </template>
    </app-management-expandable-app-list>
  </template>
 <script src="notifications_view.js"></script>
</dom-module>
