<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="app_item.html">
<link rel="import" href="constants.html">
<link rel="import" href="shared_style.html">
<link rel="import" href="store_client.html">
<link rel="import" href="permission_toggle.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-collapse/iron-collapse.html">
<link rel="import" href="chrome://resources/cr_elements/cr_icon_button/cr_icon_button.html">

<dom-module id="app-management-expandable-app-list">
  <template>
    <style include="app-management-shared-css">
      #app-list-header {
        align-items: center;
        display: flex;
        padding: 16px 12px;
      }

      #app-list-title {
        font-size: var(--cr-title-text_-_font-size);
        margin-inline-start: 12px;
      }

      #back-button {
        margin-inline-start: 0;
      }

      #collapse {
        display: block;
        min-height: var(--collapsed-height);
        overflow: hidden;
      }
    </style>
    <div class="card-container">
      <div id="app-list-header">
        <cr-icon-button class="icon-arrow-back" id="back-button"
          on-click="onClickBack_" aria-label="$i18n{back}">
        </cr-icon-button>
        <div id="app-list-title" class="header-text">[[listTitle]]</div>
      </div>
      <iron-collapse id="collapse">
        <slot></slot>
      </iron-collapse>

      <div id="expander-row" class="expander-list-row"
          on-click="toggleListExpanded_">
        <span>[[moreAppsString_(apps.length, listExpanded_)]]</span>
        <cr-icon-button class="expand-button"
            iron-icon="[[getCollapsedIcon_(listExpanded_)]]"></cr-icon-button>
      </div>
    </div>
  </template>
  <script src="expandable_app_list.js"></script>
</dom-module>
