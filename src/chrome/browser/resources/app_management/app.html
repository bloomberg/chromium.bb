<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="actions.html">
<link rel="import" href="arc_permission_view.html">
<link rel="import" href="browser_proxy.html">
<link rel="import" href="chrome_app_permission_view.html">
<link rel="import" href="dom_switch.html">
<link rel="import" href="main_view.html">
<link rel="import" href="notifications_view.html">
<link rel="import" href="pwa_permission_view.html">
<link rel="import" href="router.html">
<link rel="import" href="search_view.html">
<link rel="import" href="store.html">
<link rel="import" href="store_client.html">
<link rel="import" href="chrome://resources/cr_elements/cr_toolbar/cr_toolbar.html">

<link rel="import" href="api_listener.html">

<dom-module id="app-management-app">
  <template>
    <style include="app-management-shared-css">
      :host {
        display: flex;
        flex-direction: column;
        font-size: var(--app-management-font-size);
        height: 100%;
        line-height: var(--app-management-line-height);
        overflow: hidden;
      }

      #main-container {
        flex: 1;
        overflow: auto;
        padding: 0 40px;
      }
    </style>
    <cr-toolbar
        page-name="$i18n{title}"
        search-prompt="$i18n{searchPrompt}"
        on-search-changed="onSearchChanged_">
    </cr-toolbar>
    <div id="main-container">
      <app-management-dom-switch id="view-selector"
          route="[[selectedRouteId_(currentPage_, searchTerm_)]]">
        <template>
          <app-management-main-view route-id="main-view">
          </app-management-main-view>
          <app-management-notifications-view route-id="notifications-view">
          </app-management-notifications-view>
          <app-management-pwa-permission-view route-id="pwa-permission-view">
          </app-management-pwa-permission-view>
          <app-management-chrome-app-permission-view
              route-id="chrome-app-permission-view">
          </app-management-chrome-app-permission-view>
          <app-management-arc-permission-view route-id="arc-permission-view">
          </app-management-arc-permission-view>
          <app-management-search-view route-id="search-view">
          </app-management-search-view>
        </template>
      </app-management-dom-switch>
    </div>
    <app-management-router></app-management-router>
  </template>
  <script src="app.js"></script>
</dom-module>
