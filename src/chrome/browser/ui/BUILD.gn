# Copyright 2014 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.
import("//build/config/chromecast_build.gni")
import("//build/config/compiler/compiler.gni")
import("//build/config/crypto.gni")
import("//build/config/features.gni")
import("//build/config/jumbo.gni")
import("//build/config/ui.gni")
import("//build/split_static_library.gni")
import("//chrome/common/features.gni")
import("//chromeos/assistant/assistant.gni")
import("//components/nacl/features.gni")
import("//components/offline_pages/buildflags/features.gni")
import("//components/signin/features.gni")
import("//extensions/buildflags/buildflags.gni")
import("//ppapi/buildflags/buildflags.gni")
import("//printing/buildflags/buildflags.gni")
import("//rlz/buildflags/buildflags.gni")
import("//ui/base/ui_features.gni")
import("//ui/views/features.gni")

config("ui_warnings") {
  if (is_clang) {
    # TODO(thakis): Remove this once http://crbug.com/383820 is figured out
    cflags = [ "-Wno-nonnull" ]
  }
}

# Use a static library here because many test binaries depend on this but don't
# require many files from it. This makes linking more efficient.
jumbo_split_static_library("ui") {
  # Split into multiple static libraries on Windows builds. We have hit size
  # limits on Windows official builds and on goma builds when symbol_level = 2
  # is selected. Always splitting on Windows builds is simpler than trying to
  # perfectly calculate the scenarios where it is required.
  if (is_win) {
    split_count = 5
  } else {
    split_count = 1
  }

  # The cocoa browser (ie, primary ui) sources. These are in a separate
  # variable temporarily to ease the work on https://crbug.com/804950 and
  # https://crbug.com/802257.
  # TODO(ellyjones): Remove this variable once 804950 and 802257 are fixed.
  if (is_mac) {
    cocoa_browser_sources = [
      "cocoa/animatable_image.h",
      "cocoa/animatable_image.mm",
      "cocoa/animatable_view.h",
      "cocoa/animatable_view.mm",
      "cocoa/app_menu/app_menu_button_cell.h",
      "cocoa/app_menu/app_menu_button_cell.mm",
      "cocoa/app_menu/app_menu_controller.h",
      "cocoa/app_menu/app_menu_controller.mm",
      "cocoa/app_menu/menu_tracked_button.h",
      "cocoa/app_menu/menu_tracked_button.mm",
      "cocoa/app_menu/menu_tracked_root_view.h",
      "cocoa/app_menu/menu_tracked_root_view.mm",
      "cocoa/app_menu/recent_tabs_menu_model_delegate.h",
      "cocoa/app_menu/recent_tabs_menu_model_delegate.mm",
      "cocoa/apps/chrome_app_window_client_views_cocoa.mm",
      "cocoa/apps/native_app_window_cocoa.h",
      "cocoa/apps/native_app_window_cocoa.mm",
      "cocoa/autofill/autofill_bubble_controller.h",
      "cocoa/autofill/autofill_bubble_controller.mm",
      "cocoa/autofill/autofill_dialog_constants.h",
      "cocoa/autofill/autofill_popup_base_view_cocoa.h",
      "cocoa/autofill/autofill_popup_base_view_cocoa.mm",
      "cocoa/autofill/autofill_popup_view_bridge.h",
      "cocoa/autofill/autofill_popup_view_bridge.mm",
      "cocoa/autofill/autofill_popup_view_cocoa.h",
      "cocoa/autofill/autofill_popup_view_cocoa.mm",
      "cocoa/autofill/autofill_tooltip_controller.h",
      "cocoa/autofill/autofill_tooltip_controller.mm",
      "cocoa/autofill/save_card_bubble_view_views.h",
      "cocoa/autofill/save_card_bubble_view_views.mm",
      "cocoa/background_gradient_view.h",
      "cocoa/background_gradient_view.mm",
      "cocoa/base_bubble_controller.h",
      "cocoa/base_bubble_controller.mm",
      "cocoa/bookmarks/bookmark_bar_bridge.h",
      "cocoa/bookmarks/bookmark_bar_bridge.mm",
      "cocoa/bookmarks/bookmark_bar_constants.h",
      "cocoa/bookmarks/bookmark_bar_controller.h",
      "cocoa/bookmarks/bookmark_bar_controller.mm",
      "cocoa/bookmarks/bookmark_bar_folder_button_cell.h",
      "cocoa/bookmarks/bookmark_bar_folder_button_cell.mm",
      "cocoa/bookmarks/bookmark_bar_folder_controller.h",
      "cocoa/bookmarks/bookmark_bar_folder_controller.mm",
      "cocoa/bookmarks/bookmark_bar_folder_hover_state.h",
      "cocoa/bookmarks/bookmark_bar_folder_hover_state.mm",
      "cocoa/bookmarks/bookmark_bar_folder_view.h",
      "cocoa/bookmarks/bookmark_bar_folder_view.mm",
      "cocoa/bookmarks/bookmark_bar_folder_window.h",
      "cocoa/bookmarks/bookmark_bar_folder_window.mm",
      "cocoa/bookmarks/bookmark_bar_state.h",
      "cocoa/bookmarks/bookmark_bar_toolbar_view.h",
      "cocoa/bookmarks/bookmark_bar_toolbar_view.mm",
      "cocoa/bookmarks/bookmark_bar_view_cocoa.h",
      "cocoa/bookmarks/bookmark_bar_view_cocoa.mm",
      "cocoa/bookmarks/bookmark_bubble_observer_cocoa.h",
      "cocoa/bookmarks/bookmark_bubble_observer_cocoa.mm",
      "cocoa/bookmarks/bookmark_bar_util.h",
      "cocoa/bookmarks/bookmark_bar_util.mm",
      "cocoa/bookmarks/bookmark_button.h",
      "cocoa/bookmarks/bookmark_button.mm",
      "cocoa/bookmarks/bookmark_button_cell.h",
      "cocoa/bookmarks/bookmark_button_cell.mm",
      "cocoa/bookmarks/bookmark_context_menu_cocoa_controller.h",
      "cocoa/bookmarks/bookmark_context_menu_cocoa_controller.mm",
      "cocoa/bookmarks/bookmark_drag_drop_cocoa.mm",
      "cocoa/bookmarks/bookmark_folder_target.h",
      "cocoa/bookmarks/bookmark_folder_target.mm",
      "cocoa/bookmarks/bookmark_model_observer_for_cocoa.h",
      "cocoa/bookmarks/bookmark_model_observer_for_cocoa.mm",
      "cocoa/bookmarks/bookmark_tree_browser_cell.h",
      "cocoa/bookmarks/bookmark_tree_browser_cell.mm",
      "cocoa/browser/exclusive_access_controller_views.h",
      "cocoa/browser/exclusive_access_controller_views.mm",
      "cocoa/browser/zoom_bubble_controller.h",
      "cocoa/browser/zoom_bubble_controller.mm",
      "cocoa/browser_dialogs_views_mac.cc",
      "cocoa/browser_dialogs_views_mac.h",
      "cocoa/browser_window_cocoa.h",
      "cocoa/browser_window_cocoa.mm",
      "cocoa/browser_window_cocoa_views_mac.mm",
      "cocoa/browser_window_controller.h",
      "cocoa/browser_window_controller.mm",
      "cocoa/browser_window_controller_private.h",
      "cocoa/browser_window_controller_private.mm",
      "cocoa/browser_window_factory_cocoa.mm",
      "cocoa/browser_window_fullscreen_transition.h",
      "cocoa/browser_window_fullscreen_transition.mm",
      "cocoa/browser_window_layout.h",
      "cocoa/browser_window_layout.mm",
      "cocoa/browser_window_utils.h",
      "cocoa/browser_window_utils.mm",
      "cocoa/bubble_anchor_helper.h",
      "cocoa/bubble_anchor_helper.mm",
      "cocoa/bubble_anchor_helper_views.h",
      "cocoa/bubble_anchor_helper_views.mm",
      "cocoa/bubble_anchor_util_views_mac.mm",
      "cocoa/bubble_combobox.h",
      "cocoa/bubble_combobox.mm",
      "cocoa/bubble_view.h",
      "cocoa/bubble_view.mm",
      "cocoa/certificate_viewer_mac_cocoa.h",
      "cocoa/certificate_viewer_mac_cocoa.mm",
      "cocoa/chrome_browser_window.h",
      "cocoa/chrome_browser_window.mm",
      "cocoa/chrome_event_processing_window.h",
      "cocoa/chrome_event_processing_window.mm",
      "cocoa/clickhold_button_cell.h",
      "cocoa/clickhold_button_cell.mm",
      "cocoa/cocoa_util.h",
      "cocoa/cocoa_util.mm",
      "cocoa/constrained_web_dialog_delegate_mac.mm",
      "cocoa/constrained_window/constrained_window_alert.h",
      "cocoa/constrained_window/constrained_window_alert.mm",
      "cocoa/constrained_window/constrained_window_button.h",
      "cocoa/constrained_window/constrained_window_button.mm",
      "cocoa/constrained_window/constrained_window_control_utils.h",
      "cocoa/constrained_window/constrained_window_control_utils.mm",
      "cocoa/constrained_window/constrained_window_custom_sheet.h",
      "cocoa/constrained_window/constrained_window_custom_sheet.mm",
      "cocoa/constrained_window/constrained_window_custom_window.h",
      "cocoa/constrained_window/constrained_window_custom_window.mm",
      "cocoa/constrained_window/constrained_window_mac.h",
      "cocoa/constrained_window/constrained_window_mac.mm",
      "cocoa/constrained_window/constrained_window_sheet.h",
      "cocoa/constrained_window/constrained_window_sheet_controller.h",
      "cocoa/constrained_window/constrained_window_sheet_controller.mm",
      "cocoa/constrained_window/constrained_window_sheet_info.h",
      "cocoa/constrained_window/constrained_window_sheet_info.mm",
      "cocoa/constrained_window/constrained_window_web_dialog_sheet.h",
      "cocoa/constrained_window/constrained_window_web_dialog_sheet.mm",
      "cocoa/create_native_web_modal_manager_cocoa.mm",
      "cocoa/dev_tools_controller.h",
      "cocoa/dev_tools_controller.mm",
      "cocoa/device_chooser_content_view_cocoa.h",
      "cocoa/device_chooser_content_view_cocoa.mm",
      "cocoa/download/background_theme.h",
      "cocoa/download/background_theme.mm",
      "cocoa/download/download_item_button.h",
      "cocoa/download/download_item_button.mm",
      "cocoa/download/download_item_cell.h",
      "cocoa/download/download_item_cell.mm",
      "cocoa/download/download_item_controller.h",
      "cocoa/download/download_item_controller.mm",
      "cocoa/download/download_item_mac.h",
      "cocoa/download/download_item_mac.mm",
      "cocoa/download/download_item_view_protocol.h",
      "cocoa/download/download_shelf_context_menu_controller.h",
      "cocoa/download/download_shelf_context_menu_controller.mm",
      "cocoa/download/download_shelf_controller.h",
      "cocoa/download/download_shelf_controller.mm",
      "cocoa/download/download_shelf_mac.h",
      "cocoa/download/download_shelf_mac.mm",
      "cocoa/download/download_shelf_view_cocoa.h",
      "cocoa/download/download_shelf_view_cocoa.mm",
      "cocoa/download/download_show_all_button.h",
      "cocoa/download/download_show_all_button.mm",
      "cocoa/download/download_show_all_cell.h",
      "cocoa/download/download_show_all_cell.mm",
      "cocoa/download/download_started_animation_mac.mm",
      "cocoa/download/md_download_item_progress_indicator.h",
      "cocoa/download/md_download_item_progress_indicator.mm",
      "cocoa/download/md_download_item_view.h",
      "cocoa/download/md_download_item_view.mm",
      "cocoa/download/md_download_item_view_testing.h",
      "cocoa/drag_util.h",
      "cocoa/drag_util.mm",
      "cocoa/draggable_button.h",
      "cocoa/draggable_button.mm",
      "cocoa/draggable_button_mixin.h",
      "cocoa/draggable_button_mixin.mm",
      "cocoa/extensions/browser_action_button.h",
      "cocoa/extensions/browser_action_button.mm",
      "cocoa/extensions/browser_actions_container_view.h",
      "cocoa/extensions/browser_actions_container_view.mm",
      "cocoa/extensions/browser_actions_controller.h",
      "cocoa/extensions/browser_actions_controller.mm",
      "cocoa/extensions/extension_action_platform_delegate_cocoa.h",
      "cocoa/extensions/extension_action_platform_delegate_cocoa.mm",
      "cocoa/extensions/extension_keybinding_registry_cocoa.h",
      "cocoa/extensions/extension_keybinding_registry_cocoa.mm",
      "cocoa/extensions/extension_popup_views_mac.h",
      "cocoa/extensions/extension_popup_views_mac.mm",
      "cocoa/extensions/media_galleries_dialog_cocoa.h",
      "cocoa/extensions/media_galleries_dialog_cocoa.mm",
      "cocoa/extensions/media_gallery_list_entry_view.h",
      "cocoa/extensions/media_gallery_list_entry_view.mm",
      "cocoa/extensions/toolbar_actions_bar_bubble_mac.h",
      "cocoa/extensions/toolbar_actions_bar_bubble_mac.mm",
      "cocoa/extensions/toolbar_actions_bar_bubble_views_presenter.h",
      "cocoa/extensions/toolbar_actions_bar_bubble_views_presenter.mm",
      "cocoa/fast_resize_view.h",
      "cocoa/fast_resize_view.mm",
      "cocoa/find_bar/find_bar_bridge.h",
      "cocoa/find_bar/find_bar_bridge.mm",
      "cocoa/find_bar/find_bar_cocoa_controller.h",
      "cocoa/find_bar/find_bar_cocoa_controller.mm",
      "cocoa/find_bar/find_bar_text_field.h",
      "cocoa/find_bar/find_bar_text_field.mm",
      "cocoa/find_bar/find_bar_text_field_cell.h",
      "cocoa/find_bar/find_bar_text_field_cell.mm",
      "cocoa/find_bar/find_bar_view_cocoa.h",
      "cocoa/find_bar/find_bar_view_cocoa.mm",
      "cocoa/floating_bar_backing_view.h",
      "cocoa/floating_bar_backing_view.mm",
      "cocoa/framed_browser_window.h",
      "cocoa/framed_browser_window.mm",
      "cocoa/fullscreen/fullscreen_menubar_tracker.h",
      "cocoa/fullscreen/fullscreen_menubar_tracker.mm",
      "cocoa/fullscreen/fullscreen_toolbar_animation_controller.h",
      "cocoa/fullscreen/fullscreen_toolbar_animation_controller.mm",
      "cocoa/fullscreen/fullscreen_toolbar_controller.h",
      "cocoa/fullscreen/fullscreen_toolbar_controller.mm",
      "cocoa/fullscreen/fullscreen_toolbar_controller_cocoa.h",
      "cocoa/fullscreen/fullscreen_toolbar_controller_cocoa.mm",
      "cocoa/fullscreen/fullscreen_toolbar_controller_views.h",
      "cocoa/fullscreen/fullscreen_toolbar_controller_views.mm",
      "cocoa/fullscreen/fullscreen_toolbar_mouse_tracker.h",
      "cocoa/fullscreen/fullscreen_toolbar_mouse_tracker.mm",
      "cocoa/fullscreen/fullscreen_toolbar_visibility_lock_controller.h",
      "cocoa/fullscreen/fullscreen_toolbar_visibility_lock_controller.mm",
      "cocoa/fullscreen/immersive_fullscreen_controller.h",
      "cocoa/fullscreen/immersive_fullscreen_controller.mm",
      "cocoa/fullscreen_placeholder_view.h",
      "cocoa/fullscreen_placeholder_view.mm",
      "cocoa/fullscreen_window.h",
      "cocoa/fullscreen_window.mm",
      "cocoa/gradient_button_cell.h",
      "cocoa/gradient_button_cell.mm",
      "cocoa/harmony_button.h",
      "cocoa/harmony_button.mm",
      "cocoa/has_weak_browser_pointer.h",
      "cocoa/hover_close_button.h",
      "cocoa/hover_close_button.mm",
      "cocoa/hung_renderer_controller.h",
      "cocoa/hung_renderer_controller.mm",
      "cocoa/image_button_cell.h",
      "cocoa/image_button_cell.mm",
      "cocoa/importer/import_lock_dialog_cocoa.mm",
      "cocoa/info_bubble_view.h",
      "cocoa/info_bubble_view.mm",
      "cocoa/info_bubble_window.h",
      "cocoa/info_bubble_window.mm",
      "cocoa/infobars/after_translate_infobar_controller.h",
      "cocoa/infobars/after_translate_infobar_controller.mm",
      "cocoa/infobars/alternate_nav_infobar_controller.h",
      "cocoa/infobars/alternate_nav_infobar_controller.mm",
      "cocoa/infobars/before_translate_infobar_controller.h",
      "cocoa/infobars/before_translate_infobar_controller.mm",
      "cocoa/infobars/confirm_infobar_controller.h",
      "cocoa/infobars/confirm_infobar_controller.mm",
      "cocoa/infobars/infobar_background_view.h",
      "cocoa/infobars/infobar_background_view.mm",
      "cocoa/infobars/infobar_cocoa.h",
      "cocoa/infobars/infobar_cocoa.mm",
      "cocoa/infobars/infobar_container_cocoa.h",
      "cocoa/infobars/infobar_container_cocoa.mm",
      "cocoa/infobars/infobar_container_controller.h",
      "cocoa/infobars/infobar_container_controller.mm",
      "cocoa/infobars/infobar_controller.h",
      "cocoa/infobars/infobar_controller.mm",
      "cocoa/infobars/infobar_utilities.h",
      "cocoa/infobars/infobar_utilities.mm",
      "cocoa/infobars/translate_infobar_base.h",
      "cocoa/infobars/translate_infobar_base.mm",
      "cocoa/infobars/translate_message_infobar_controller.h",
      "cocoa/infobars/translate_message_infobar_controller.mm",
      "cocoa/javascript_app_modal_dialog_cocoa.h",
      "cocoa/javascript_app_modal_dialog_cocoa.mm",
      "cocoa/location_bar/autocomplete_text_field.h",
      "cocoa/location_bar/autocomplete_text_field.mm",
      "cocoa/location_bar/autocomplete_text_field_cell.h",
      "cocoa/location_bar/autocomplete_text_field_cell.mm",
      "cocoa/location_bar/autocomplete_text_field_editor.h",
      "cocoa/location_bar/autocomplete_text_field_editor.mm",
      "cocoa/location_bar/bubble_decoration.h",
      "cocoa/location_bar/bubble_decoration.mm",
      "cocoa/location_bar/content_setting_decoration.h",
      "cocoa/location_bar/content_setting_decoration.mm",
      "cocoa/location_bar/image_decoration.h",
      "cocoa/location_bar/image_decoration.mm",
      "cocoa/location_bar/keyword_hint_decoration.h",
      "cocoa/location_bar/keyword_hint_decoration.mm",
      "cocoa/location_bar/location_bar_decoration.h",
      "cocoa/location_bar/location_bar_decoration.mm",
      "cocoa/location_bar/location_bar_view_mac.h",
      "cocoa/location_bar/location_bar_view_mac.mm",
      "cocoa/location_bar/manage_passwords_decoration.h",
      "cocoa/location_bar/manage_passwords_decoration.mm",
      "cocoa/location_bar/page_info_bubble_decoration.h",
      "cocoa/location_bar/page_info_bubble_decoration.mm",
      "cocoa/location_bar/save_credit_card_decoration.h",
      "cocoa/location_bar/save_credit_card_decoration.mm",
      "cocoa/location_bar/selected_keyword_decoration.h",
      "cocoa/location_bar/selected_keyword_decoration.mm",
      "cocoa/location_bar/star_decoration.h",
      "cocoa/location_bar/star_decoration.mm",
      "cocoa/location_bar/translate_decoration.h",
      "cocoa/location_bar/translate_decoration.mm",
      "cocoa/location_bar/zoom_decoration.h",
      "cocoa/location_bar/zoom_decoration.mm",
      "cocoa/login_handler_cocoa.h",
      "cocoa/login_handler_cocoa.mm",
      "cocoa/main_menu_item.h",
      "cocoa/menu_button.h",
      "cocoa/menu_button.mm",
      "cocoa/multi_key_equivalent_button.h",
      "cocoa/multi_key_equivalent_button.mm",
      "cocoa/new_tab_button.h",
      "cocoa/new_tab_button_cocoa.mm",
      "cocoa/nsview_additions.h",
      "cocoa/nsview_additions.mm",
      "cocoa/omnibox/omnibox_popup_cell.h",
      "cocoa/omnibox/omnibox_popup_cell.mm",
      "cocoa/omnibox/omnibox_popup_matrix.h",
      "cocoa/omnibox/omnibox_popup_matrix.mm",
      "cocoa/omnibox/omnibox_popup_separator_view.h",
      "cocoa/omnibox/omnibox_popup_separator_view.mm",
      "cocoa/omnibox/omnibox_popup_view_mac.h",
      "cocoa/omnibox/omnibox_popup_view_mac.mm",
      "cocoa/omnibox/omnibox_view_mac.h",
      "cocoa/omnibox/omnibox_view_mac.mm",
      "cocoa/omnibox_decoration_bubble_controller.h",
      "cocoa/omnibox_decoration_bubble_controller.mm",
      "cocoa/one_click_signin_dialog_controller.h",
      "cocoa/one_click_signin_dialog_controller.mm",
      "cocoa/one_click_signin_view_controller.h",
      "cocoa/one_click_signin_view_controller.mm",
      "cocoa/permission_bubble/chooser_bubble_ui_cocoa.h",
      "cocoa/permission_bubble/chooser_bubble_ui_cocoa.mm",
      "cocoa/permission_bubble/chooser_bubble_ui_views_mac.mm",
      "cocoa/permission_bubble/permission_prompt_impl_views_mac.mm",
      "cocoa/profiles/avatar_base_controller.h",
      "cocoa/profiles/avatar_base_controller.mm",
      "cocoa/profiles/avatar_button.h",
      "cocoa/profiles/avatar_button_cocoa.mm",
      "cocoa/profiles/avatar_button_controller.h",
      "cocoa/profiles/avatar_button_controller.mm",
      "cocoa/profiles/avatar_icon_controller.h",
      "cocoa/profiles/avatar_icon_controller.mm",
      "cocoa/profiles/profile_chooser_bridge_views.h",
      "cocoa/profiles/profile_chooser_bridge_views.mm",
      "cocoa/profiles/profile_signin_confirmation_dialog_cocoa.h",
      "cocoa/profiles/profile_signin_confirmation_dialog_cocoa.mm",
      "cocoa/profiles/profile_signin_confirmation_view_controller.h",
      "cocoa/profiles/profile_signin_confirmation_view_controller.mm",
      "cocoa/profiles/signin_view_controller_delegate_mac.h",
      "cocoa/profiles/signin_view_controller_delegate_mac.mm",
      "cocoa/profiles/user_manager_mac.h",
      "cocoa/profiles/user_manager_mac.mm",
      "cocoa/rect_path_utils.h",
      "cocoa/rect_path_utils.mm",
      "cocoa/restart_browser.h",
      "cocoa/restart_browser.mm",
      "cocoa/screen_capture_notification_ui_cocoa.h",
      "cocoa/screen_capture_notification_ui_cocoa.mm",
      "cocoa/separate_fullscreen_window.h",
      "cocoa/separate_fullscreen_window.mm",
      "cocoa/simple_message_box_bridge_views.mm",
      "cocoa/simple_message_box_cocoa.h",
      "cocoa/simple_message_box_cocoa.mm",
      "cocoa/single_web_contents_dialog_manager_cocoa.h",
      "cocoa/single_web_contents_dialog_manager_cocoa.mm",
      "cocoa/spinner_view.h",
      "cocoa/spinner_view.mm",
      "cocoa/ssl_client_certificate_selector_cocoa.h",
      "cocoa/ssl_client_certificate_selector_cocoa.mm",
      "cocoa/spinner_util.h",
      "cocoa/status_bubble_mac.h",
      "cocoa/status_bubble_mac.mm",
      "cocoa/styled_text_field.h",
      "cocoa/styled_text_field.mm",
      "cocoa/styled_text_field_cell.h",
      "cocoa/styled_text_field_cell.mm",
      "cocoa/tab_contents/favicon_util_mac.h",
      "cocoa/tab_contents/favicon_util_mac.mm",
      "cocoa/tab_contents/overlayable_contents_controller.h",
      "cocoa/tab_contents/overlayable_contents_controller.mm",
      "cocoa/tab_contents/sad_tab_mac.mm",
      "cocoa/tab_contents/sad_tab_view_cocoa.h",
      "cocoa/tab_contents/sad_tab_view_cocoa.mm",
      "cocoa/tab_contents/tab_contents_controller.h",
      "cocoa/tab_contents/tab_contents_controller.mm",
      "cocoa/tab_dialogs_cocoa.h",
      "cocoa/tab_dialogs_cocoa.mm",
      "cocoa/tab_dialogs_views_mac.h",
      "cocoa/tab_dialogs_views_mac.mm",
      "cocoa/tab_modal_confirm_dialog_mac.h",
      "cocoa/tab_modal_confirm_dialog_mac.mm",
      "cocoa/tabbed_browser_window.h",
      "cocoa/tabbed_browser_window.mm",
      "cocoa/tabs/alert_indicator_button_cocoa.h",
      "cocoa/tabs/alert_indicator_button_cocoa.mm",
      "cocoa/tabs/tab_controller.h",
      "cocoa/tabs/tab_controller.mm",
      "cocoa/tabs/tab_controller_target.h",
      "cocoa/tabs/tab_favicon_view.h",
      "cocoa/tabs/tab_favicon_view.mm",
      "cocoa/tabs/tab_spinner_view.h",
      "cocoa/tabs/tab_spinner_view.mm",
      "cocoa/tabs/tab_strip_background_view.h",
      "cocoa/tabs/tab_strip_background_view.mm",
      "cocoa/tabs/tab_strip_controller.h",
      "cocoa/tabs/tab_strip_controller.mm",
      "cocoa/tabs/tab_strip_drag_controller.h",
      "cocoa/tabs/tab_strip_drag_controller.mm",
      "cocoa/tabs/tab_strip_model_observer_bridge.h",
      "cocoa/tabs/tab_strip_model_observer_bridge.mm",
      "cocoa/tabs/tab_strip_view.h",
      "cocoa/tabs/tab_strip_view.mm",
      "cocoa/tabs/tab_view.h",
      "cocoa/tabs/tab_view.mm",
      "cocoa/tabs/tab_window_controller.h",
      "cocoa/tabs/tab_window_controller.mm",
      "cocoa/themed_window.h",
      "cocoa/themed_window.mm",
      "cocoa/toolbar/app_toolbar_button.h",
      "cocoa/toolbar/app_toolbar_button.mm",
      "cocoa/toolbar/app_toolbar_button_cell.h",
      "cocoa/toolbar/app_toolbar_button_cell.mm",
      "cocoa/toolbar/back_forward_menu_controller.h",
      "cocoa/toolbar/back_forward_menu_controller.mm",
      "cocoa/toolbar/media_router_action_platform_delegate_cocoa.h",
      "cocoa/toolbar/media_router_action_platform_delegate_cocoa.mm",
      "cocoa/toolbar/reload_button_cocoa.h",
      "cocoa/toolbar/reload_button_cocoa.mm",
      "cocoa/toolbar/toolbar_button_cocoa.h",
      "cocoa/toolbar/toolbar_button_cocoa.mm",
      "cocoa/toolbar/toolbar_controller.h",
      "cocoa/toolbar/toolbar_controller.mm",
      "cocoa/toolbar/toolbar_view_cocoa.h",
      "cocoa/toolbar/toolbar_view_cocoa.mm",
      "cocoa/touchbar/credit_card_autofill_touch_bar_controller.h",
      "cocoa/touchbar/credit_card_autofill_touch_bar_controller.mm",
      "cocoa/touchbar/text_suggestions_touch_bar_controller.h",
      "cocoa/touchbar/text_suggestions_touch_bar_controller.mm",
      "cocoa/touchbar/web_textfield_touch_bar_controller.h",
      "cocoa/touchbar/web_textfield_touch_bar_controller.mm",
      "cocoa/translate/translate_bubble_bridge_views.h",
      "cocoa/translate/translate_bubble_bridge_views.mm",
      "cocoa/url_drop_target.h",
      "cocoa/url_drop_target.mm",
      "cocoa/view_id_util.h",
      "cocoa/view_id_util.mm",
      "cocoa/view_resizer.h",
      "cocoa/web_contents_modal_dialog_manager_views_mac.h",
      "cocoa/web_contents_modal_dialog_manager_views_mac.mm",

      # TODO(estade): this class should be deleted in favor of a combobox model.
      # See crbug.com/590850
      "content_settings/content_setting_media_menu_model.cc",
      "content_settings/content_setting_media_menu_model.h",
      "proximity_auth/proximity_auth_error_bubble_stub.cc",
      "startup/session_crashed_infobar_delegate.cc",
      "startup/session_crashed_infobar_delegate.h",
    ]
  }

  sources = [
    "accelerator_utils.h",
    "app_list/app_list_util.cc",
    "app_list/app_list_util.h",

    # All other browser/ui/app_list files go under enable_app_list below.
    "autofill/autofill_dialog_models.cc",
    "autofill/autofill_dialog_models.h",
    "autofill/autofill_popup_controller.h",
    "autofill/autofill_popup_controller_impl.cc",
    "autofill/autofill_popup_controller_impl.h",
    "autofill/autofill_popup_controller_impl_mac.h",
    "autofill/autofill_popup_controller_impl_mac.mm",
    "autofill/autofill_popup_layout_model.cc",
    "autofill/autofill_popup_layout_model.h",
    "autofill/autofill_popup_view.h",
    "autofill/autofill_popup_view_delegate.h",
    "autofill/chrome_autofill_client.cc",
    "autofill/chrome_autofill_client.h",
    "autofill/create_card_unmask_prompt_view.h",
    "autofill/credit_card_scanner_controller.cc",
    "autofill/credit_card_scanner_controller.h",
    "autofill/credit_card_scanner_view.cc",
    "autofill/credit_card_scanner_view.h",
    "autofill/credit_card_scanner_view_delegate.h",
    "autofill/popup_constants.h",
    "autofill/popup_controller_common.cc",
    "autofill/popup_controller_common.h",
    "autofill/popup_view_common.cc",
    "autofill/popup_view_common.h",
    "bloated_renderer/bloated_renderer_tab_helper.cc",
    "bloated_renderer/bloated_renderer_tab_helper.h",
    "blocked_content/blocked_window_params.cc",
    "blocked_content/blocked_window_params.h",
    "blocked_content/list_item_position.cc",
    "blocked_content/list_item_position.h",
    "blocked_content/popup_blocker_tab_helper.cc",
    "blocked_content/popup_blocker_tab_helper.h",
    "blocked_content/popup_opener_tab_helper.cc",
    "blocked_content/popup_opener_tab_helper.h",
    "blocked_content/popup_tracker.cc",
    "blocked_content/popup_tracker.h",
    "blocked_content/safe_browsing_triggered_popup_blocker.cc",
    "blocked_content/safe_browsing_triggered_popup_blocker.h",
    "blocked_content/scoped_visibility_tracker.cc",
    "blocked_content/scoped_visibility_tracker.h",
    "blocked_content/tab_under_navigation_throttle.cc",
    "blocked_content/tab_under_navigation_throttle.h",
    "bookmarks/bookmark_bar.h",
    "bookmarks/bookmark_bar_instructions_delegate.h",
    "bookmarks/bookmark_bubble_observer.h",
    "bookmarks/bookmark_editor.cc",
    "bookmarks/bookmark_editor.h",
    "bookmarks/bookmark_utils.cc",
    "bookmarks/bookmark_utils.h",
    "bookmarks/recently_used_folders_combo_model.cc",
    "bookmarks/recently_used_folders_combo_model.h",
    "browser_dialogs.cc",
    "browser_dialogs.h",
    "browser_navigator_params.cc",
    "browser_navigator_params.h",
    "browser_ui_prefs.cc",
    "browser_ui_prefs.h",
    "chrome_select_file_policy.cc",
    "chrome_select_file_policy.h",
    "confirm_bubble.h",
    "crypto_module_password_dialog.h",
    "cryptuiapi_shim.h",
    "enterprise_startup_dialog.h",
    "find_bar/find_bar.h",
    "find_bar/find_bar_state.h",
    "find_bar/find_bar_state_factory.cc",
    "find_bar/find_bar_state_factory.h",
    "find_bar/find_notification_details.h",
    "find_bar/find_tab_helper.cc",
    "find_bar/find_tab_helper.h",
    "forced_reauthentication_dialog.h",
    "interventions/framebust_block_message_delegate.cc",
    "interventions/framebust_block_message_delegate.h",
    "interventions/intervention_delegate.h",
    "interventions/intervention_infobar_delegate.cc",
    "interventions/intervention_infobar_delegate.h",
    "javascript_dialogs/chrome_javascript_native_dialog_factory.h",
    "javascript_dialogs/javascript_dialog.h",
    "javascript_dialogs/javascript_dialog_tab_helper.cc",
    "javascript_dialogs/javascript_dialog_tab_helper.h",
    "login/login_handler.cc",
    "login/login_handler.h",
    "login/login_interstitial_delegate.cc",
    "login/login_interstitial_delegate.h",
    "navigation_correction_tab_observer.cc",
    "navigation_correction_tab_observer.h",
    "page_info/page_info.cc",
    "page_info/page_info.h",
    "page_info/page_info_ui.cc",
    "page_info/page_info_ui.h",
    "passwords/account_avatar_fetcher.cc",
    "passwords/account_avatar_fetcher.h",
    "passwords/manage_passwords_state.cc",
    "passwords/manage_passwords_state.h",
    "passwords/manage_passwords_view_utils.cc",
    "passwords/manage_passwords_view_utils.h",
    "passwords/password_access_authenticator.cc",
    "passwords/password_access_authenticator.h",
    "passwords/password_generation_popup_controller.cc",
    "passwords/password_generation_popup_controller.h",
    "passwords/password_generation_popup_controller_impl.cc",
    "passwords/password_generation_popup_controller_impl.h",
    "passwords/password_generation_popup_observer.h",
    "passwords/password_generation_popup_view.cc",
    "passwords/password_generation_popup_view.h",
    "passwords/password_manager_porter.cc",
    "passwords/password_manager_porter.h",
    "passwords/password_manager_presenter.cc",
    "passwords/password_manager_presenter.h",
    "passwords/password_ui_view.h",
    "permission_bubble/permission_prompt.h",
    "prefs/pref_watcher.cc",
    "prefs/pref_watcher.h",
    "prefs/prefs_tab_helper.cc",
    "prefs/prefs_tab_helper.h",
    "profile_chooser_constants.h",
    "profile_error_dialog.cc",
    "profile_error_dialog.h",
    "protocol_dialog_delegate.h",
    "proximity_auth/proximity_auth_error_bubble.h",
    "recently_audible_helper.cc",
    "recently_audible_helper.h",
    "screen_capture_notification_ui.h",
    "search_engines/edit_search_engine_controller.cc",
    "search_engines/edit_search_engine_controller.h",
    "search_engines/keyword_editor_controller.cc",
    "search_engines/keyword_editor_controller.h",
    "search_engines/search_engine_tab_helper.cc",
    "search_engines/search_engine_tab_helper.h",
    "search_engines/template_url_table_model.cc",
    "search_engines/template_url_table_model.h",
    "session_crashed_bubble.h",
    "simple_message_box.h",
    "simple_message_box_internal.cc",
    "simple_message_box_internal.h",
    "startup/bad_flags_prompt.cc",
    "startup/bad_flags_prompt.h",
    "status_bubble.h",
    "sync/bubble_sync_promo_delegate.h",
    "sync/profile_signin_confirmation_helper.cc",
    "sync/profile_signin_confirmation_helper.h",
    "sync/tab_contents_synced_tab_delegate.cc",
    "sync/tab_contents_synced_tab_delegate.h",
    "tab_contents/chrome_web_contents_view_delegate.h",
    "tab_contents/core_tab_helper.cc",
    "tab_contents/core_tab_helper.h",
    "tab_contents/core_tab_helper_delegate.cc",
    "tab_contents/core_tab_helper_delegate.h",
    "tab_dialogs.cc",
    "tab_dialogs.h",
    "tab_helpers.cc",
    "tab_helpers.h",
    "tab_modal_confirm_dialog.h",
    "tab_ui_helper.cc",
    "tab_ui_helper.h",
    "toolbar/chrome_toolbar_model_delegate.cc",
    "toolbar/chrome_toolbar_model_delegate.h",
    "translate/language_combobox_model.cc",
    "translate/language_combobox_model.h",
    "translate/translate_bubble_model.h",
    "translate/translate_bubble_model_impl.cc",
    "translate/translate_bubble_model_impl.h",
    "translate/translate_bubble_view_state_transition.cc",
    "translate/translate_bubble_view_state_transition.h",
    "uninstall_browser_prompt.h",
    "view_ids.h",
    "web_contents_sizer.h",
    "webauthn/authenticator_request_dialog.h",
    "webui/about_ui.cc",
    "webui/about_ui.h",
    "webui/chrome_web_ui_controller_factory.cc",
    "webui/chrome_web_ui_controller_factory.h",
    "webui/components_ui.cc",
    "webui/components_ui.h",
    "webui/constrained_web_dialog_ui.cc",
    "webui/constrained_web_dialog_ui.h",
    "webui/cookies_tree_model_util.cc",
    "webui/cookies_tree_model_util.h",
    "webui/crashes_ui.cc",
    "webui/crashes_ui.h",
    "webui/device_log_ui.cc",
    "webui/device_log_ui.h",
    "webui/domain_reliability_internals_ui.cc",
    "webui/domain_reliability_internals_ui.h",
    "webui/download_internals/download_internals_ui.cc",
    "webui/download_internals/download_internals_ui.h",
    "webui/download_internals/download_internals_ui_message_handler.cc",
    "webui/download_internals/download_internals_ui_message_handler.h",
    "webui/engagement/site_engagement_ui.cc",
    "webui/engagement/site_engagement_ui.h",
    "webui/favicon_source.cc",
    "webui/favicon_source.h",
    "webui/fileicon_source.cc",
    "webui/fileicon_source.h",
    "webui/flags_ui.cc",
    "webui/flags_ui.h",
    "webui/gcm_internals_ui.cc",
    "webui/gcm_internals_ui.h",
    "webui/interstitials/interstitial_ui.cc",
    "webui/interstitials/interstitial_ui.h",
    "webui/interventions_internals/interventions_internals_page_handler.cc",
    "webui/interventions_internals/interventions_internals_page_handler.h",
    "webui/interventions_internals/interventions_internals_ui.cc",
    "webui/interventions_internals/interventions_internals_ui.h",
    "webui/invalidations_message_handler.cc",
    "webui/invalidations_message_handler.h",
    "webui/invalidations_ui.cc",
    "webui/invalidations_ui.h",
    "webui/local_state/local_state_ui.cc",
    "webui/local_state/local_state_ui.h",
    "webui/log_web_ui_url.cc",
    "webui/log_web_ui_url.h",
    "webui/media/media_engagement_ui.cc",
    "webui/media/media_engagement_ui.h",
    "webui/media/webrtc_logs_ui.cc",
    "webui/media/webrtc_logs_ui.h",
    "webui/memory_internals_ui.cc",
    "webui/memory_internals_ui.h",
    "webui/metrics_handler.cc",
    "webui/metrics_handler.h",
    "webui/net_export_ui.cc",
    "webui/net_export_ui.h",
    "webui/net_internals/net_internals_ui.cc",
    "webui/net_internals/net_internals_ui.h",
    "webui/ntp_tiles_internals_ui.cc",
    "webui/ntp_tiles_internals_ui.h",
    "webui/omnibox/omnibox_page_handler.cc",
    "webui/omnibox/omnibox_page_handler.h",
    "webui/omnibox/omnibox_ui.cc",
    "webui/omnibox/omnibox_ui.h",
    "webui/password_manager_internals/password_manager_internals_ui.cc",
    "webui/password_manager_internals/password_manager_internals_ui.h",
    "webui/policy_ui.cc",
    "webui/policy_ui.h",
    "webui/policy_ui_handler.cc",
    "webui/policy_ui_handler.h",
    "webui/predictors/predictors_handler.cc",
    "webui/predictors/predictors_handler.h",
    "webui/predictors/predictors_ui.cc",
    "webui/predictors/predictors_ui.h",
    "webui/prefs_internals_source.cc",
    "webui/prefs_internals_source.h",
    "webui/quota_internals/quota_internals_handler.cc",
    "webui/quota_internals/quota_internals_handler.h",
    "webui/quota_internals/quota_internals_proxy.cc",
    "webui/quota_internals/quota_internals_proxy.h",
    "webui/quota_internals/quota_internals_types.cc",
    "webui/quota_internals/quota_internals_types.h",
    "webui/quota_internals/quota_internals_ui.cc",
    "webui/quota_internals/quota_internals_ui.h",
    "webui/signin_internals_ui.cc",
    "webui/signin_internals_ui.h",
    "webui/supervised_user_internals_message_handler.cc",
    "webui/supervised_user_internals_message_handler.h",
    "webui/supervised_user_internals_ui.cc",
    "webui/supervised_user_internals_ui.h",
    "webui/sync_internals_message_handler.cc",
    "webui/sync_internals_message_handler.h",
    "webui/sync_internals_ui.cc",
    "webui/sync_internals_ui.h",
    "webui/task_scheduler_internals/task_scheduler_internals_ui.cc",
    "webui/task_scheduler_internals/task_scheduler_internals_ui.h",
    "webui/test_files_request_filter.cc",
    "webui/test_files_request_filter.h",
    "webui/translate_internals/translate_internals_handler.cc",
    "webui/translate_internals/translate_internals_handler.h",
    "webui/translate_internals/translate_internals_ui.cc",
    "webui/translate_internals/translate_internals_ui.h",
    "webui/ukm/ukm_internals_ui.cc",
    "webui/ukm/ukm_internals_ui.h",
    "webui/usb_internals/usb_internals_page_handler.cc",
    "webui/usb_internals/usb_internals_page_handler.h",
    "webui/usb_internals/usb_internals_ui.cc",
    "webui/usb_internals/usb_internals_ui.h",
    "webui/user_actions/user_actions_ui.cc",
    "webui/user_actions/user_actions_ui.h",
    "webui/user_actions/user_actions_ui_handler.cc",
    "webui/user_actions/user_actions_ui_handler.h",
    "webui/version_handler.cc",
    "webui/version_handler.h",
    "webui/version_ui.cc",
    "webui/version_ui.h",
    "webui/webui_util.cc",
    "webui/webui_util.h",
  ]

  if (safe_browsing_mode == 1) {
    sources += [
      "webui/reset_password/reset_password_ui.cc",
      "webui/reset_password/reset_password_ui.h",
    ]
  }

  allow_circular_includes_from = []
  defines = []
  libs = []

  configs += [
    ":ui_warnings",
    "//build/config:precompiled_headers",
    "//build/config/compiler:wexit_time_destructors",
  ]

  # Since browser and browser_ui actually depend on each other,
  # we must omit the dependency from browser_ui to browser.
  # However, this means browser_ui and browser should more or less
  # have the same dependencies. Once browser_ui is untangled from
  # browser, then we can clean up these dependencies.
  public_deps = [
    "//components/dom_distiller/core",
    "//components/sync",
    "//components/translate/content/browser",
    "//content/public/browser",
  ]
  deps = [
    "//base",
    "//base:i18n",
    "//base/allocator:buildflags",
    "//cc/paint",
    "//chrome:extra_resources",
    "//chrome:resources",
    "//chrome:strings",
    "//chrome/app:chrome_dll_resources",
    "//chrome/app:command_ids",
    "//chrome/app/resources:platform_locale_settings",
    "//chrome/app/theme:chrome_unscaled_resources",
    "//chrome/app/theme:theme_resources",
    "//chrome/browser:resource_prefetch_predictor_proto",
    "//chrome/browser/devtools",
    "//chrome/browser/engagement:mojo_bindings",
    "//chrome/browser/media:mojo_bindings",
    "//chrome/browser/profiling_host",
    "//chrome/browser/safe_browsing",
    "//chrome/browser/ssl:proto",
    "//chrome/browser/ui/webui/bluetooth_internals",
    "//chrome/browser/ui/webui/interventions_internals:mojo_bindings",
    "//chrome/browser/ui/webui/omnibox:mojo_bindings",
    "//chrome/browser/ui/webui/usb_internals:mojo_bindings",
    "//chrome/common",
    "//chrome/common/net",
    "//chrome/installer/util:with_no_strings",
    "//chromeos/assistant:buildflags",
    "//components/about_ui",
    "//components/account_id",
    "//components/app_modal",
    "//components/autofill/content/browser:risk_proto",
    "//components/autofill/core/browser",
    "//components/bookmarks/browser",
    "//components/bookmarks/managed",
    "//components/browser_sync",
    "//components/browsing_data/content",
    "//components/browsing_data/core",
    "//components/bubble:bubble",
    "//components/consent_auditor/",
    "//components/content_settings/core/browser",
    "//components/crx_file",
    "//components/data_reduction_proxy/core/browser",
    "//components/device_event_log",
    "//components/dom_distiller/content/browser",
    "//components/dom_distiller/webui",
    "//components/domain_reliability",
    "//components/download/content/factory",
    "//components/download/content/public",
    "//components/encrypted_messages:encrypted_message_proto",
    "//components/favicon/content",
    "//components/favicon/core",
    "//components/feature_engagement:buildflags",
    "//components/feedback",
    "//components/flags_ui",
    "//components/gcm_driver",
    "//components/google/core/browser",
    "//components/heap_profiling",
    "//components/history/content/browser",
    "//components/history/core/browser",
    "//components/image_fetcher/core",
    "//components/infobars/core",
    "//components/invalidation/impl",
    "//components/keyed_service/content",
    "//components/keyed_service/core",
    "//components/language/core/browser",
    "//components/language/core/common",
    "//components/metrics_services_manager",
    "//components/navigation_metrics",
    "//components/net_log",
    "//components/ntp_snippets",
    "//components/ntp_tiles",
    "//components/offline_pages/buildflags",
    "//components/omnibox/browser",
    "//components/onc",
    "//components/password_manager/content/browser",
    "//components/password_manager/core/browser",
    "//components/password_manager/sync/browser",
    "//components/payments/content:utils",
    "//components/pdf/browser",
    "//components/policy/core/browser",
    "//components/pref_registry",
    "//components/previews/content",
    "//components/previews/core",
    "//components/proxy_config",
    "//components/query_parser",
    "//components/rappor",
    "//components/renderer_context_menu",
    "//components/resources",
    "//components/safe_browsing:features",
    "//components/safe_browsing/common:safe_browsing_prefs",
    "//components/safe_browsing/db:database_manager",
    "//components/safe_browsing/db:util",
    "//components/safe_browsing/password_protection",
    "//components/safe_browsing/web_ui",
    "//components/search",
    "//components/search_engines",
    "//components/security_interstitials/content:security_interstitial_page",
    "//components/security_interstitials/core",
    "//components/security_state/content",
    "//components/security_state/core",
    "//components/sessions",
    "//components/signin/core/browser",
    "//components/signin/core/browser:signin_buildflags",
    "//components/spellcheck/browser",
    "//components/ssl_errors",
    "//components/startup_metric_utils/browser:lib",
    "//components/strings",
    "//components/subresource_filter/content/browser",
    "//components/subresource_filter/core/browser:browser",
    "//components/supervised_user_error_page",
    "//components/sync",
    "//components/sync_preferences",
    "//components/sync_sessions",
    "//components/toolbar",
    "//components/toolbar:vector_icons",
    "//components/tracing:startup_tracing",
    "//components/ui_devtools",
    "//components/ukm:ukm",
    "//components/ukm/content",
    "//components/ukm/debug:util",
    "//components/undo",
    "//components/unified_consent",
    "//components/update_client",
    "//components/upload_list",
    "//components/url_formatter",
    "//components/user_manager",
    "//components/user_prefs",
    "//components/variations",
    "//components/variations/service",
    "//components/vector_icons",
    "//components/version_ui",
    "//components/web_cache/browser",
    "//components/web_resource",
    "//components/webrtc_logging/browser",
    "//content/app/resources",
    "//content/public/common",
    "//crypto",
    "//device/base",
    "//device/usb",
    "//extensions/buildflags",
    "//media",
    "//net:net",
    "//ppapi/buildflags",
    "//printing/buildflags",
    "//rlz/buildflags",
    "//services/identity/public/cpp",
    "//services/metrics/public/cpp:ukm_builders",
    "//services/network/public/mojom",
    "//services/service_manager/runner/common",
    "//skia",
    "//storage/browser",
    "//storage/common",
    "//third_party/adobe/flash:flapper_version_h",
    "//third_party/blink/public:buildflags",
    "//third_party/blink/public:resources",
    "//third_party/blink/public/common",
    "//third_party/brotli:dec",
    "//third_party/cacheinvalidation",
    "//third_party/icu",
    "//third_party/leveldatabase",
    "//third_party/re2",
    "//third_party/webrtc_overrides",
    "//third_party/zlib",
    "//ui/accessibility",
    "//ui/base",
    "//ui/base/ime",
    "//ui/compositor",
    "//ui/content_accelerators",
    "//ui/display",
    "//ui/display/manager",
    "//ui/events:gesture_detection",
    "//ui/gfx",
    "//ui/gfx/geometry",
    "//ui/message_center",
    "//ui/message_center/public/cpp",
    "//ui/native_theme",
    "//ui/native_theme:native_theme_browser",
    "//ui/resources",
    "//ui/shell_dialogs",
    "//ui/snapshot",
    "//ui/strings",
    "//ui/surface",
    "//ui/web_dialogs",
    "//ui/webui",
    "//v8:v8_version",
  ]
  allow_circular_includes_from +=
      [ "//chrome/browser/ui/webui/bluetooth_internals" ]

  if (is_win || is_mac || is_desktop_linux || is_chromeos) {
    deps += [ "//chrome/browser/ui/webui/discards:mojo_bindings" ]
  }

  if (is_android) {
    deps += [
      "//chrome/browser/ui/webui/eoc_internals:mojo_bindings",
      "//chrome/browser/ui/webui/snippets_internals:mojo_bindings",
    ]
  }

  if (!is_fuchsia) {
    # TODO(crbug.com/753619): Enable crash reporting on Fuchsia.
    deps += [
      "//components/crash/content/app",
      "//components/crash/core/browser",
    ]
  }

  if (is_android || is_linux) {
    sources += [
      "webui/sandbox_internals_ui.cc",
      "webui/sandbox_internals_ui.h",
    ]
  }

  if (is_android) {
    sources += [
      "android/android_about_app_info.cc",
      "android/android_about_app_info.h",
      "android/autofill/autofill_keyboard_accessory_view.cc",
      "android/autofill/autofill_keyboard_accessory_view.h",
      "android/autofill/autofill_logger_android.cc",
      "android/autofill/autofill_logger_android.h",
      "android/autofill/autofill_popup_view_android.cc",
      "android/autofill/autofill_popup_view_android.h",
      "android/autofill/card_unmask_prompt_view_android.cc",
      "android/autofill/card_unmask_prompt_view_android.h",
      "android/autofill/credit_card_scanner_view_android.cc",
      "android/autofill/credit_card_scanner_view_android.h",
      "android/autofill/password_generation_popup_view_android.cc",
      "android/autofill/password_generation_popup_view_android.h",
      "android/bluetooth_chooser_android.cc",
      "android/bluetooth_chooser_android.h",
      "android/chrome_http_auth_handler.cc",
      "android/chrome_http_auth_handler.h",
      "android/color_chooser_dialog_android.cc",
      "android/content_settings/ads_blocked_infobar_delegate.cc",
      "android/content_settings/ads_blocked_infobar_delegate.h",
      "android/content_settings/popup_blocked_infobar_delegate.cc",
      "android/content_settings/popup_blocked_infobar_delegate.h",
      "android/context_menu_helper.cc",
      "android/context_menu_helper.h",
      "android/external_protocol_dialog_android.cc",
      "android/infobars/ads_blocked_infobar.cc",
      "android/infobars/ads_blocked_infobar.h",
      "android/infobars/app_banner_infobar_android.cc",
      "android/infobars/app_banner_infobar_android.h",
      "android/infobars/autofill_credit_card_filling_infobar.cc",
      "android/infobars/autofill_credit_card_filling_infobar.h",
      "android/infobars/autofill_save_card_infobar.cc",
      "android/infobars/autofill_save_card_infobar.h",
      "android/infobars/confirm_infobar.cc",
      "android/infobars/confirm_infobar.h",
      "android/infobars/data_reduction_promo_infobar.cc",
      "android/infobars/data_reduction_promo_infobar.h",
      "android/infobars/download_progress_infobar.cc",
      "android/infobars/download_progress_infobar.h",
      "android/infobars/duplicate_download_infobar.cc",
      "android/infobars/duplicate_download_infobar.h",
      "android/infobars/framebust_block_infobar.cc",
      "android/infobars/framebust_block_infobar.h",
      "android/infobars/generated_password_saved_infobar.cc",
      "android/infobars/generated_password_saved_infobar.h",
      "android/infobars/grouped_permission_infobar.cc",
      "android/infobars/grouped_permission_infobar.h",
      "android/infobars/infobar_android.cc",
      "android/infobars/infobar_android.h",
      "android/infobars/infobar_container_android.cc",
      "android/infobars/infobar_container_android.h",
      "android/infobars/installable_ambient_badge_infobar.cc",
      "android/infobars/installable_ambient_badge_infobar.h",
      "android/infobars/instant_apps_infobar.cc",
      "android/infobars/instant_apps_infobar.h",
      "android/infobars/near_oom_infobar.cc",
      "android/infobars/near_oom_infobar.h",
      "android/infobars/near_oom_reduction_infobar.cc",
      "android/infobars/near_oom_reduction_infobar.h",
      "android/infobars/permission_infobar.cc",
      "android/infobars/permission_infobar.h",
      "android/infobars/previews_infobar.cc",
      "android/infobars/previews_infobar.h",
      "android/infobars/reader_mode_infobar.cc",
      "android/infobars/reader_mode_infobar.h",
      "android/infobars/save_password_infobar.cc",
      "android/infobars/save_password_infobar.h",
      "android/infobars/search_geolocation_disclosure_infobar.cc",
      "android/infobars/search_geolocation_disclosure_infobar.h",
      "android/infobars/simple_confirm_infobar_builder.cc",
      "android/infobars/survey_infobar.cc",
      "android/infobars/survey_infobar.h",
      "android/infobars/translate_compact_infobar.cc",
      "android/infobars/translate_compact_infobar.h",
      "android/infobars/update_password_infobar.cc",
      "android/infobars/update_password_infobar.h",
      "android/javascript_app_modal_dialog_android.cc",
      "android/javascript_app_modal_dialog_android.h",
      "android/javascript_dialog_android.cc",
      "android/javascript_dialog_android.h",
      "android/login_handler_android.cc",
      "android/omnibox/omnibox_url_emphasizer.cc",
      "android/omnibox/omnibox_url_emphasizer.h",
      "android/omnibox/omnibox_view_util.cc",
      "android/omnibox/omnibox_view_util.h",
      "android/overlay/overlay_window_android.cc",
      "android/page_info/certificate_chain_helper.cc",
      "android/page_info/certificate_viewer_android.cc",
      "android/page_info/connection_info_popup_android.cc",
      "android/page_info/connection_info_popup_android.h",
      "android/page_info/page_info_controller_android.cc",
      "android/page_info/page_info_controller_android.h",
      "android/simple_message_box_android.cc",
      "android/snackbars/auto_signin_prompt_controller.cc",
      "android/snackbars/auto_signin_prompt_controller.h",
      "android/ssl_client_certificate_request.cc",
      "android/status_tray_android.cc",
      "android/tab_contents/chrome_web_contents_view_delegate_android.cc",
      "android/tab_contents/chrome_web_contents_view_delegate_android.h",
      "android/tab_model/android_live_tab_context.cc",
      "android/tab_model/android_live_tab_context.h",
      "android/tab_model/single_tab_model.cc",
      "android/tab_model/tab_model.cc",
      "android/tab_model/tab_model.h",
      "android/tab_model/tab_model_jni_bridge.cc",
      "android/tab_model/tab_model_jni_bridge.h",
      "android/tab_model/tab_model_list.cc",
      "android/tab_model/tab_model_list.h",
      "android/tab_model/tab_model_list_observer.h",
      "android/tab_model/tab_model_observer.cc",
      "android/tab_model/tab_model_observer.h",
      "android/tab_model/tab_model_observer_jni_bridge.cc",
      "android/tab_model/tab_model_observer_jni_bridge.h",
      "android/toolbar/toolbar_model_android.cc",
      "android/toolbar/toolbar_model_android.h",
      "android/usb_chooser_dialog_android.cc",
      "android/usb_chooser_dialog_android.h",
      "android/view_android_helper.cc",
      "android/view_android_helper.h",
      "browser_otr_state_android.cc",
      "screen_capture_notification_ui_stub.cc",
      "webui/eoc_internals/eoc_internals_page_handler.cc",
      "webui/eoc_internals/eoc_internals_page_handler.h",
      "webui/eoc_internals/eoc_internals_ui.cc",
      "webui/eoc_internals/eoc_internals_ui.h",
      "webui/offline/offline_internals_ui.cc",
      "webui/offline/offline_internals_ui.h",
      "webui/offline/offline_internals_ui_message_handler.cc",
      "webui/offline/offline_internals_ui_message_handler.h",
      "webui/snippets_internals/snippets_internals_page_handler.cc",
      "webui/snippets_internals/snippets_internals_page_handler.h",
      "webui/snippets_internals/snippets_internals_ui.cc",
      "webui/snippets_internals/snippets_internals_ui.h",
      "webui/webapks_handler.cc",
      "webui/webapks_handler.h",
      "webui/webapks_ui.cc",
      "webui/webapks_ui.h",
    ]
    deps += [
      "//chrome/browser:jni_headers",
      "//components/embedder_support/android:web_contents_delegate",
      "//components/navigation_interception",
      "//components/subresource_filter/core/browser:browser",
      "//crypto:platform",
      "//device/usb/mojo",
      "//device/usb/public/cpp",
      "//device/usb/public/mojom",
      "//device/vr/buildflags",
      "//ui/android",
    ]
  } else {
    # !is_android
    sources += [
      "apps/app_info_dialog.h",
      "apps/chrome_app_delegate.cc",
      "apps/chrome_app_delegate.h",
      "apps/chrome_app_window_client.cc",
      "apps/chrome_app_window_client.h",
      "apps/directory_access_confirmation_dialog.cc",
      "apps/directory_access_confirmation_dialog.h",
      "blocked_content/framebust_block_tab_helper.cc",
      "blocked_content/framebust_block_tab_helper.h",
      "blocked_content/popunder_preventer.cc",
      "blocked_content/popunder_preventer.h",
      "bluetooth/bluetooth_chooser_controller.cc",
      "bluetooth/bluetooth_chooser_controller.h",
      "bluetooth/bluetooth_chooser_desktop.cc",
      "bluetooth/bluetooth_chooser_desktop.h",
      "bluetooth/chrome_extension_bluetooth_chooser.cc",
      "bluetooth/chrome_extension_bluetooth_chooser.h",
      "bookmarks/bookmark_bubble_sign_in_delegate.cc",
      "bookmarks/bookmark_bubble_sign_in_delegate.h",
      "bookmarks/bookmark_context_menu_controller.cc",
      "bookmarks/bookmark_context_menu_controller.h",
      "bookmarks/bookmark_drag_drop.cc",
      "bookmarks/bookmark_drag_drop.h",
      "bookmarks/bookmark_tab_helper.cc",
      "bookmarks/bookmark_tab_helper.h",
      "bookmarks/bookmark_tab_helper_observer.h",
      "bookmarks/bookmark_utils_desktop.cc",
      "bookmarks/bookmark_utils_desktop.h",
      "bookmarks/enhanced_bookmark_key_service.cc",
      "bookmarks/enhanced_bookmark_key_service.h",
      "bookmarks/enhanced_bookmark_key_service_factory.cc",
      "bookmarks/enhanced_bookmark_key_service_factory.h",
      "browser.cc",
      "browser.h",
      "browser_command_controller.cc",
      "browser_command_controller.h",
      "browser_commands.cc",
      "browser_commands.h",
      "browser_content_setting_bubble_model_delegate.cc",
      "browser_content_setting_bubble_model_delegate.h",
      "browser_finder.cc",
      "browser_finder.h",
      "browser_instant_controller.cc",
      "browser_instant_controller.h",
      "browser_list.cc",
      "browser_list.h",
      "browser_list_observer.h",
      "browser_live_tab_context.cc",
      "browser_live_tab_context.h",
      "browser_navigator.cc",
      "browser_navigator.h",
      "browser_otr_state.cc",
      "browser_otr_state.h",
      "browser_tab_restorer.cc",
      "browser_tab_strip_model_delegate.cc",
      "browser_tab_strip_model_delegate.h",
      "browser_tab_strip_tracker.cc",
      "browser_tab_strip_tracker.h",
      "browser_tab_strip_tracker_delegate.h",
      "browser_tabrestore.cc",
      "browser_tabrestore.h",
      "browser_tabstrip.cc",
      "browser_tabstrip.h",
      "browser_toolbar_model_delegate.cc",
      "browser_toolbar_model_delegate.h",
      "browser_view_prefs.cc",
      "browser_view_prefs.h",
      "browser_window.h",
      "browser_window_state.cc",
      "browser_window_state.h",
      "chrome_bubble_manager.cc",
      "chrome_bubble_manager.h",
      "chrome_pages.cc",
      "chrome_pages.h",
      "chrome_web_modal_dialog_manager_delegate.cc",
      "chrome_web_modal_dialog_manager_delegate.h",
      "collected_cookies_infobar_delegate.cc",
      "collected_cookies_infobar_delegate.h",
      "confirm_bubble_model.cc",
      "confirm_bubble_model.h",
      "content_settings/content_setting_bubble_model.cc",
      "content_settings/content_setting_bubble_model.h",
      "content_settings/content_setting_bubble_model_delegate.h",
      "content_settings/content_setting_image_model.cc",
      "content_settings/content_setting_image_model.h",
      "exclusive_access/exclusive_access_bubble.cc",
      "exclusive_access/exclusive_access_bubble.h",
      "exclusive_access/exclusive_access_bubble_hide_callback.h",
      "exclusive_access/exclusive_access_bubble_type.cc",
      "exclusive_access/exclusive_access_bubble_type.h",
      "exclusive_access/exclusive_access_context.cc",
      "exclusive_access/exclusive_access_context.h",
      "exclusive_access/exclusive_access_controller_base.cc",
      "exclusive_access/exclusive_access_controller_base.h",
      "exclusive_access/exclusive_access_manager.cc",
      "exclusive_access/exclusive_access_manager.h",
      "exclusive_access/fullscreen_controller.cc",
      "exclusive_access/fullscreen_controller.h",
      "exclusive_access/fullscreen_within_tab_helper.cc",
      "exclusive_access/fullscreen_within_tab_helper.h",
      "exclusive_access/keyboard_lock_controller.cc",
      "exclusive_access/keyboard_lock_controller.h",
      "exclusive_access/mouse_lock_controller.cc",
      "exclusive_access/mouse_lock_controller.h",
      "fast_unload_controller.cc",
      "fast_unload_controller.h",
      "find_bar/find_bar_controller.cc",
      "find_bar/find_bar_controller.h",
      "find_bar/find_bar_platform_helper.cc",
      "find_bar/find_bar_platform_helper.h",
      "find_bar/find_bar_platform_helper_mac.mm",
      "global_error/global_error.cc",
      "global_error/global_error.h",
      "global_error/global_error_bubble_view_base.h",
      "global_error/global_error_service.cc",
      "global_error/global_error_service.h",
      "global_error/global_error_service_factory.cc",
      "global_error/global_error_service_factory.h",
      "hung_renderer/hung_renderer_core.cc",
      "hung_renderer/hung_renderer_core.h",
      "javascript_dialogs/javascript_dialog_views.cc",
      "javascript_dialogs/javascript_dialog_views.h",
      "layout_constants.cc",
      "layout_constants.h",
      "location_bar/location_bar.cc",
      "location_bar/location_bar.h",
      "media_router/cast_dialog_controller.h",
      "media_router/cast_dialog_model.cc",
      "media_router/cast_dialog_model.h",
      "media_router/cast_modes_with_media_sources.cc",
      "media_router/cast_modes_with_media_sources.h",
      "media_router/cloud_services_dialog.h",
      "media_router/media_cast_mode.cc",
      "media_router/media_cast_mode.h",
      "media_router/media_router_dialog_controller_impl_base.cc",
      "media_router/media_router_dialog_controller_impl_base.h",
      "media_router/media_router_file_dialog.cc",
      "media_router/media_router_file_dialog.h",
      "media_router/media_router_ui_base.cc",
      "media_router/media_router_ui_base.h",
      "media_router/media_router_ui_helper.cc",
      "media_router/media_router_ui_helper.h",
      "media_router/media_router_ui_service.cc",
      "media_router/media_router_ui_service.h",
      "media_router/media_router_ui_service_factory.cc",
      "media_router/media_router_ui_service_factory.h",
      "media_router/media_sink_with_cast_modes.cc",
      "media_router/media_sink_with_cast_modes.h",
      "media_router/presentation_receiver_window.h",
      "media_router/presentation_receiver_window_controller.cc",
      "media_router/presentation_receiver_window_controller.h",
      "media_router/presentation_receiver_window_delegate.h",
      "media_router/presentation_receiver_window_factory_mac.cc",
      "media_router/query_result_manager.cc",
      "media_router/query_result_manager.h",
      "media_router/ui_media_sink.cc",
      "media_router/ui_media_sink.h",
      "native_window_tracker.h",
      "omnibox/alternate_nav_infobar_delegate.cc",
      "omnibox/alternate_nav_infobar_delegate.h",
      "omnibox/chrome_omnibox_client.cc",
      "omnibox/chrome_omnibox_client.h",
      "omnibox/chrome_omnibox_edit_controller.cc",
      "omnibox/chrome_omnibox_edit_controller.h",
      "omnibox/chrome_omnibox_navigation_observer.cc",
      "omnibox/chrome_omnibox_navigation_observer.h",
      "omnibox/clipboard_utils.cc",
      "omnibox/clipboard_utils.h",
      "omnibox/lookalike_url_navigation_observer.cc",
      "omnibox/lookalike_url_navigation_observer.h",
      "omnibox/omnibox_theme.cc",
      "omnibox/omnibox_theme.h",
      "page_action/page_action_icon_container.h",
      "page_info/page_info_dialog.cc",
      "page_info/page_info_dialog.h",
      "page_info/page_info_infobar_delegate.cc",
      "page_info/page_info_infobar_delegate.h",
      "page_info/permission_menu_model.cc",
      "page_info/permission_menu_model.h",
      "passwords/manage_passwords_bubble_model.cc",
      "passwords/manage_passwords_bubble_model.h",
      "passwords/manage_passwords_icon_view.h",
      "passwords/manage_passwords_ui_controller.cc",
      "passwords/manage_passwords_ui_controller.h",
      "passwords/password_dialog_controller.h",
      "passwords/password_dialog_controller_impl.cc",
      "passwords/password_dialog_controller_impl.h",
      "passwords/password_dialog_prompts.h",
      "passwords/passwords_client_ui_delegate.cc",
      "passwords/passwords_client_ui_delegate.h",
      "passwords/passwords_model_delegate.cc",
      "passwords/passwords_model_delegate.h",
      "pdf/adobe_reader_info_win.cc",
      "pdf/adobe_reader_info_win.h",
      "pdf/chrome_pdf_web_contents_helper_client.cc",
      "pdf/chrome_pdf_web_contents_helper_client.h",
      "permission_bubble/chooser_bubble_delegate.cc",
      "permission_bubble/chooser_bubble_delegate.h",
      "sad_tab.cc",
      "sad_tab.h",
      "sad_tab_helper.cc",
      "sad_tab_helper.h",
      "sad_tab_types.h",
      "scoped_tabbed_browser_displayer.cc",
      "scoped_tabbed_browser_displayer.h",
      "search/instant_controller.cc",
      "search/instant_controller.h",
      "search/new_tab_page_navigation_throttle.cc",
      "search/new_tab_page_navigation_throttle.h",
      "search/ntp_user_data_logger.cc",
      "search/ntp_user_data_logger.h",
      "search/ntp_user_data_types.h",
      "search/search_ipc_router.cc",
      "search/search_ipc_router.h",
      "search/search_ipc_router_policy_impl.cc",
      "search/search_ipc_router_policy_impl.h",
      "search/search_tab_helper.cc",
      "search/search_tab_helper.h",
      "singleton_tabs.cc",
      "singleton_tabs.h",
      "startup/automation_infobar_delegate.cc",
      "startup/automation_infobar_delegate.h",
      "startup/google_api_keys_infobar_delegate.cc",
      "startup/google_api_keys_infobar_delegate.h",
      "startup/obsolete_system_infobar_delegate.cc",
      "startup/obsolete_system_infobar_delegate.h",
      "startup/startup_browser_creator.cc",
      "startup/startup_browser_creator.h",
      "startup/startup_browser_creator_impl.cc",
      "startup/startup_browser_creator_impl.h",
      "startup/startup_tab.cc",
      "startup/startup_tab.h",
      "startup/startup_tab_provider.cc",
      "startup/startup_tab_provider.h",
      "startup/startup_types.h",
      "sync/browser_synced_tab_delegate.cc",
      "sync/browser_synced_tab_delegate.h",
      "sync/browser_synced_window_delegate.cc",
      "sync/browser_synced_window_delegate.h",
      "sync/browser_synced_window_delegates_getter.cc",
      "sync/browser_synced_window_delegates_getter.h",
      "sync/sync_promo_ui.cc",
      "sync/sync_promo_ui.h",
      "tab_contents/tab_contents_iterator.cc",
      "tab_contents/tab_contents_iterator.h",
      "tab_modal_confirm_dialog_delegate.cc",
      "tab_modal_confirm_dialog_delegate.h",
      "tabs/hover_tab_selector.cc",
      "tabs/hover_tab_selector.h",
      "tabs/pinned_tab_codec.cc",
      "tabs/pinned_tab_codec.h",
      "tabs/pinned_tab_service.cc",
      "tabs/pinned_tab_service.h",
      "tabs/pinned_tab_service_factory.cc",
      "tabs/pinned_tab_service_factory.h",
      "tabs/tab_change_type.h",
      "tabs/tab_menu_model.cc",
      "tabs/tab_menu_model.h",
      "tabs/tab_network_state.cc",
      "tabs/tab_network_state.h",
      "tabs/tab_strip_model.cc",
      "tabs/tab_strip_model.h",
      "tabs/tab_strip_model_delegate.cc",
      "tabs/tab_strip_model_delegate.h",
      "tabs/tab_strip_model_observer.cc",
      "tabs/tab_strip_model_observer.h",
      "tabs/tab_strip_model_order_controller.cc",
      "tabs/tab_strip_model_order_controller.h",
      "tabs/tab_strip_model_stats_recorder.cc",
      "tabs/tab_strip_model_stats_recorder.h",
      "tabs/tab_utils.cc",
      "tabs/tab_utils.h",
      "tabs/window_activity_watcher.cc",
      "tabs/window_activity_watcher.h",
      "task_manager/task_manager_columns.cc",
      "task_manager/task_manager_columns.h",
      "task_manager/task_manager_table_model.cc",
      "task_manager/task_manager_table_model.h",
      "toolbar/app_menu_icon_controller.cc",
      "toolbar/app_menu_icon_controller.h",
      "toolbar/app_menu_model.cc",
      "toolbar/app_menu_model.h",
      "toolbar/back_forward_menu_model.cc",
      "toolbar/back_forward_menu_model.h",
      "toolbar/bookmark_sub_menu_model.cc",
      "toolbar/bookmark_sub_menu_model.h",
      "toolbar/component_action_delegate.h",
      "toolbar/component_toolbar_actions_factory.cc",
      "toolbar/component_toolbar_actions_factory.h",
      "toolbar/media_router_action.cc",
      "toolbar/media_router_action.h",
      "toolbar/media_router_action_controller.cc",
      "toolbar/media_router_action_controller.h",
      "toolbar/media_router_action_platform_delegate.h",
      "toolbar/media_router_contextual_menu.cc",
      "toolbar/media_router_contextual_menu.h",
      "toolbar/recent_tabs_sub_menu_model.cc",
      "toolbar/recent_tabs_sub_menu_model.h",
      "toolbar/toolbar_action_view_controller.h",
      "toolbar/toolbar_action_view_delegate.h",
      "toolbar/toolbar_actions_bar.cc",
      "toolbar/toolbar_actions_bar.h",
      "toolbar/toolbar_actions_bar_bubble_delegate.h",
      "toolbar/toolbar_actions_bar_delegate.h",
      "toolbar/toolbar_actions_bar_observer.h",
      "translate/translate_bubble_factory.cc",
      "translate/translate_bubble_factory.h",
      "uma_browsing_activity_observer.cc",
      "uma_browsing_activity_observer.h",
      "unload_controller.cc",
      "unload_controller.h",
      "webui/app_launcher_login_handler.cc",
      "webui/app_launcher_login_handler.h",
      "webui/browsing_history_handler.cc",
      "webui/browsing_history_handler.h",
      "webui/chrome_web_contents_handler.cc",
      "webui/chrome_web_contents_handler.h",
      "webui/constrained_web_dialog_delegate_base.cc",
      "webui/constrained_web_dialog_delegate_base.h",
      "webui/devtools_ui.cc",
      "webui/devtools_ui.h",
      "webui/extensions/extensions_internals_source.cc",
      "webui/extensions/extensions_internals_source.h",
      "webui/extensions/extensions_ui.cc",
      "webui/extensions/extensions_ui.h",
      "webui/foreign_session_handler.cc",
      "webui/foreign_session_handler.h",
      "webui/help/version_updater.h",
      "webui/history_login_handler.cc",
      "webui/history_login_handler.h",
      "webui/identity_internals_ui.cc",
      "webui/identity_internals_ui.h",
      "webui/inspect_ui.cc",
      "webui/inspect_ui.h",
      "webui/md_bookmarks/bookmarks_message_handler.cc",
      "webui/md_bookmarks/bookmarks_message_handler.h",
      "webui/md_bookmarks/md_bookmarks_ui.cc",
      "webui/md_bookmarks/md_bookmarks_ui.h",
      "webui/md_downloads/downloads_list_tracker.cc",
      "webui/md_downloads/downloads_list_tracker.h",
      "webui/md_downloads/md_downloads_dom_handler.cc",
      "webui/md_downloads/md_downloads_dom_handler.h",
      "webui/md_downloads/md_downloads_ui.cc",
      "webui/md_downloads/md_downloads_ui.h",
      "webui/md_history_ui.cc",
      "webui/md_history_ui.h",
      "webui/media_router/media_router_dialog_controller_webui_impl.cc",
      "webui/media_router/media_router_dialog_controller_webui_impl.h",
      "webui/media_router/media_router_internals_ui.cc",
      "webui/media_router/media_router_internals_ui.h",
      "webui/media_router/media_router_internals_webui_message_handler.cc",
      "webui/media_router/media_router_internals_webui_message_handler.h",
      "webui/media_router/media_router_localized_strings_provider.cc",
      "webui/media_router/media_router_localized_strings_provider.h",
      "webui/media_router/media_router_resources_provider.cc",
      "webui/media_router/media_router_resources_provider.h",
      "webui/media_router/media_router_ui.cc",
      "webui/media_router/media_router_ui.h",
      "webui/media_router/media_router_webui_message_handler.cc",
      "webui/media_router/media_router_webui_message_handler.h",
      "webui/media_router/web_contents_display_observer.h",
      "webui/ntp/app_icon_webui_handler.cc",
      "webui/ntp/app_icon_webui_handler.h",
      "webui/ntp/app_launcher_handler.cc",
      "webui/ntp/app_launcher_handler.h",
      "webui/ntp/app_resource_cache_factory.cc",
      "webui/ntp/app_resource_cache_factory.h",
      "webui/ntp/core_app_launcher_handler.cc",
      "webui/ntp/core_app_launcher_handler.h",
      "webui/ntp/new_tab_ui.cc",
      "webui/ntp/new_tab_ui.h",
      "webui/ntp/ntp_resource_cache.cc",
      "webui/ntp/ntp_resource_cache.h",
      "webui/ntp/ntp_resource_cache_factory.cc",
      "webui/ntp/ntp_resource_cache_factory.h",
      "webui/page_not_available_for_guest/page_not_available_for_guest_ui.cc",
      "webui/page_not_available_for_guest/page_not_available_for_guest_ui.h",
      "webui/plural_string_handler.cc",
      "webui/plural_string_handler.h",
      "webui/policy_indicator_localized_strings_provider.cc",
      "webui/policy_indicator_localized_strings_provider.h",
      "webui/policy_tool_ui.cc",
      "webui/policy_tool_ui.h",
      "webui/policy_tool_ui_handler.cc",
      "webui/policy_tool_ui_handler.h",
      "webui/profile_info_watcher.cc",
      "webui/profile_info_watcher.h",
      "webui/set_as_default_browser_ui_win.cc",
      "webui/set_as_default_browser_ui_win.h",
      "webui/settings/about_handler.cc",
      "webui/settings/about_handler.h",
      "webui/settings/appearance_handler.cc",
      "webui/settings/appearance_handler.h",
      "webui/settings/browser_lifetime_handler.cc",
      "webui/settings/browser_lifetime_handler.h",
      "webui/settings/change_password_handler.cc",
      "webui/settings/change_password_handler.h",
      "webui/settings/custom_home_pages_table_model.cc",
      "webui/settings/custom_home_pages_table_model.h",
      "webui/settings/downloads_handler.cc",
      "webui/settings/downloads_handler.h",
      "webui/settings/extension_control_handler.cc",
      "webui/settings/extension_control_handler.h",
      "webui/settings/font_handler.cc",
      "webui/settings/font_handler.h",
      "webui/settings/languages_handler.cc",
      "webui/settings/languages_handler.h",
      "webui/settings/md_settings_localized_strings_provider.cc",
      "webui/settings/md_settings_localized_strings_provider.h",
      "webui/settings/md_settings_ui.cc",
      "webui/settings/md_settings_ui.h",
      "webui/settings/metrics_reporting_handler.cc",
      "webui/settings/metrics_reporting_handler.h",
      "webui/settings/on_startup_handler.cc",
      "webui/settings/on_startup_handler.h",
      "webui/settings/people_handler.cc",
      "webui/settings/people_handler.h",
      "webui/settings/profile_info_handler.cc",
      "webui/settings/profile_info_handler.h",
      "webui/settings/protocol_handlers_handler.cc",
      "webui/settings/protocol_handlers_handler.h",
      "webui/settings/reset_settings_handler.cc",
      "webui/settings/reset_settings_handler.h",
      "webui/settings/safe_browsing_handler.cc",
      "webui/settings/safe_browsing_handler.h",
      "webui/settings/search_engines_handler.cc",
      "webui/settings/search_engines_handler.h",
      "webui/settings/settings_clear_browsing_data_handler.cc",
      "webui/settings/settings_clear_browsing_data_handler.h",
      "webui/settings/settings_cookies_view_handler.cc",
      "webui/settings/settings_cookies_view_handler.h",
      "webui/settings/settings_import_data_handler.cc",
      "webui/settings/settings_import_data_handler.h",
      "webui/settings/settings_media_devices_selection_handler.cc",
      "webui/settings/settings_media_devices_selection_handler.h",
      "webui/settings/settings_page_ui_handler.cc",
      "webui/settings/settings_page_ui_handler.h",
      "webui/settings/settings_startup_pages_handler.cc",
      "webui/settings/settings_startup_pages_handler.h",
      "webui/settings/site_settings_handler.cc",
      "webui/settings/site_settings_handler.h",
      "webui/settings_utils.cc",
      "webui/settings_utils.h",
      "webui/signin/login_ui_service.cc",
      "webui/signin/login_ui_service.h",
      "webui/signin/login_ui_service_factory.cc",
      "webui/signin/login_ui_service_factory.h",
      "webui/signin/signin_utils.cc",
      "webui/signin/signin_utils.h",
      "webui/site_settings_helper.cc",
      "webui/site_settings_helper.h",
      "webui/sync_file_system_internals/dump_database_handler.cc",
      "webui/sync_file_system_internals/dump_database_handler.h",
      "webui/sync_file_system_internals/extension_statuses_handler.cc",
      "webui/sync_file_system_internals/extension_statuses_handler.h",
      "webui/sync_file_system_internals/file_metadata_handler.cc",
      "webui/sync_file_system_internals/file_metadata_handler.h",
      "webui/sync_file_system_internals/sync_file_system_internals_handler.cc",
      "webui/sync_file_system_internals/sync_file_system_internals_handler.h",
      "webui/sync_file_system_internals/sync_file_system_internals_ui.cc",
      "webui/sync_file_system_internals/sync_file_system_internals_ui.h",
      "webui/system_info_ui.cc",
      "webui/system_info_ui.h",
      "webui/theme_handler.cc",
      "webui/theme_handler.h",
      "webui/theme_source.cc",
      "webui/theme_source.h",
      "window_sizer/window_sizer.cc",
      "window_sizer/window_sizer.h",
      "zoom/chrome_zoom_level_otr_delegate.cc",
      "zoom/chrome_zoom_level_otr_delegate.h",
      "zoom/chrome_zoom_level_prefs.cc",
      "zoom/chrome_zoom_level_prefs.h",
    ]
    deps += [
      "//chrome/app/vector_icons",
      "//chrome/browser:theme_properties",
      "//chrome/browser/apps/foundation/app_service/public/mojom",
      "//chrome/browser/media/router",
      "//chrome/browser/profile_resetter:profile_reset_report_proto",
      "//chrome/browser/resource_coordinator:tab_metrics_event_proto",
      "//chrome/browser/resource_coordinator/tab_ranker",
      "//chrome/common:buildflags",
      "//chrome/common:search_mojom",
      "//components/feedback/proto",
      "//components/keep_alive_registry",
      "//components/network_session_configurator/common",
      "//components/ui_metrics",
      "//components/vector_icons",
      "//components/vector_icons",
      "//components/web_modal",
      "//components/zoom",
      "//device/bluetooth",
      "//mash/public/mojom",
      "//services/device/public/cpp:device_features",
      "//services/device/public/mojom",
      "//services/identity/public/cpp",
      "//services/metrics/public/cpp:metrics_cpp",
      "//third_party/libaddressinput",
      "//third_party/libaddressinput:strings",
      "//ui/events",
    ]

    if (use_ozone && !is_chromeos) {
      deps += [ "//ui/ozone" ]
    }

    if (!toolkit_views) {
      sources += [ "media_router/cloud_services_dialog.cc" ]
    }

    if (enable_extensions) {
      deps += [
        "//chrome/browser/web_applications/components",
        "//chrome/browser/web_applications/extensions",
      ]
    }
  }

  if (enable_supervised_users && !is_android && !is_chromeos) {
    sources += [
      "startup/supervised_users_deprecated_infobar_delegate.cc",
      "startup/supervised_users_deprecated_infobar_delegate.h",
    ]
  }

  if (is_chromeos) {
    assert(enable_extensions)
    assert(toolkit_views)
    never_build_jumbo = true
    sources += [
      "app_list/app_sync_ui_state.cc",
      "app_list/app_sync_ui_state.h",
      "app_list/app_sync_ui_state_factory.cc",
      "app_list/app_sync_ui_state_factory.h",
      "app_list/app_sync_ui_state_observer.h",
      "app_list/app_sync_ui_state_watcher.cc",
      "app_list/app_sync_ui_state_watcher.h",
      "app_list/search/launcher_search/launcher_search_icon_image_loader.cc",
      "app_list/search/launcher_search/launcher_search_icon_image_loader.h",
      "app_list/search/launcher_search/launcher_search_icon_image_loader_impl.cc",
      "app_list/search/launcher_search/launcher_search_icon_image_loader_impl.h",
      "app_list/search/launcher_search/launcher_search_provider.cc",
      "app_list/search/launcher_search/launcher_search_provider.h",
      "app_list/search/launcher_search/launcher_search_result.cc",
      "app_list/search/launcher_search/launcher_search_result.h",
      "ash/accessibility/accessibility_controller_client.cc",
      "ash/accessibility/accessibility_controller_client.h",
      "ash/ash_shell_init.cc",
      "ash/ash_shell_init.h",
      "ash/ash_util.cc",
      "ash/ash_util.h",
      "ash/browser_image_registrar.cc",
      "ash/browser_image_registrar.h",
      "ash/cast_config_client_media_router.cc",
      "ash/cast_config_client_media_router.h",
      "ash/chrome_browser_main_extra_parts_ash.cc",
      "ash/chrome_browser_main_extra_parts_ash.h",
      "ash/chrome_keyboard_ui.cc",
      "ash/chrome_keyboard_ui.h",
      "ash/chrome_keyboard_web_contents.cc",
      "ash/chrome_keyboard_web_contents.h",
      "ash/chrome_launcher_prefs.cc",
      "ash/chrome_launcher_prefs.h",
      "ash/chrome_new_window_client.cc",
      "ash/chrome_new_window_client.h",
      "ash/chrome_screenshot_grabber.cc",
      "ash/chrome_screenshot_grabber.h",
      "ash/chrome_screenshot_grabber_test_observer.h",
      "ash/chrome_shell_delegate.cc",
      "ash/chrome_shell_delegate.h",
      "ash/ime_controller_client.cc",
      "ash/ime_controller_client.h",
      "ash/keyboard_ui_service.cc",
      "ash/keyboard_ui_service.h",
      "ash/ksv/keyboard_shortcut_viewer_util.cc",
      "ash/ksv/keyboard_shortcut_viewer_util.h",
      "ash/launcher/app_shortcut_launcher_item_controller.cc",
      "ash/launcher/app_shortcut_launcher_item_controller.h",
      "ash/launcher/app_window_launcher_controller.cc",
      "ash/launcher/app_window_launcher_controller.h",
      "ash/launcher/app_window_launcher_item_controller.cc",
      "ash/launcher/app_window_launcher_item_controller.h",
      "ash/launcher/arc_playstore_shortcut_launcher_item_controller.cc",
      "ash/launcher/arc_playstore_shortcut_launcher_item_controller.h",
      "ash/launcher/browser_shortcut_launcher_item_controller.cc",
      "ash/launcher/browser_shortcut_launcher_item_controller.h",
      "ash/launcher/browser_status_monitor.cc",
      "ash/launcher/browser_status_monitor.h",
      "ash/launcher/chrome_launcher_controller.cc",
      "ash/launcher/chrome_launcher_controller.h",
      "ash/launcher/chrome_launcher_controller_util.cc",
      "ash/launcher/chrome_launcher_controller_util.h",
      "ash/launcher/discover_window_observer.cc",
      "ash/launcher/discover_window_observer.h",
      "ash/launcher/extension_app_window_launcher_controller.cc",
      "ash/launcher/extension_app_window_launcher_controller.h",
      "ash/launcher/extension_app_window_launcher_item_controller.cc",
      "ash/launcher/extension_app_window_launcher_item_controller.h",
      "ash/launcher/extension_launcher_context_menu.cc",
      "ash/launcher/extension_launcher_context_menu.h",
      "ash/launcher/launcher_app_updater.cc",
      "ash/launcher/launcher_app_updater.h",
      "ash/launcher/launcher_context_menu.cc",
      "ash/launcher/launcher_context_menu.h",
      "ash/launcher/launcher_controller_helper.cc",
      "ash/launcher/launcher_controller_helper.h",
      "ash/launcher/launcher_extension_app_updater.cc",
      "ash/launcher/launcher_extension_app_updater.h",
      "ash/launcher/multi_profile_app_window_launcher_controller.cc",
      "ash/launcher/multi_profile_app_window_launcher_controller.h",
      "ash/launcher/multi_profile_browser_status_monitor.cc",
      "ash/launcher/multi_profile_browser_status_monitor.h",
      "ash/launcher/settings_window_observer.cc",
      "ash/launcher/settings_window_observer.h",
      "ash/login_screen_client.cc",
      "ash/login_screen_client.h",
      "ash/media_client.cc",
      "ash/media_client.h",
      "ash/multi_user/multi_user_context_menu.h",
      "ash/multi_user/multi_user_context_menu_chromeos.cc",
      "ash/multi_user/multi_user_util.cc",
      "ash/multi_user/multi_user_util.h",
      "ash/multi_user/multi_user_window_manager.cc",
      "ash/multi_user/multi_user_window_manager.h",
      "ash/multi_user/multi_user_window_manager_chromeos.cc",
      "ash/multi_user/multi_user_window_manager_chromeos.h",
      "ash/multi_user/multi_user_window_manager_stub.cc",
      "ash/multi_user/multi_user_window_manager_stub.h",
      "ash/multi_user/user_switch_animator_chromeos.cc",
      "ash/multi_user/user_switch_animator_chromeos.h",
      "ash/network/data_promo_notification.cc",
      "ash/network/data_promo_notification.h",
      "ash/network/enrollment_dialog_view.cc",
      "ash/network/enrollment_dialog_view.h",
      "ash/network/network_connect_delegate_chromeos.cc",
      "ash/network/network_connect_delegate_chromeos.h",
      "ash/network/network_portal_notification_controller.cc",
      "ash/network/network_portal_notification_controller.h",
      "ash/network/network_state_notifier.cc",
      "ash/network/network_state_notifier.h",
      "ash/network/tether_notification_presenter.cc",
      "ash/network/tether_notification_presenter.h",
      "ash/screen_orientation_delegate_chromeos.cc",
      "ash/screen_orientation_delegate_chromeos.h",
      "ash/session_controller_client.cc",
      "ash/session_controller_client.h",
      "ash/session_util.cc",
      "ash/session_util.h",
      "ash/system_tray_client.cc",
      "ash/system_tray_client.h",
      "ash/tab_scrubber.cc",
      "ash/tab_scrubber.h",
      "ash/tablet_mode_client.cc",
      "ash/tablet_mode_client.h",
      "ash/tablet_mode_client_observer.h",
      "ash/test_ime_controller.cc",
      "ash/test_ime_controller.h",
      "ash/volume_controller.cc",
      "ash/volume_controller.h",
      "ash/vpn_list_forwarder.cc",
      "ash/vpn_list_forwarder.h",
      "ash/wallpaper_controller_client.cc",
      "ash/wallpaper_controller_client.h",
      "ash/wallpaper_policy_handler.cc",
      "ash/wallpaper_policy_handler.h",
      "ash/window_properties.cc",
      "ash/window_properties.h",
      "browser_commands_chromeos.cc",
      "browser_commands_chromeos.h",
      "extensions/extension_installed_notification.cc",
      "extensions/extension_installed_notification.h",
      "platform_keys_certificate_selector_chromeos.h",
      "settings_window_manager_chromeos.cc",
      "settings_window_manager_chromeos.h",
      "settings_window_manager_observer_chromeos.h",
      "views/apps/app_info_dialog/arc_app_info_links_panel.cc",
      "views/apps/app_info_dialog/arc_app_info_links_panel.h",
      "views/apps/chrome_native_app_window_views_aura_ash.cc",
      "views/apps/chrome_native_app_window_views_aura_ash.h",
      "views/chrome_views_delegate_chromeos.cc",
      "views/extensions/request_file_system_dialog_view.cc",
      "views/extensions/request_file_system_dialog_view.h",
      "views/frame/browser_frame_ash.cc",
      "views/frame/browser_frame_ash.h",
      "views/frame/browser_frame_mash.cc",
      "views/frame/browser_frame_mash.h",
      "views/frame/browser_non_client_frame_view_ash.cc",
      "views/frame/browser_non_client_frame_view_ash.h",
      "views/frame/immersive_context_mus.cc",
      "views/frame/immersive_context_mus.h",
      "views/frame/immersive_focus_watcher_mus.cc",
      "views/frame/immersive_focus_watcher_mus.h",
      "views/frame/immersive_handler_factory_mus.cc",
      "views/frame/immersive_handler_factory_mus.h",
      "views/frame/immersive_mode_controller_ash.cc",
      "views/frame/immersive_mode_controller_ash.h",
      "views/frame/native_browser_frame_factory_chromeos.cc",
      "views/ime_driver/input_method_bridge_chromeos.cc",
      "views/ime_driver/input_method_bridge_chromeos.h",
      "views/intent_picker_bubble_view.cc",
      "views/intent_picker_bubble_view.h",
      "views/location_bar/intent_picker_view.cc",
      "views/location_bar/intent_picker_view.h",
      "views/platform_keys_certificate_selector_chromeos.cc",
      "views/platform_keys_certificate_selector_chromeos.h",

      # On chromeos, file manager extension handles the file open/save dialog.
      "views/select_file_dialog_extension.cc",
      "views/select_file_dialog_extension.h",
      "views/select_file_dialog_extension_factory.cc",
      "views/select_file_dialog_extension_factory.h",
      "webui/chromeos/assistant_optin/assistant_optin_handler.cc",
      "webui/chromeos/assistant_optin/assistant_optin_handler.h",
      "webui/chromeos/assistant_optin/assistant_optin_ui.cc",
      "webui/chromeos/assistant_optin/assistant_optin_ui.h",
      "webui/chromeos/assistant_optin/assistant_optin_utils.cc",
      "webui/chromeos/assistant_optin/assistant_optin_utils.h",
      "webui/chromeos/assistant_optin/get_more_screen_handler.cc",
      "webui/chromeos/assistant_optin/get_more_screen_handler.h",
      "webui/chromeos/assistant_optin/ready_screen_handler.cc",
      "webui/chromeos/assistant_optin/ready_screen_handler.h",
      "webui/chromeos/assistant_optin/third_party_screen_handler.cc",
      "webui/chromeos/assistant_optin/third_party_screen_handler.h",
      "webui/chromeos/assistant_optin/value_prop_screen_handler.cc",
      "webui/chromeos/assistant_optin/value_prop_screen_handler.h",
      "webui/chromeos/bluetooth_dialog_localized_strings_provider.cc",
      "webui/chromeos/bluetooth_dialog_localized_strings_provider.h",
      "webui/chromeos/bluetooth_pairing_dialog.cc",
      "webui/chromeos/bluetooth_pairing_dialog.h",
      "webui/chromeos/certificate_manager_dialog_ui.cc",
      "webui/chromeos/certificate_manager_dialog_ui.h",
      "webui/chromeos/cryptohome_ui.cc",
      "webui/chromeos/cryptohome_ui.h",
      "webui/chromeos/cryptohome_web_ui_handler.cc",
      "webui/chromeos/cryptohome_web_ui_handler.h",
      "webui/chromeos/drive_internals_ui.cc",
      "webui/chromeos/drive_internals_ui.h",
      "webui/chromeos/first_run/first_run_actor.cc",
      "webui/chromeos/first_run/first_run_actor.h",
      "webui/chromeos/first_run/first_run_handler.cc",
      "webui/chromeos/first_run/first_run_handler.h",
      "webui/chromeos/first_run/first_run_ui.cc",
      "webui/chromeos/first_run/first_run_ui.h",
      "webui/chromeos/image_source.cc",
      "webui/chromeos/image_source.h",
      "webui/chromeos/internet_config_dialog.cc",
      "webui/chromeos/internet_config_dialog.h",
      "webui/chromeos/internet_detail_dialog.cc",
      "webui/chromeos/internet_detail_dialog.h",
      "webui/chromeos/keyboard_overlay_ui.cc",
      "webui/chromeos/keyboard_overlay_ui.h",
      "webui/chromeos/login/active_directory_password_change_screen_handler.cc",
      "webui/chromeos/login/active_directory_password_change_screen_handler.h",
      "webui/chromeos/login/app_downloading_screen_handler.cc",
      "webui/chromeos/login/app_downloading_screen_handler.h",
      "webui/chromeos/login/app_launch_splash_screen_handler.cc",
      "webui/chromeos/login/app_launch_splash_screen_handler.h",
      "webui/chromeos/login/arc_kiosk_splash_screen_handler.cc",
      "webui/chromeos/login/arc_kiosk_splash_screen_handler.h",
      "webui/chromeos/login/arc_terms_of_service_screen_handler.cc",
      "webui/chromeos/login/arc_terms_of_service_screen_handler.h",
      "webui/chromeos/login/assistant_optin_flow_screen_handler.cc",
      "webui/chromeos/login/assistant_optin_flow_screen_handler.h",
      "webui/chromeos/login/auto_enrollment_check_screen_handler.cc",
      "webui/chromeos/login/auto_enrollment_check_screen_handler.h",
      "webui/chromeos/login/base_screen_handler.cc",
      "webui/chromeos/login/base_screen_handler.h",
      "webui/chromeos/login/base_webui_handler.cc",
      "webui/chromeos/login/base_webui_handler.h",
      "webui/chromeos/login/controller_pairing_screen_handler.cc",
      "webui/chromeos/login/controller_pairing_screen_handler.h",
      "webui/chromeos/login/core_oobe_handler.cc",
      "webui/chromeos/login/core_oobe_handler.h",
      "webui/chromeos/login/demo_preferences_screen_handler.cc",
      "webui/chromeos/login/demo_preferences_screen_handler.h",
      "webui/chromeos/login/demo_setup_screen_handler.cc",
      "webui/chromeos/login/demo_setup_screen_handler.h",
      "webui/chromeos/login/device_disabled_screen_handler.cc",
      "webui/chromeos/login/device_disabled_screen_handler.h",
      "webui/chromeos/login/discover/discover_handler.cc",
      "webui/chromeos/login/discover/discover_handler.h",
      "webui/chromeos/login/discover/discover_manager.cc",
      "webui/chromeos/login/discover/discover_manager.h",
      "webui/chromeos/login/discover/discover_ui.cc",
      "webui/chromeos/login/discover/discover_ui.h",
      "webui/chromeos/login/discover/discover_window_manager.cc",
      "webui/chromeos/login/discover/discover_window_manager.h",
      "webui/chromeos/login/discover/discover_window_manager_observer.h",
      "webui/chromeos/login/discover/modules/discover_module_launch_help_app.cc",
      "webui/chromeos/login/discover/modules/discover_module_launch_help_app.h",
      "webui/chromeos/login/discover/modules/discover_module_redeem_offers.cc",
      "webui/chromeos/login/discover/modules/discover_module_redeem_offers.h",
      "webui/chromeos/login/discover/modules/discover_module_sync_files.cc",
      "webui/chromeos/login/discover/modules/discover_module_sync_files.h",
      "webui/chromeos/login/discover/modules/discover_module_welcome.cc",
      "webui/chromeos/login/discover/modules/discover_module_welcome.h",
      "webui/chromeos/login/discover_screen_handler.cc",
      "webui/chromeos/login/discover_screen_handler.h",
      "webui/chromeos/login/enable_debugging_screen_handler.cc",
      "webui/chromeos/login/enable_debugging_screen_handler.h",
      "webui/chromeos/login/encryption_migration_screen_handler.cc",
      "webui/chromeos/login/encryption_migration_screen_handler.h",
      "webui/chromeos/login/enrollment_screen_handler.cc",
      "webui/chromeos/login/enrollment_screen_handler.h",
      "webui/chromeos/login/error_screen_handler.cc",
      "webui/chromeos/login/error_screen_handler.h",
      "webui/chromeos/login/eula_screen_handler.cc",
      "webui/chromeos/login/eula_screen_handler.h",
      "webui/chromeos/login/fingerprint_setup_screen_handler.cc",
      "webui/chromeos/login/fingerprint_setup_screen_handler.h",
      "webui/chromeos/login/gaia_screen_handler.cc",
      "webui/chromeos/login/gaia_screen_handler.h",
      "webui/chromeos/login/hid_detection_screen_handler.cc",
      "webui/chromeos/login/hid_detection_screen_handler.h",
      "webui/chromeos/login/host_pairing_screen_handler.cc",
      "webui/chromeos/login/host_pairing_screen_handler.h",
      "webui/chromeos/login/kiosk_app_menu_handler.cc",
      "webui/chromeos/login/kiosk_app_menu_handler.h",
      "webui/chromeos/login/kiosk_autolaunch_screen_handler.cc",
      "webui/chromeos/login/kiosk_autolaunch_screen_handler.h",
      "webui/chromeos/login/kiosk_enable_screen_handler.cc",
      "webui/chromeos/login/kiosk_enable_screen_handler.h",
      "webui/chromeos/login/l10n_util.cc",
      "webui/chromeos/login/l10n_util.h",
      "webui/chromeos/login/marketing_opt_in_screen_handler.cc",
      "webui/chromeos/login/marketing_opt_in_screen_handler.h",
      "webui/chromeos/login/native_window_delegate.h",
      "webui/chromeos/login/network_dropdown_handler.cc",
      "webui/chromeos/login/network_dropdown_handler.h",
      "webui/chromeos/login/network_screen_handler.cc",
      "webui/chromeos/login/network_screen_handler.h",
      "webui/chromeos/login/network_state_informer.cc",
      "webui/chromeos/login/network_state_informer.h",
      "webui/chromeos/login/oobe_display_chooser.cc",
      "webui/chromeos/login/oobe_display_chooser.h",
      "webui/chromeos/login/oobe_ui.cc",
      "webui/chromeos/login/oobe_ui.h",
      "webui/chromeos/login/recommend_apps_screen_handler.cc",
      "webui/chromeos/login/recommend_apps_screen_handler.h",
      "webui/chromeos/login/reset_screen_handler.cc",
      "webui/chromeos/login/reset_screen_handler.h",
      "webui/chromeos/login/screenlock_icon_provider.cc",
      "webui/chromeos/login/screenlock_icon_provider.h",
      "webui/chromeos/login/screenlock_icon_source.cc",
      "webui/chromeos/login/screenlock_icon_source.h",
      "webui/chromeos/login/signin_screen_handler.cc",
      "webui/chromeos/login/signin_screen_handler.h",
      "webui/chromeos/login/supervised_user_creation_screen_handler.cc",
      "webui/chromeos/login/supervised_user_creation_screen_handler.h",
      "webui/chromeos/login/sync_consent_screen_handler.cc",
      "webui/chromeos/login/sync_consent_screen_handler.h",
      "webui/chromeos/login/terms_of_service_screen_handler.cc",
      "webui/chromeos/login/terms_of_service_screen_handler.h",
      "webui/chromeos/login/update_required_screen_handler.cc",
      "webui/chromeos/login/update_required_screen_handler.h",
      "webui/chromeos/login/update_screen_handler.cc",
      "webui/chromeos/login/update_screen_handler.h",
      "webui/chromeos/login/user_board_screen_handler.cc",
      "webui/chromeos/login/user_board_screen_handler.h",
      "webui/chromeos/login/user_image_screen_handler.cc",
      "webui/chromeos/login/user_image_screen_handler.h",
      "webui/chromeos/login/voice_interaction_value_prop_screen_handler.cc",
      "webui/chromeos/login/voice_interaction_value_prop_screen_handler.h",
      "webui/chromeos/login/wait_for_container_ready_screen_handler.cc",
      "webui/chromeos/login/wait_for_container_ready_screen_handler.h",
      "webui/chromeos/login/welcome_screen_handler.cc",
      "webui/chromeos/login/welcome_screen_handler.h",
      "webui/chromeos/login/wrong_hwid_screen_handler.cc",
      "webui/chromeos/login/wrong_hwid_screen_handler.h",
      "webui/chromeos/mobile_setup_dialog.cc",
      "webui/chromeos/mobile_setup_dialog.h",
      "webui/chromeos/mobile_setup_ui.cc",
      "webui/chromeos/mobile_setup_ui.h",
      "webui/chromeos/multidevice_setup/multidevice_setup_dialog.cc",
      "webui/chromeos/multidevice_setup/multidevice_setup_dialog.h",
      "webui/chromeos/multidevice_setup/multidevice_setup_handler.cc",
      "webui/chromeos/multidevice_setup/multidevice_setup_handler.h",
      "webui/chromeos/network_element_localized_strings_provider.cc",
      "webui/chromeos/network_element_localized_strings_provider.h",
      "webui/chromeos/network_ui.cc",
      "webui/chromeos/network_ui.h",
      "webui/chromeos/power_ui.cc",
      "webui/chromeos/power_ui.h",
      "webui/chromeos/set_time_ui.cc",
      "webui/chromeos/set_time_ui.h",
      "webui/chromeos/slow_trace_ui.cc",
      "webui/chromeos/slow_trace_ui.h",
      "webui/chromeos/slow_ui.cc",
      "webui/chromeos/slow_ui.h",
      "webui/chromeos/sys_internals/sys_internals_message_handler.cc",
      "webui/chromeos/sys_internals/sys_internals_message_handler.h",
      "webui/chromeos/sys_internals/sys_internals_ui.cc",
      "webui/chromeos/sys_internals/sys_internals_ui.h",
      "webui/chromeos/system_web_dialog_delegate.cc",
      "webui/chromeos/system_web_dialog_delegate.h",
      "webui/chromeos/user_image_source.cc",
      "webui/chromeos/user_image_source.h",
      "webui/extensions/chromeos/kiosk_apps_handler.cc",
      "webui/extensions/chromeos/kiosk_apps_handler.h",
      "webui/help/help_utils_chromeos.cc",
      "webui/help/help_utils_chromeos.h",
      "webui/help/version_updater_chromeos.cc",
      "webui/help/version_updater_chromeos.h",
      "webui/settings/chromeos/accessibility_handler.cc",
      "webui/settings/chromeos/accessibility_handler.h",
      "webui/settings/chromeos/account_manager_handler.cc",
      "webui/settings/chromeos/account_manager_handler.h",
      "webui/settings/chromeos/android_apps_handler.cc",
      "webui/settings/chromeos/android_apps_handler.h",
      "webui/settings/chromeos/change_picture_handler.cc",
      "webui/settings/chromeos/change_picture_handler.h",
      "webui/settings/chromeos/crostini_handler.cc",
      "webui/settings/chromeos/crostini_handler.h",
      "webui/settings/chromeos/cups_printers_handler.cc",
      "webui/settings/chromeos/cups_printers_handler.h",
      "webui/settings/chromeos/date_time_handler.cc",
      "webui/settings/chromeos/date_time_handler.h",
      "webui/settings/chromeos/device_keyboard_handler.cc",
      "webui/settings/chromeos/device_keyboard_handler.h",
      "webui/settings/chromeos/device_pointer_handler.cc",
      "webui/settings/chromeos/device_pointer_handler.h",
      "webui/settings/chromeos/device_power_handler.cc",
      "webui/settings/chromeos/device_power_handler.h",
      "webui/settings/chromeos/device_storage_handler.cc",
      "webui/settings/chromeos/device_storage_handler.h",
      "webui/settings/chromeos/device_stylus_handler.cc",
      "webui/settings/chromeos/device_stylus_handler.h",
      "webui/settings/chromeos/easy_unlock_settings_handler.cc",
      "webui/settings/chromeos/easy_unlock_settings_handler.h",
      "webui/settings/chromeos/fingerprint_handler.cc",
      "webui/settings/chromeos/fingerprint_handler.h",
      "webui/settings/chromeos/google_assistant_handler.cc",
      "webui/settings/chromeos/google_assistant_handler.h",
      "webui/settings/chromeos/internet_handler.cc",
      "webui/settings/chromeos/internet_handler.h",
      "webui/settings/chromeos/multidevice_handler.cc",
      "webui/settings/chromeos/multidevice_handler.h",
      "webui/settings/chromeos/smb_handler.cc",
      "webui/settings/chromeos/smb_handler.h",
      "webui/settings/tts_handler.cc",
      "webui/settings/tts_handler.h",
      "webui/signin/inline_login_handler_chromeos.cc",
      "webui/signin/inline_login_handler_chromeos.h",
      "webui/signin/inline_login_handler_dialog_chromeos.cc",
      "webui/signin/inline_login_handler_dialog_chromeos.h",
      "webui/version_handler_chromeos.cc",
      "webui/version_handler_chromeos.h",
      "window_sizer/window_sizer_ash.cc",
    ]
    deps += [
      "//ash",
      "//ash:ash_with_content",
      "//ash/components/shortcut_viewer:lib",
      "//ash/components/shortcut_viewer/public/mojom",
      "//ash/public/cpp",
      "//ash/public/cpp/resources:ash_public_unscaled_resources",
      "//ash/public/cpp/vector_icons",
      "//ash/strings",
      "//chrome/browser/chromeos",
      "//chromeos:cryptohome_proto",
      "//chromeos/components/proximity_auth",
      "//chromeos/components/proximity_auth/logging",
      "//chromeos/components/proximity_auth/webui",
      "//chromeos/components/tether",
      "//chromeos/resources:resources_grit",
      "//chromeos/services/assistant/public/mojom",
      "//chromeos/services/assistant/public/proto:proto",
      "//chromeos/services/multidevice_setup/public/cpp:cpp",
      "//chromeos/services/multidevice_setup/public/cpp:url_provider",
      "//chromeos/services/multidevice_setup/public/mojom",
      "//components/arc",
      "//components/captive_portal",
      "//components/consent_auditor:consent_auditor",
      "//components/cryptauth",
      "//components/drive:drive_chromeos",
      "//components/exo",
      "//components/login",
      "//components/session_manager/core",
      "//components/user_manager",
      "//services/data_decoder/public/cpp",
      "//services/device/public/cpp:device_features",
      "//services/device/public/mojom",
      "//services/ws/public/cpp",
      "//services/ws/public/mojom",
      "//ui/base/ime",
      "//ui/chromeos",
      "//ui/chromeos/events",
      "//ui/compositor_extra",
      "//ui/keyboard",
      "//ui/keyboard:mojom",
    ]
    allow_circular_includes_from += [ "//chrome/browser/chromeos" ]

    if (!is_official_build) {
      sources += [
        "webui/chromeos/emulator/device_emulator_message_handler.cc",
        "webui/chromeos/emulator/device_emulator_message_handler.h",
        "webui/chromeos/emulator/device_emulator_ui.cc",
        "webui/chromeos/emulator/device_emulator_ui.h",
      ]
    }

    if (use_cras) {
      defines += [ "USE_CRAS" ]
    }
  }

  if (is_win || is_mac || is_desktop_linux || is_chromeos) {
    sources += [
      "signin_view_controller.cc",
      "signin_view_controller.h",
      "signin_view_controller_delegate.cc",
      "signin_view_controller_delegate.h",
      "webui/discards/discards_ui.cc",
      "webui/discards/discards_ui.h",
      "webui/signin/inline_login_handler.cc",
      "webui/signin/inline_login_handler.h",
      "webui/signin/inline_login_ui.cc",
      "webui/signin/inline_login_ui.h",
    ]
    deps += [ "//ui/webui" ]
  }

  if (is_win || is_mac || is_desktop_linux) {
    sources += [
      "avatar_button_error_controller.cc",
      "avatar_button_error_controller.h",
      "avatar_button_error_controller_delegate.h",
      "external_protocol_dialog_delegate.cc",
      "external_protocol_dialog_delegate.h",
      "startup/default_browser_infobar_delegate.cc",
      "startup/default_browser_infobar_delegate.h",
      "startup/default_browser_prompt.cc",
      "startup/default_browser_prompt.h",
      "sync/one_click_signin_links_delegate.h",
      "sync/one_click_signin_links_delegate_impl.cc",
      "sync/one_click_signin_links_delegate_impl.h",
      "sync/one_click_signin_sync_observer.cc",
      "sync/one_click_signin_sync_observer.h",
      "sync/one_click_signin_sync_starter.cc",
      "sync/one_click_signin_sync_starter.h",
      "user_manager.cc",
      "user_manager.h",
      "views/close_bubble_on_tab_activation_helper.cc",
      "views/close_bubble_on_tab_activation_helper.h",
      "views/external_protocol_dialog.cc",
      "views/external_protocol_dialog.h",
      "views/profiles/badged_profile_photo.cc",
      "views/profiles/badged_profile_photo.h",
      "views/profiles/dice_accounts_menu.cc",
      "views/profiles/dice_accounts_menu.h",
      "views/profiles/profile_chooser_view.cc",
      "views/profiles/profile_chooser_view.h",
      "webui/app_launcher_page_ui.cc",
      "webui/app_launcher_page_ui.h",
      "webui/profile_helper.cc",
      "webui/profile_helper.h",
      "webui/settings/settings_default_browser_handler.cc",
      "webui/settings/settings_default_browser_handler.h",
      "webui/settings/settings_manage_profile_handler.cc",
      "webui/settings/settings_manage_profile_handler.h",
      "webui/settings/system_handler.cc",
      "webui/settings/system_handler.h",
      "webui/signin/inline_login_handler_impl.cc",
      "webui/signin/inline_login_handler_impl.h",
      "webui/signin/md_user_manager_ui.cc",
      "webui/signin/md_user_manager_ui.h",
      "webui/signin/signin_create_profile_handler.cc",
      "webui/signin/signin_create_profile_handler.h",
      "webui/signin/signin_email_confirmation_dialog.cc",
      "webui/signin/signin_email_confirmation_dialog.h",
      "webui/signin/signin_email_confirmation_ui.cc",
      "webui/signin/signin_email_confirmation_ui.h",
      "webui/signin/signin_error_handler.cc",
      "webui/signin/signin_error_handler.h",
      "webui/signin/signin_error_ui.cc",
      "webui/signin/signin_error_ui.h",
      "webui/signin/signin_utils_desktop.cc",
      "webui/signin/signin_utils_desktop.h",
      "webui/signin/signin_web_dialog_ui.cc",
      "webui/signin/signin_web_dialog_ui.h",
      "webui/signin/sync_confirmation_handler.cc",
      "webui/signin/sync_confirmation_handler.h",
      "webui/signin/sync_confirmation_ui.cc",
      "webui/signin/sync_confirmation_ui.h",
      "webui/signin/user_manager_screen_handler.cc",
      "webui/signin/user_manager_screen_handler.h",
      "webui/welcome_handler.cc",
      "webui/welcome_handler.h",
      "webui/welcome_ui.cc",
      "webui/welcome_ui.h",
    ]

    if (!is_mac || mac_views_browser) {
      sources += [
        "views/profiles/avatar_button.cc",
        "views/profiles/avatar_button.h",
        "views/profiles/user_manager_view.cc",
        "views/profiles/user_manager_view.h",
      ]
    }

    if (enable_dice_support) {
      sources += [
        "webui/signin/dice_turn_sync_on_helper.cc",
        "webui/signin/dice_turn_sync_on_helper.h",
        "webui/signin/dice_turn_sync_on_helper_delegate_impl.cc",
        "webui/signin/dice_turn_sync_on_helper_delegate_impl.h",
      ]
    }
  }

  if (is_win || is_mac || is_chromeos) {
    sources += [
      "webui/cast/cast_ui.cc",
      "webui/cast/cast_ui.h",
    ]
  }

  if (is_win || is_mac) {
    sources += [
      "webui/settings/native_certificates_handler.cc",
      "webui/settings/native_certificates_handler.h",
    ]
  }

  if (is_win || is_linux) {
    sources += [
      "input_method/input_method_engine_base.cc",
      "input_method/input_method_engine_base.h",
    ]

    if (!is_chromeos) {
      sources += [
        "input_method/input_method_engine.cc",
        "input_method/input_method_engine.h",
        "views/quit_instruction_bubble.cc",
        "views/quit_instruction_bubble.h",
        "views/quit_instruction_bubble_base.h",
        "views/quit_instruction_bubble_controller.cc",
        "views/quit_instruction_bubble_controller.h",
      ]
    }
  }

  if (is_mac || is_win || (is_linux && !is_chromeos)) {
    sources += [
      "confirm_quit.cc",
      "confirm_quit.h",
    ]
  }

  if (is_mac) {
    sources += [
      "browser_commands_mac.cc",
      "browser_commands_mac.h",
      "browser_mac.cc",
      "browser_mac.h",
      "certificate_viewer_mac.h",
      "certificate_viewer_mac.mm",
      "cocoa/accelerator_utils_cocoa.mm",
      "cocoa/accelerators_cocoa.h",
      "cocoa/accelerators_cocoa.mm",
      "cocoa/animated_icon.h",
      "cocoa/animated_icon.mm",
      "cocoa/applescript/apple_event_util.h",
      "cocoa/applescript/apple_event_util.mm",
      "cocoa/applescript/bookmark_folder_applescript.h",
      "cocoa/applescript/bookmark_folder_applescript.mm",
      "cocoa/applescript/bookmark_item_applescript.h",
      "cocoa/applescript/bookmark_item_applescript.mm",
      "cocoa/applescript/bookmark_node_applescript.h",
      "cocoa/applescript/bookmark_node_applescript.mm",
      "cocoa/applescript/browsercrapplication+applescript.h",
      "cocoa/applescript/browsercrapplication+applescript.mm",
      "cocoa/applescript/constants_applescript.h",
      "cocoa/applescript/constants_applescript.mm",
      "cocoa/applescript/element_applescript.h",
      "cocoa/applescript/element_applescript.mm",
      "cocoa/applescript/error_applescript.h",
      "cocoa/applescript/error_applescript.mm",
      "cocoa/applescript/metrics_applescript.h",
      "cocoa/applescript/metrics_applescript.mm",
      "cocoa/applescript/tab_applescript.h",
      "cocoa/applescript/tab_applescript.mm",
      "cocoa/applescript/window_applescript.h",
      "cocoa/applescript/window_applescript.mm",
      "cocoa/apps/app_shim_menu_controller_mac.h",
      "cocoa/apps/app_shim_menu_controller_mac.mm",
      "cocoa/apps/quit_with_apps_controller_mac.cc",
      "cocoa/apps/quit_with_apps_controller_mac.h",
      "cocoa/apps/titlebar_background_view.h",
      "cocoa/apps/titlebar_background_view.mm",
      "cocoa/bookmarks/bookmark_menu_bridge.h",
      "cocoa/bookmarks/bookmark_menu_bridge.mm",
      "cocoa/bookmarks/bookmark_menu_cocoa_controller.h",
      "cocoa/bookmarks/bookmark_menu_cocoa_controller.mm",
      "cocoa/browser_window_command_handler.h",
      "cocoa/browser_window_command_handler.mm",
      "cocoa/browser_window_views_mac.h",
      "cocoa/chrome_command_dispatcher_delegate.h",
      "cocoa/chrome_command_dispatcher_delegate.mm",
      "cocoa/chrome_style.cc",
      "cocoa/chrome_style.h",
      "cocoa/color_chooser_mac.h",
      "cocoa/color_chooser_mac.mm",
      "cocoa/confirm_quit_panel_controller.h",
      "cocoa/confirm_quit_panel_controller.mm",
      "cocoa/dock_icon.h",
      "cocoa/dock_icon.mm",
      "cocoa/first_run_dialog.h",
      "cocoa/first_run_dialog.mm",
      "cocoa/first_run_dialog_controller.h",
      "cocoa/first_run_dialog_controller.mm",
      "cocoa/handoff_active_url_observer.cc",
      "cocoa/handoff_active_url_observer.h",
      "cocoa/handoff_active_url_observer_bridge.h",
      "cocoa/handoff_active_url_observer_bridge.mm",
      "cocoa/handoff_active_url_observer_delegate.h",
      "cocoa/history_menu_bridge.h",
      "cocoa/history_menu_bridge.mm",
      "cocoa/history_menu_cocoa_controller.h",
      "cocoa/history_menu_cocoa_controller.mm",
      "cocoa/history_overlay_controller.h",
      "cocoa/history_overlay_controller.mm",
      "cocoa/key_equivalent_constants.h",
      "cocoa/key_equivalent_constants.mm",
      "cocoa/keystone_infobar_delegate.h",
      "cocoa/keystone_infobar_delegate.mm",
      "cocoa/l10n_util.h",
      "cocoa/l10n_util.mm",
      "cocoa/last_active_browser_cocoa.cc",
      "cocoa/last_active_browser_cocoa.h",
      "cocoa/main_menu_builder.h",
      "cocoa/main_menu_builder.mm",
      "cocoa/md_hover_button.h",
      "cocoa/md_hover_button.mm",
      "cocoa/md_util.h",
      "cocoa/md_util.mm",
      "cocoa/media_picker/desktop_media_picker_bridge.h",
      "cocoa/media_picker/desktop_media_picker_bridge.mm",
      "cocoa/media_picker/desktop_media_picker_cocoa.h",
      "cocoa/media_picker/desktop_media_picker_cocoa.mm",
      "cocoa/media_picker/desktop_media_picker_controller.h",
      "cocoa/media_picker/desktop_media_picker_controller.mm",
      "cocoa/media_picker/desktop_media_picker_item.h",
      "cocoa/media_picker/desktop_media_picker_item.mm",
      "cocoa/native_window_tracker_cocoa.h",
      "cocoa/native_window_tracker_cocoa.mm",
      "cocoa/notifications/message_center_bridge.h",
      "cocoa/notifications/message_center_bridge.mm",
      "cocoa/nsmenuitem_additions.h",
      "cocoa/nsmenuitem_additions.mm",
      "cocoa/profiles/profile_menu_controller.h",
      "cocoa/profiles/profile_menu_controller.mm",
      "cocoa/renderer_context_menu/render_view_context_menu_mac.h",
      "cocoa/renderer_context_menu/render_view_context_menu_mac.mm",
      "cocoa/renderer_context_menu/render_view_context_menu_mac_cocoa.h",
      "cocoa/renderer_context_menu/render_view_context_menu_mac_cocoa.mm",
      "cocoa/renderer_context_menu/render_view_context_menu_mac_views.h",
      "cocoa/renderer_context_menu/render_view_context_menu_mac_views.mm",
      "cocoa/scoped_menu_bar_lock.h",
      "cocoa/scoped_menu_bar_lock.mm",
      "cocoa/share_menu_controller.h",
      "cocoa/share_menu_controller.mm",
      "cocoa/status_icons/status_icon_mac.h",
      "cocoa/status_icons/status_icon_mac.mm",
      "cocoa/status_icons/status_tray_mac.h",
      "cocoa/status_icons/status_tray_mac.mm",
      "cocoa/tab_contents/chrome_web_contents_view_delegate_mac.h",
      "cocoa/tab_contents/chrome_web_contents_view_delegate_mac.mm",
      "cocoa/tab_contents/web_drag_bookmark_handler_mac.h",
      "cocoa/tab_contents/web_drag_bookmark_handler_mac.mm",
      "cocoa/task_manager_mac.h",
      "cocoa/task_manager_mac.mm",
      "cocoa/touchbar/browser_window_default_touch_bar.h",
      "cocoa/touchbar/browser_window_default_touch_bar.mm",
      "cocoa/touchbar/browser_window_touch_bar_controller.h",
      "cocoa/touchbar/browser_window_touch_bar_controller.mm",
      "cocoa/ui_localizer.h",
      "cocoa/ui_localizer.mm",
      "cocoa/web_contents_modal_dialog_host_cocoa.h",
      "cocoa/web_contents_modal_dialog_host_cocoa.mm",
      "cocoa/window_size_autosaver.h",
      "cocoa/window_size_autosaver.mm",

      # TODO(estade): this class should be folded into
      # manage_passwords_decoration.mm
      "passwords/manage_passwords_icon.cc",
      "passwords/manage_passwords_icon.h",
      "web_contents_sizer.mm",
      "webui/help/version_updater_mac.h",
      "webui/help/version_updater_mac.mm",
      "webui/settings_utils_mac.mm",
      "window_sizer/window_sizer_mac.mm",
    ]

    sources += cocoa_browser_sources

    allow_circular_includes_from += [ "//chrome/browser/apps/app_shim" ]

    deps += [
      "//chrome/app/nibs:localizer_table",
      "//chrome/browser/apps/app_shim",
      "//third_party/google_toolbox_for_mac",
      "//third_party/molokocacao",
      "//third_party/mozilla",
      "//ui/accelerated_widget_mac:accelerated_widget_mac",
    ]
    include_dirs = [ "$target_gen_dir" ]
    libs += [
      "Carbon.framework",
      "Quartz.framework",
    ]

    if (mac_views_browser) {
      # MacViews sources that we still want to keep behind a compile-time flag.
      # TODO(jackhou): Move items to general views sources out of here.
      sources += [
        "views/apps/chrome_app_window_client_views_mac.mm",
        "views/certificate_viewer_mac_views.mm",
        "views/dropdown_bar_host_mac.mm",
        "views/frame/browser_frame_mac.h",
        "views/frame/browser_frame_mac.mm",
        "views/frame/browser_native_widget_window_mac.h",
        "views/frame/browser_native_widget_window_mac.mm",
        "views/frame/browser_non_client_frame_view_factory_mac.mm",
        "views/frame/browser_non_client_frame_view_mac.h",
        "views/frame/browser_non_client_frame_view_mac.mm",
        "views/frame/native_browser_frame_factory_mac.mm",
        "views/infobars/legacy_infobars_mac.cc",
        "views/tab_contents/chrome_web_contents_view_delegate_views_mac.h",
        "views/tab_contents/chrome_web_contents_view_delegate_views_mac.mm",
        "views/tabs/window_finder_mac.mm",
      ]

      deps += [ "//extensions/components/native_app_window" ]

      # Truly cocoa-browser-specific sources. These are secondary UI pieces that
      # are obsolete before mac_views_browser will ever ship, so they aren't
      # linked in at all.
      sources -= [
        "cocoa/constrained_web_dialog_delegate_mac.mm",
        "cocoa/importer/import_lock_dialog_cocoa.mm",
        "cocoa/login_handler_cocoa.h",
        "cocoa/login_handler_cocoa.mm",
        "cocoa/simple_message_box_bridge_views.mm",
      ]
    }
  } else {  # non-Mac.
    sources += [ "web_contents_sizer.cc" ]
  }

  if (is_win) {
    assert(toolkit_views)
    sources += [
      "desktop_ios_promotion/desktop_ios_promotion_bubble_controller.cc",
      "desktop_ios_promotion/desktop_ios_promotion_bubble_controller.h",
      "desktop_ios_promotion/desktop_ios_promotion_controller.cc",
      "desktop_ios_promotion/desktop_ios_promotion_controller.h",
      "desktop_ios_promotion/desktop_ios_promotion_util.cc",
      "desktop_ios_promotion/desktop_ios_promotion_util.h",
      "desktop_ios_promotion/desktop_ios_promotion_view.h",
      "desktop_ios_promotion/sms_service.cc",
      "desktop_ios_promotion/sms_service.h",
      "desktop_ios_promotion/sms_service_factory.cc",
      "desktop_ios_promotion/sms_service_factory.h",
      "network_profile_bubble.cc",
      "network_profile_bubble.h",
      "startup/default_browser_prompt_win.cc",
      "views/certificate_viewer_win.cc",
      "views/chrome_cleaner_dialog_win.cc",
      "views/chrome_cleaner_dialog_win.h",
      "views/chrome_cleaner_reboot_dialog_win.cc",
      "views/chrome_cleaner_reboot_dialog_win.h",
      "views/color_chooser_dialog.cc",
      "views/color_chooser_dialog.h",
      "views/color_chooser_win.cc",
      "views/critical_notification_bubble_view.cc",
      "views/critical_notification_bubble_view.h",
      "views/desktop_ios_promotion/desktop_ios_promotion_bubble_view.cc",
      "views/desktop_ios_promotion/desktop_ios_promotion_bubble_view.h",
      "views/desktop_ios_promotion/desktop_ios_promotion_footnote_view.cc",
      "views/desktop_ios_promotion/desktop_ios_promotion_footnote_view.h",
      "views/frame/browser_desktop_window_tree_host.h",
      "views/frame/browser_desktop_window_tree_host_win.cc",
      "views/frame/browser_desktop_window_tree_host_win.h",
      "views/frame/browser_window_property_manager_win.cc",
      "views/frame/browser_window_property_manager_win.h",
      "views/frame/glass_browser_frame_view.cc",
      "views/frame/glass_browser_frame_view.h",
      "views/frame/minimize_button_metrics_win.cc",
      "views/frame/minimize_button_metrics_win.h",
      "views/frame/native_browser_frame_factory_aurawin.cc",
      "views/frame/system_menu_insertion_delegate_win.cc",
      "views/frame/system_menu_insertion_delegate_win.h",
      "views/frame/taskbar_decorator_win.cc",
      "views/frame/taskbar_decorator_win.h",
      "views/frame/windows_10_caption_button.cc",
      "views/frame/windows_10_caption_button.h",
      "views/network_profile_bubble_view.cc",
      "views/settings_reset_prompt_dialog.cc",
      "views/settings_reset_prompt_dialog.h",
      "views/status_icons/status_icon_win.cc",
      "views/status_icons/status_icon_win.h",
      "views/status_icons/status_tray_state_changer_win.cc",
      "views/status_icons/status_tray_state_changer_win.h",
      "views/status_icons/status_tray_win.cc",
      "views/status_icons/status_tray_win.h",
      "views/tabs/window_finder_win.cc",
      "views/try_chrome_dialog_win/arrow_border.cc",
      "views/try_chrome_dialog_win/arrow_border.h",
      "views/try_chrome_dialog_win/button_layout.cc",
      "views/try_chrome_dialog_win/button_layout.h",
      "views/try_chrome_dialog_win/try_chrome_dialog.cc",
      "views/try_chrome_dialog_win/try_chrome_dialog.h",
      "views/uninstall_view.cc",
      "views/uninstall_view.h",
      "webui/conflicts/conflicts_handler.cc",
      "webui/conflicts/conflicts_handler.h",
      "webui/conflicts/conflicts_ui.cc",
      "webui/conflicts/conflicts_ui.h",
      "webui/settings/chrome_cleanup_handler.cc",
      "webui/settings/chrome_cleanup_handler.h",
      "webui/settings_utils_win.cc",
      "webui/welcome_win10_handler.cc",
      "webui/welcome_win10_handler.h",
      "webui/welcome_win10_ui.cc",
      "webui/welcome_win10_ui.h",
    ]
    public_deps += [
      "//ui/views",
      "//ui/views/controls/webview",
    ]
    deps += [
      "//components/search_engines",
      "//third_party/iaccessible2",
      "//third_party/isimpledom",
      "//third_party/libphonenumber",
      "//third_party/wtl",
      "//ui/base/ime",
      "//ui/events:dom_keycode_converter",
    ]

    if (is_chrome_branded) {
      sources += [
        "webui/help/version_updater_win.cc",
        "webui/help/version_updater_win.h",
        "webui/settings/incompatible_applications_handler_win.cc",
        "webui/settings/incompatible_applications_handler_win.h",
      ]
      deps += [ "//google_update" ]
    } else {
      sources += [
        "webui/help/version_updater_basic.cc",
        "webui/help/version_updater_basic.h",
      ]
    }
  } else {  # 'OS!="win"
    # The Cast Linux build sets toolkit_views to false, but many files in this
    # target include views-related files unconditionally, causing `gn check`
    # to fail on this variant. Since this target is only referenced (but not
    # compiled) on this variant, it's okay to add this "incorrect" dependency
    # to Cast Linux builds so that `gn check` passes.
    if (toolkit_views || (is_chromecast && is_linux)) {
      public_deps += [
        "//ui/views",
        "//ui/views/controls/webview",
      ]
    }
  }

  if (is_desktop_linux) {
    sources += [
      "views/apps/chrome_app_window_client_views_linux.cc",
      "views/first_run_dialog.cc",
      "views/first_run_dialog.h",
      "views/frame/browser_desktop_window_tree_host.h",
      "views/status_icons/status_icon_linux_wrapper.cc",
      "views/status_icons/status_icon_linux_wrapper.h",
      "webui/help/version_updater_basic.cc",
      "webui/help/version_updater_basic.h",
      "webui/settings_utils_linux.cc",
    ]
    deps += [
      "//ui/base/ime",
      "//ui/events:dom_keycode_converter",
    ]

    if (use_x11) {
      sources += [
        "views/frame/browser_desktop_window_tree_host_x11.cc",
        "views/frame/browser_desktop_window_tree_host_x11.h",
        "views/frame/desktop_browser_frame_aurax11.cc",
        "views/frame/desktop_browser_frame_aurax11.h",
        "views/frame/global_menu_bar_registrar_x11.cc",
        "views/frame/global_menu_bar_registrar_x11.h",
        "views/frame/global_menu_bar_x11.cc",
        "views/frame/global_menu_bar_x11.h",
        "views/frame/native_browser_frame_factory_aurax11.cc",
        "views/javascript_app_modal_dialog_views_x11.cc",
        "views/javascript_app_modal_dialog_views_x11.h",
        "views/javascript_app_modal_event_blocker_x11.cc",
        "views/javascript_app_modal_event_blocker_x11.h",
      ]
      configs += [ "//build/config/linux:x11" ]
      deps += [
        "//ui/events/devices",
        "//ui/events/devices/x11",
      ]
    }
    if (use_ozone) {
      sources += [
        "views/frame/browser_desktop_window_tree_host_platform.cc",
        "views/frame/browser_desktop_window_tree_host_platform.h",
        "views/frame/native_browser_frame_factory_ozone.cc",
      ]
    } else {
      if (use_aura) {
        # This is the only component that can interact with gtk.
        deps += [ "//chrome/browser/ui/libgtkui" ]
      }
    }
  }

  if (is_linux) {  # Both desktop Linux and ChromeOS.
    sources += [
      "certificate_dialogs.cc",
      "certificate_dialogs.h",
      "process_singleton_dialog_linux.h",
      "webui/certificate_viewer_ui.cc",
      "webui/certificate_viewer_ui.h",
      "webui/certificate_viewer_webui.cc",
      "webui/certificate_viewer_webui.h",
    ]
    if (use_aura) {
      deps += [ "//third_party/fontconfig" ]
    }

    # WindowFinder implementation selection is a bit tricky, so do all here
    # to get it right and prevent ODR violations.
    if (is_chromeos) {
      sources += [ "views/tabs/window_finder_chromeos.cc" ]
    } else if (use_x11) {
      sources += [ "views/tabs/window_finder_x11.cc" ]
    } else {
      assert(use_ozone)
      sources += [ "views/tabs/window_finder_ozone.cc" ]
    }
  }

  if (toolkit_views) {
    sources += [
      "autofill/local_card_migration_bubble.h",
      "autofill/local_card_migration_bubble_controller_impl.cc",
      "autofill/local_card_migration_bubble_controller_impl.h",
      "autofill/local_card_migration_dialog.h",
      "autofill/local_card_migration_dialog_controller_impl.cc",
      "autofill/local_card_migration_dialog_controller_impl.h",
      "autofill/local_card_migration_dialog_factory.h",
      "autofill/local_card_migration_dialog_state.h",
      "autofill/save_card_bubble_controller_impl.cc",
      "autofill/save_card_bubble_controller_impl.h",
      "autofill/save_card_bubble_view.h",
      "autofill/save_card_ui.h",
      "bubble_anchor_util.h",
      "desktop_ios_promotion/desktop_ios_promotion_footnote_delegate.h",

      # This test header is included because it contains forward declarations
      # needed for "friend" statements for use in tests.
      "translate/translate_bubble_test_utils.h",
      "views/accessibility/non_accessible_image_view.cc",
      "views/accessibility/non_accessible_image_view.h",
      "views/apps/app_info_dialog/app_info_dialog_container.cc",
      "views/apps/app_info_dialog/app_info_dialog_container.h",
      "views/apps/app_info_dialog/app_info_dialog_views.cc",
      "views/apps/app_info_dialog/app_info_dialog_views.h",
      "views/apps/app_info_dialog/app_info_footer_panel.cc",
      "views/apps/app_info_dialog/app_info_footer_panel.h",
      "views/apps/app_info_dialog/app_info_header_panel.cc",
      "views/apps/app_info_dialog/app_info_header_panel.h",
      "views/apps/app_info_dialog/app_info_panel.cc",
      "views/apps/app_info_dialog/app_info_panel.h",
      "views/apps/app_info_dialog/app_info_permissions_panel.cc",
      "views/apps/app_info_dialog/app_info_permissions_panel.h",
      "views/apps/app_info_dialog/app_info_summary_panel.cc",
      "views/apps/app_info_dialog/app_info_summary_panel.h",
      "views/apps/chrome_native_app_window_views.cc",
      "views/apps/chrome_native_app_window_views.h",
      "views/autofill/autofill_popup_base_view.cc",
      "views/autofill/autofill_popup_base_view.h",
      "views/autofill/autofill_popup_view_native_views.cc",
      "views/autofill/autofill_popup_view_native_views.h",
      "views/autofill/autofill_popup_view_views.cc",
      "views/autofill/autofill_popup_view_views.h",
      "views/autofill/card_unmask_prompt_views.cc",
      "views/autofill/card_unmask_prompt_views.h",
      "views/autofill/local_card_migration_bubble_views.cc",
      "views/autofill/local_card_migration_bubble_views.h",
      "views/autofill/local_card_migration_dialog_view.cc",
      "views/autofill/local_card_migration_dialog_view.h",
      "views/autofill/migratable_card_view.cc",
      "views/autofill/migratable_card_view.h",
      "views/autofill/save_card_bubble_views.cc",
      "views/autofill/save_card_bubble_views.h",
      "views/autofill/save_card_manage_cards_bubble_views.cc",
      "views/autofill/save_card_manage_cards_bubble_views.h",
      "views/autofill/save_card_offer_bubble_views.cc",
      "views/autofill/save_card_offer_bubble_views.h",
      "views/autofill/save_card_sign_in_promo_bubble_views.cc",
      "views/autofill/save_card_sign_in_promo_bubble_views.h",
      "views/autofill/view_util.cc",
      "views/autofill/view_util.h",
      "views/bookmarks/bookmark_bubble_view.cc",
      "views/bookmarks/bookmark_bubble_view.h",
      "views/bookmarks/bookmark_editor_view.cc",
      "views/bookmarks/bookmark_editor_view.h",
      "views/bubble_anchor_util_views.h",
      "views/bulleted_label_list_view.cc",
      "views/bulleted_label_list_view.h",
      "views/chrome_browser_main_extra_parts_views.cc",
      "views/chrome_browser_main_extra_parts_views.h",
      "views/chrome_constrained_window_views_client.cc",
      "views/chrome_constrained_window_views_client.h",
      "views/chrome_layout_provider.cc",
      "views/chrome_layout_provider.h",
      "views/chrome_platform_style.cc",
      "views/chrome_platform_style.h",
      "views/chrome_typography.cc",
      "views/chrome_typography.h",
      "views/chrome_typography_provider.cc",
      "views/chrome_typography_provider.h",
      "views/chrome_views_delegate.cc",
      "views/chrome_views_delegate.h",
      "views/collected_cookies_views.cc",
      "views/collected_cookies_views.h",
      "views/confirm_bubble_views.cc",
      "views/confirm_bubble_views.h",
      "views/content_setting_bubble_contents.cc",
      "views/content_setting_bubble_contents.h",
      "views/content_setting_domain_list_view.cc",
      "views/content_setting_domain_list_view.h",
      "views/cookie_info_view.cc",
      "views/cookie_info_view.h",
      "views/device_chooser_content_view.cc",
      "views/device_chooser_content_view.h",
      "views/download/download_danger_prompt_views.cc",
      "views/elevation_icon_setter.cc",
      "views/elevation_icon_setter.h",
      "views/exclusive_access_bubble_views.cc",
      "views/exclusive_access_bubble_views.h",
      "views/exclusive_access_bubble_views_context.h",
      "views/extensions/bookmark_app_confirmation_view.cc",
      "views/extensions/bookmark_app_confirmation_view.h",
      "views/extensions/chooser_dialog_view.cc",
      "views/extensions/chooser_dialog_view.h",
      "views/extensions/extension_install_dialog_view.cc",
      "views/extensions/extension_install_dialog_view.h",
      "views/extensions/extension_installed_bubble_view.cc",
      "views/extensions/extension_installed_bubble_view.h",
      "views/extensions/extension_keybinding_registry_views.cc",
      "views/extensions/extension_keybinding_registry_views.h",
      "views/extensions/extension_uninstall_dialog_view.cc",
      "views/extensions/pwa_confirmation_view.cc",
      "views/extensions/pwa_confirmation_view.h",
      "views/extensions/web_app_info_image_source.cc",
      "views/extensions/web_app_info_image_source.h",
      "views/folder_upload_confirmation_view.cc",
      "views/folder_upload_confirmation_view.h",
      "views/fullscreen_control/fullscreen_control_host.cc",
      "views/fullscreen_control/fullscreen_control_host.h",
      "views/fullscreen_control/fullscreen_control_popup.cc",
      "views/fullscreen_control/fullscreen_control_popup.h",
      "views/fullscreen_control/fullscreen_control_view.cc",
      "views/fullscreen_control/fullscreen_control_view.h",
      "views/global_error_bubble_view.cc",
      "views/global_error_bubble_view.h",
      "views/hover_button.cc",
      "views/hover_button.h",
      "views/importer/import_lock_dialog_view.cc",
      "views/importer/import_lock_dialog_view.h",
      "views/location_bar/location_bar_bubble_delegate_view.cc",
      "views/location_bar/location_bar_bubble_delegate_view.h",
      "views/location_bar/zoom_bubble_view.cc",
      "views/location_bar/zoom_bubble_view.h",
      "views/login_handler_views.cc",
      "views/login_view.cc",
      "views/login_view.h",
      "views/material_refresh_layout_provider.cc",
      "views/material_refresh_layout_provider.h",
      "views/overlay/close_image_button.cc",
      "views/overlay/close_image_button.h",
      "views/overlay/control_image_button.cc",
      "views/overlay/control_image_button.h",
      "views/overlay/overlay_window_views.cc",
      "views/overlay/overlay_window_views.h",
      "views/page_info/chosen_object_view.cc",
      "views/page_info/chosen_object_view.h",
      "views/page_info/chosen_object_view_observer.h",
      "views/page_info/page_info_bubble_view.cc",
      "views/page_info/page_info_bubble_view.h",
      "views/page_info/page_info_bubble_view_base.cc",
      "views/page_info/page_info_bubble_view_base.h",
      "views/page_info/permission_selector_row.cc",
      "views/page_info/permission_selector_row.h",
      "views/page_info/permission_selector_row_observer.h",
      "views/passwords/account_chooser_dialog_view.cc",
      "views/passwords/account_chooser_dialog_view.h",
      "views/passwords/auto_signin_first_run_dialog_view.cc",
      "views/passwords/auto_signin_first_run_dialog_view.h",
      "views/passwords/credentials_item_view.cc",
      "views/passwords/credentials_item_view.h",
      "views/passwords/password_auto_sign_in_view.cc",
      "views/passwords/password_auto_sign_in_view.h",
      "views/passwords/password_bubble_view_base.cc",
      "views/passwords/password_bubble_view_base.h",
      "views/passwords/password_items_view.cc",
      "views/passwords/password_items_view.h",
      "views/passwords/password_pending_view.cc",
      "views/passwords/password_pending_view.h",
      "views/passwords/password_save_confirmation_view.cc",
      "views/passwords/password_save_confirmation_view.h",
      "views/passwords/password_sign_in_promo_view.cc",
      "views/passwords/password_sign_in_promo_view.h",
      "views/payments/contact_info_editor_view_controller.cc",
      "views/payments/contact_info_editor_view_controller.h",
      "views/payments/credit_card_editor_view_controller.cc",
      "views/payments/credit_card_editor_view_controller.h",
      "views/payments/cvc_unmask_view_controller.cc",
      "views/payments/cvc_unmask_view_controller.h",
      "views/payments/editor_view_controller.cc",
      "views/payments/editor_view_controller.h",
      "views/payments/error_message_view_controller.cc",
      "views/payments/error_message_view_controller.h",
      "views/payments/order_summary_view_controller.cc",
      "views/payments/order_summary_view_controller.h",
      "views/payments/payment_handler_web_flow_view_controller.cc",
      "views/payments/payment_handler_web_flow_view_controller.h",
      "views/payments/payment_method_view_controller.cc",
      "views/payments/payment_method_view_controller.h",
      "views/payments/payment_request_dialog_view.cc",
      "views/payments/payment_request_dialog_view.h",
      "views/payments/payment_request_dialog_view_ids.h",
      "views/payments/payment_request_item_list.cc",
      "views/payments/payment_request_item_list.h",
      "views/payments/payment_request_row_view.cc",
      "views/payments/payment_request_row_view.h",
      "views/payments/payment_request_sheet_controller.cc",
      "views/payments/payment_request_sheet_controller.h",
      "views/payments/payment_request_views_util.cc",
      "views/payments/payment_request_views_util.h",
      "views/payments/payment_sheet_view_controller.cc",
      "views/payments/payment_sheet_view_controller.h",
      "views/payments/profile_list_view_controller.cc",
      "views/payments/profile_list_view_controller.h",
      "views/payments/shipping_address_editor_view_controller.cc",
      "views/payments/shipping_address_editor_view_controller.h",
      "views/payments/shipping_option_view_controller.cc",
      "views/payments/shipping_option_view_controller.h",
      "views/payments/validating_combobox.cc",
      "views/payments/validating_combobox.h",
      "views/payments/validating_textfield.cc",
      "views/payments/validating_textfield.h",
      "views/payments/validation_delegate.cc",
      "views/payments/validation_delegate.h",
      "views/payments/view_stack.cc",
      "views/payments/view_stack.h",
      "views/permission_bubble/chooser_bubble_ui.cc",
      "views/permission_bubble/chooser_bubble_ui.h",
      "views/permission_bubble/permission_prompt_impl.cc",
      "views/permission_bubble/permission_prompt_impl.h",
      "views/relaunch_notification/relaunch_notification_controller.cc",
      "views/relaunch_notification/relaunch_notification_controller.h",
      "views/relaunch_notification/relaunch_notification_metrics.cc",
      "views/relaunch_notification/relaunch_notification_metrics.h",
      "views/relaunch_notification/relaunch_recommended_timer.cc",
      "views/relaunch_notification/relaunch_recommended_timer.h",
      "views/relaunch_notification/relaunch_required_timer.cc",
      "views/relaunch_notification/relaunch_required_timer.h",
      "views/relaunch_notification/relaunch_required_timer_internal.cc",
      "views/relaunch_notification/relaunch_required_timer_internal.h",
      "views/safe_browsing/password_reuse_modal_warning_dialog.cc",
      "views/safe_browsing/password_reuse_modal_warning_dialog.h",
      "views/session_crashed_bubble_view.cc",
      "views/session_crashed_bubble_view.h",
      "views/simple_message_box_views.cc",
      "views/simple_message_box_views.h",
      "views/subtle_notification_view.cc",
      "views/subtle_notification_view.h",
      "views/sync/bubble_sync_promo_view.cc",
      "views/sync/bubble_sync_promo_view.h",
      "views/sync/profile_signin_confirmation_dialog_views.cc",
      "views/sync/profile_signin_confirmation_dialog_views.h",
      "views/task_manager_view.cc",
      "views/task_manager_view.h",
      "views/textfield_layout.cc",
      "views/textfield_layout.h",
      "views/toolbar/toolbar_actions_bar_bubble_views.cc",
      "views/toolbar/toolbar_actions_bar_bubble_views.h",
      "views/touch_uma/touch_uma.cc",
      "views/touch_uma/touch_uma.h",
      "views/translate/translate_bubble_view.cc",
      "views/translate/translate_bubble_view.h",
      "views/update_recommended_message_box.cc",
      "views/update_recommended_message_box.h",
      "views/webauthn/authenticator_request_dialog_view.cc",
      "views/webauthn/authenticator_request_dialog_view.h",
      "views/webauthn/authenticator_request_sheet_view.cc",
      "views/webauthn/authenticator_request_sheet_view.h",
      "views/webauthn/authenticator_transport_selector_sheet_view.cc",
      "views/webauthn/authenticator_transport_selector_sheet_view.h",
      "views/webauthn/sheet_view_factory.cc",
      "views/webauthn/sheet_view_factory.h",
      "views/webauthn/transport_list_view.cc",
      "views/webauthn/transport_list_view.h",
      "webauthn/authenticator_request_sheet_model.h",
      "webauthn/other_transports_menu_model.cc",
      "webauthn/other_transports_menu_model.h",
      "webauthn/sheet_models.cc",
      "webauthn/sheet_models.h",
      "webauthn/transport_utils.cc",
      "webauthn/transport_utils.h",
    ]
    deps += [
      "//chrome/browser/ui/views",
      "//components/constrained_window",
      "//components/payments/content",
      "//components/payments/core",
      "//services/ws/public/cpp/input_devices",
    ]

    allow_circular_includes_from += [ "//chrome/browser/ui/views" ]

    if (is_mac) {
      sources += [
        "views/apps/app_window_native_widget_mac.h",
        "views/apps/app_window_native_widget_mac.mm",
        "views/apps/chrome_native_app_window_views_mac.h",
        "views/apps/chrome_native_app_window_views_mac.mm",
        "views/apps/native_app_window_frame_view_mac.h",
        "views/apps/native_app_window_frame_view_mac.mm",
        "views/chrome_views_delegate_mac.cc",
        "views/frame/native_widget_mac_frameless_nswindow.h",
        "views/frame/native_widget_mac_frameless_nswindow.mm",
      ]
    } else {
      sources += [
        "views/create_application_shortcut_view.cc",
        "views/create_application_shortcut_view.h",

        # TODO(ellyjones): Mus is not supported on Mac (there is no ui::Window
        # apart from aura::Window, which is also not supported).
        "views/ime_driver/ime_driver_mus.cc",
        "views/ime_driver/ime_driver_mus.h",
        "views/ime_driver/remote_text_input_client.cc",
        "views/ime_driver/remote_text_input_client.h",
        "views/ime_driver/simple_input_method.cc",
        "views/ime_driver/simple_input_method.h",
      ]

      deps += [ "//ui/views/mus" ]
    }

    if (enable_dice_support) {
      sources += [
        "views/sync/dice_bubble_sync_promo_view.cc",
        "views/sync/dice_bubble_sync_promo_view.h",
        "views/sync/dice_signin_button_view.cc",
        "views/sync/dice_signin_button_view.h",
      ]
    }

    if (!is_mac || mac_views_browser) {
      sources += [
        "views/accessibility/invert_bubble_view.cc",
        "views/accessibility/invert_bubble_view.h",
        "views/autofill/local_card_migration_icon_view.cc",
        "views/autofill/local_card_migration_icon_view.h",
        "views/autofill/save_card_icon_view.cc",
        "views/autofill/save_card_icon_view.h",
        "views/bookmarks/bookmark_bar_instructions_view.cc",
        "views/bookmarks/bookmark_bar_instructions_view.h",
        "views/bookmarks/bookmark_bar_view.cc",
        "views/bookmarks/bookmark_bar_view.h",
        "views/bookmarks/bookmark_bar_view_observer.h",
        "views/bookmarks/bookmark_context_menu.cc",
        "views/bookmarks/bookmark_context_menu.h",
        "views/bookmarks/bookmark_drag_drop_views.cc",
        "views/bookmarks/bookmark_menu_controller_observer.h",
        "views/bookmarks/bookmark_menu_controller_views.cc",
        "views/bookmarks/bookmark_menu_controller_views.h",
        "views/bookmarks/bookmark_menu_delegate.cc",
        "views/bookmarks/bookmark_menu_delegate.h",
        "views/browser_dialogs_views.cc",
        "views/bubble_anchor_util_views.cc",
        "views/certificate_selector.cc",
        "views/certificate_selector.h",
        "views/chrome_web_dialog_view.cc",
        "views/constrained_web_dialog_delegate_views.cc",
        "views/download/download_feedback_dialog_view.cc",
        "views/download/download_feedback_dialog_view.h",
        "views/download/download_in_progress_dialog_view.cc",
        "views/download/download_in_progress_dialog_view.h",
        "views/download/download_item_view.cc",
        "views/download/download_item_view.h",
        "views/download/download_shelf_context_menu_view.cc",
        "views/download/download_shelf_context_menu_view.h",
        "views/download/download_shelf_view.cc",
        "views/download/download_shelf_view.h",
        "views/download/download_started_animation_views.cc",
        "views/dropdown_bar_host.cc",
        "views/dropdown_bar_host.h",
        "views/dropdown_bar_host_delegate.h",
        "views/feature_promos/bookmark_promo_bubble_view.cc",
        "views/feature_promos/bookmark_promo_bubble_view.h",
        "views/feature_promos/feature_promo_bubble_view.cc",
        "views/feature_promos/feature_promo_bubble_view.h",
        "views/feature_promos/incognito_window_promo_bubble_view.cc",
        "views/feature_promos/incognito_window_promo_bubble_view.h",
        "views/feature_promos/new_tab_promo_bubble_view.cc",
        "views/feature_promos/new_tab_promo_bubble_view.h",
        "views/find_bar_host.cc",
        "views/find_bar_host.h",
        "views/find_bar_view.cc",
        "views/find_bar_view.h",
        "views/frame/app_menu_button.cc",
        "views/frame/app_menu_button.h",
        "views/frame/avatar_button_manager.cc",
        "views/frame/avatar_button_manager.h",
        "views/frame/browser_frame.cc",
        "views/frame/browser_frame.h",
        "views/frame/browser_non_client_frame_view.cc",
        "views/frame/browser_non_client_frame_view.h",
        "views/frame/browser_root_view.cc",
        "views/frame/browser_root_view.h",
        "views/frame/browser_view.cc",
        "views/frame/browser_view.h",
        "views/frame/browser_view_commands_mac.h",
        "views/frame/browser_view_commands_mac.mm",
        "views/frame/browser_view_layout.cc",
        "views/frame/browser_view_layout.h",
        "views/frame/browser_view_layout_delegate.h",
        "views/frame/browser_window_factory.cc",
        "views/frame/contents_layout_manager.cc",
        "views/frame/contents_layout_manager.h",
        "views/frame/contents_web_view.cc",
        "views/frame/contents_web_view.h",
        "views/frame/hosted_app_button_container.cc",
        "views/frame/hosted_app_button_container.h",
        "views/frame/hosted_app_menu_button.cc",
        "views/frame/hosted_app_menu_button.h",
        "views/frame/hosted_app_origin_text.cc",
        "views/frame/hosted_app_origin_text.h",
        "views/frame/immersive_mode_controller.cc",
        "views/frame/immersive_mode_controller.h",
        "views/frame/immersive_mode_controller_factory_views.cc",
        "views/frame/immersive_mode_controller_stub.cc",
        "views/frame/immersive_mode_controller_stub.h",
        "views/frame/native_browser_frame.h",
        "views/frame/native_browser_frame_factory.cc",
        "views/frame/native_browser_frame_factory.h",
        "views/frame/system_menu_model_builder.cc",
        "views/frame/system_menu_model_builder.h",
        "views/frame/system_menu_model_delegate.cc",
        "views/frame/system_menu_model_delegate.h",
        "views/frame/toolbar_button_provider.h",
        "views/frame/top_container_view.cc",
        "views/frame/top_container_view.h",
        "views/frame/web_contents_close_handler.cc",
        "views/frame/web_contents_close_handler.h",
        "views/frame/web_contents_close_handler_delegate.h",
        "views/hung_renderer_view.cc",
        "views/hung_renderer_view.h",
        "views/ime/ime_warning_bubble_view.cc",
        "views/ime/ime_warning_bubble_view.h",
        "views/infobars/alternate_nav_infobar_view.cc",
        "views/infobars/alternate_nav_infobar_view.h",
        "views/infobars/confirm_infobar.cc",
        "views/infobars/confirm_infobar.h",
        "views/infobars/infobar_container_view.cc",
        "views/infobars/infobar_container_view.h",
        "views/infobars/infobar_view.cc",
        "views/infobars/infobar_view.h",
        "views/load_complete_listener.cc",
        "views/load_complete_listener.h",
        "views/location_bar/background_with_1_px_border.cc",
        "views/location_bar/background_with_1_px_border.h",
        "views/location_bar/content_setting_image_view.cc",
        "views/location_bar/content_setting_image_view.h",
        "views/location_bar/find_bar_icon.cc",
        "views/location_bar/find_bar_icon.h",
        "views/location_bar/icon_label_bubble_view.cc",
        "views/location_bar/icon_label_bubble_view.h",
        "views/location_bar/keyword_hint_view.cc",
        "views/location_bar/keyword_hint_view.h",
        "views/location_bar/location_bar_layout.cc",
        "views/location_bar/location_bar_layout.h",
        "views/location_bar/location_bar_view.cc",
        "views/location_bar/location_bar_view.h",
        "views/location_bar/location_icon_view.cc",
        "views/location_bar/location_icon_view.h",
        "views/location_bar/selected_keyword_view.cc",
        "views/location_bar/selected_keyword_view.h",
        "views/location_bar/star_view.cc",
        "views/location_bar/star_view.h",
        "views/media_router/cast_dialog_metrics.cc",
        "views/media_router/cast_dialog_metrics.h",
        "views/media_router/cast_dialog_no_sinks_view.cc",
        "views/media_router/cast_dialog_no_sinks_view.h",
        "views/media_router/cast_dialog_sink_button.cc",
        "views/media_router/cast_dialog_sink_button.h",
        "views/media_router/cast_dialog_view.cc",
        "views/media_router/cast_dialog_view.h",
        "views/media_router/cast_toolbar_button.cc",
        "views/media_router/cast_toolbar_button.h",
        "views/media_router/cloud_services_dialog_view.cc",
        "views/media_router/cloud_services_dialog_view.h",
        "views/media_router/media_remoting_dialog_view.cc",
        "views/media_router/media_remoting_dialog_view.h",
        "views/media_router/media_router_dialog_controller_views.cc",
        "views/media_router/media_router_dialog_controller_views.h",
        "views/media_router/media_router_views_ui.cc",
        "views/media_router/media_router_views_ui.h",
        "views/media_router/presentation_receiver_window_factory.cc",
        "views/media_router/presentation_receiver_window_frame.cc",
        "views/media_router/presentation_receiver_window_frame.h",
        "views/media_router/presentation_receiver_window_view.cc",
        "views/media_router/presentation_receiver_window_view.h",
        "views/media_router/web_contents_display_observer_view.cc",
        "views/media_router/web_contents_display_observer_view.h",
        "views/omnibox/omnibox_match_cell_view.cc",
        "views/omnibox/omnibox_match_cell_view.h",
        "views/omnibox/omnibox_popup_contents_view.cc",
        "views/omnibox/omnibox_popup_contents_view.h",
        "views/omnibox/omnibox_result_view.cc",
        "views/omnibox/omnibox_result_view.h",
        "views/omnibox/omnibox_tab_switch_button.cc",
        "views/omnibox/omnibox_tab_switch_button.h",
        "views/omnibox/omnibox_text_view.cc",
        "views/omnibox/omnibox_text_view.h",
        "views/omnibox/omnibox_view_views.cc",
        "views/omnibox/omnibox_view_views.h",
        "views/omnibox/rounded_omnibox_results_frame.cc",
        "views/omnibox/rounded_omnibox_results_frame.h",
        "views/page_action/page_action_icon_container_view.cc",
        "views/page_action/page_action_icon_container_view.h",
        "views/page_action/page_action_icon_view.cc",
        "views/page_action/page_action_icon_view.h",
        "views/page_action/zoom_view.cc",
        "views/page_action/zoom_view.h",
        "views/passwords/manage_passwords_icon_views.cc",
        "views/passwords/manage_passwords_icon_views.h",
        "views/passwords/password_generation_popup_view_views.cc",
        "views/passwords/password_generation_popup_view_views.h",
        "views/permission_bubble/chooser_bubble_ui_views.cc",
        "views/permission_bubble/permission_prompt_impl_views.cc",
        "views/profiles/avatar_button_style.h",
        "views/profiles/avatar_toolbar_button.cc",
        "views/profiles/avatar_toolbar_button.h",
        "views/profiles/profile_indicator_icon.cc",
        "views/profiles/profile_indicator_icon.h",
        "views/profiles/signin_view_controller_delegate_views.cc",
        "views/profiles/signin_view_controller_delegate_views.h",
        "views/proximity_auth/proximity_auth_error_bubble_view.cc",
        "views/proximity_auth/proximity_auth_error_bubble_view.h",
        "views/sad_tab_view.cc",
        "views/sad_tab_view.h",
        "views/ssl_client_certificate_selector.cc",
        "views/ssl_client_certificate_selector.h",
        "views/status_bubble_views.cc",
        "views/status_bubble_views.h",
        "views/tab_contents/chrome_web_contents_view_focus_helper.cc",
        "views/tab_contents/chrome_web_contents_view_focus_helper.h",
        "views/tab_dialogs_views.cc",
        "views/tab_dialogs_views.h",
        "views/tab_icon_view.cc",
        "views/tab_icon_view.h",
        "views/tab_modal_confirm_dialog_views.cc",
        "views/tab_modal_confirm_dialog_views.h",
        "views/tabs/alert_indicator_button.cc",
        "views/tabs/alert_indicator_button.h",
        "views/tabs/browser_tab_strip_controller.cc",
        "views/tabs/browser_tab_strip_controller.h",
        "views/tabs/glow_hover_controller.cc",
        "views/tabs/glow_hover_controller.h",
        "views/tabs/new_tab_button.cc",
        "views/tabs/new_tab_button.h",
        "views/tabs/stacked_tab_strip_layout.cc",
        "views/tabs/stacked_tab_strip_layout.h",
        "views/tabs/tab.cc",
        "views/tabs/tab.h",
        "views/tabs/tab_close_button.cc",
        "views/tabs/tab_close_button.h",
        "views/tabs/tab_controller.h",
        "views/tabs/tab_drag_controller.cc",
        "views/tabs/tab_drag_controller.h",
        "views/tabs/tab_icon.cc",
        "views/tabs/tab_icon.h",
        "views/tabs/tab_strip.cc",
        "views/tabs/tab_strip.h",
        "views/tabs/tab_strip_controller.h",
        "views/tabs/tab_strip_layout.cc",
        "views/tabs/tab_strip_layout.h",
        "views/tabs/window_finder.h",
        "views/theme_copying_widget.cc",
        "views/theme_copying_widget.h",
        "views/toolbar/app_menu.cc",
        "views/toolbar/app_menu.h",
        "views/toolbar/app_menu_observer.h",
        "views/toolbar/browser_actions_container.cc",
        "views/toolbar/browser_actions_container.h",
        "views/toolbar/browser_app_menu_button.cc",
        "views/toolbar/browser_app_menu_button.h",
        "views/toolbar/extension_toolbar_menu_view.cc",
        "views/toolbar/extension_toolbar_menu_view.h",
        "views/toolbar/home_button.cc",
        "views/toolbar/home_button.h",
        "views/toolbar/media_router_action_platform_delegate_views.cc",
        "views/toolbar/media_router_action_platform_delegate_views.h",
        "views/toolbar/reload_button.cc",
        "views/toolbar/reload_button.h",
        "views/toolbar/toolbar_action_view.cc",
        "views/toolbar/toolbar_action_view.h",
        "views/toolbar/toolbar_action_view_delegate_views.h",
        "views/toolbar/toolbar_button.cc",
        "views/toolbar/toolbar_button.h",
        "views/toolbar/toolbar_ink_drop_util.cc",
        "views/toolbar/toolbar_ink_drop_util.h",
        "views/toolbar/toolbar_view.cc",
        "views/toolbar/toolbar_view.h",
        "views/translate/translate_icon_view.cc",
        "views/translate/translate_icon_view.h",
        "views/webshare/webshare_target_picker_view.cc",
        "views/webshare/webshare_target_picker_view.h",
        "views_mode_controller.cc",
        "views_mode_controller.h",
      ]

      deps += [ "//ui/views:features" ]

      if (is_mac) {
        # This Mac-specific file is being removed in this case because it's only
        # needed when Views isn't used on Mac.
        sources -=
            [ "media_router/presentation_receiver_window_factory_mac.cc" ]

        # This source file is compiled out on Mac because there is a
        # Mac-specific implementation of it that works on mac_views_browser
        # builds as well:
        sources -= [ "views/permission_bubble/permission_prompt_impl_views.cc" ]
      }

      if (!is_chromeos) {
        sources += [
          "views/frame/opaque_browser_frame_view.cc",
          "views/frame/opaque_browser_frame_view.h",
          "views/frame/opaque_browser_frame_view_layout.cc",
          "views/frame/opaque_browser_frame_view_layout.h",
          "views/frame/opaque_browser_frame_view_layout_delegate.h",
          "views/frame/opaque_browser_frame_view_linux.cc",
          "views/frame/opaque_browser_frame_view_linux.h",
          "views/frame/opaque_browser_frame_view_platform_specific.cc",
          "views/frame/opaque_browser_frame_view_platform_specific.h",
          "views/outdated_upgrade_bubble_view.cc",
          "views/outdated_upgrade_bubble_view.h",
          "views/policy/enterprise_startup_dialog_view.cc",
          "views/policy/enterprise_startup_dialog_view.h",
          "views/profiles/forced_reauthentication_dialog_view.cc",
          "views/profiles/forced_reauthentication_dialog_view.h",
          "views/sync/one_click_signin_dialog_view.cc",
          "views/sync/one_click_signin_dialog_view.h",
          "views/tabs/window_finder.cc",
        ]
      }

      if (use_aura) {
        deps += [
          "//services/ws/public/cpp",
          "//services/ws/public/mojom",
        ]
      }
    }

    if (enable_native_window_nav_buttons) {
      sources += [
        "views/frame/desktop_linux_browser_frame_view.cc",
        "views/frame/desktop_linux_browser_frame_view.h",
        "views/frame/desktop_linux_browser_frame_view_layout.cc",
        "views/frame/desktop_linux_browser_frame_view_layout.h",
      ]
    }

    if (is_desktop_linux) {
      sources += [ "views/chrome_views_delegate_linux.cc" ]
    }

    if (is_linux) {
      sources += [
        "views/frame/browser_command_handler_linux.cc",
        "views/frame/browser_command_handler_linux.h",
        "views/process_singleton_dialog_linux.cc",
        "views/status_icons/status_tray_linux.cc",
        "views/status_icons/status_tray_linux.h",
      ]
    }

    if (is_mac) {
      sources += [ "views/chrome_platform_style_mac.mm" ]
    }

    if (is_win) {
      sources += [ "views/chrome_views_delegate_win.cc" ]
    }

    if (is_win || is_desktop_linux) {
      sources += [
        "views/native_widget_factory.cc",
        "views/native_widget_factory.h",
      ]
    }

    if (use_aura) {
      deps += [ "//components/ui_devtools/views" ]

      # These files do Gtk+-based theming, but Gtk+ is not available on
      # Ozone builds, or on common environments where Ozone will be used.
      #
      # TODO(tonikitoo): It seems sensible to make it possible to opt-in
      # the use of these files in case Gtk is available with its Wayland.
      if (!use_ozone && is_desktop_linux) {
        sources += [
          "views/chrome_browser_main_extra_parts_views_linux.cc",
          "views/chrome_browser_main_extra_parts_views_linux.h",
        ]
      }
    }

    if (is_chromeos) {
      sources += [
        "views/relaunch_notification/relaunch_notification_controller_platform_impl_chromeos.cc",
        "views/relaunch_notification/relaunch_notification_controller_platform_impl_chromeos.h",
      ]
    } else {
      sources += [
        "views/relaunch_notification/relaunch_notification_controller_platform_impl_desktop.cc",
        "views/relaunch_notification/relaunch_notification_controller_platform_impl_desktop.h",
        "views/relaunch_notification/relaunch_recommended_bubble_view.cc",
        "views/relaunch_notification/relaunch_recommended_bubble_view.h",
        "views/relaunch_notification/relaunch_required_dialog_view.cc",
        "views/relaunch_notification/relaunch_required_dialog_view.h",
        "views/screen_capture_notification_ui_views.cc",
      ]
    }

    if (is_mac) {
      sources += [
        "views/policy/enterprise_startup_dialog_mac_util.h",
        "views/policy/enterprise_startup_dialog_mac_util.mm",
        "views/relaunch_notification/get_app_menu_anchor_point.h",
        "views/relaunch_notification/get_app_menu_anchor_point.mm",
      ]
    }

    if (is_chrome_branded) {
      deps += [ "//chrome/browser/ui/media_router/internal/vector_icons" ]
    }

    if (is_win) {
      sources += [
        "views/feature_promos/bookmark_bar_promo_bubble_view.cc",
        "views/feature_promos/bookmark_bar_promo_bubble_view.h",
      ]
    }
  }

  if (use_aura) {
    sources += [
      "aura/accessibility/automation_manager_aura.cc",
      "aura/accessibility/automation_manager_aura.h",
      "aura/accessibility/ax_root_obj_wrapper.cc",
      "aura/accessibility/ax_root_obj_wrapper.h",
      "aura/accessibility/ax_tree_source_aura.cc",
      "aura/accessibility/ax_tree_source_aura.h",
      "aura/native_window_tracker_aura.cc",
      "aura/native_window_tracker_aura.h",
      "aura/tab_contents/web_drag_bookmark_handler_aura.cc",
      "aura/tab_contents/web_drag_bookmark_handler_aura.h",
      "ime/ime_native_window.h",
      "ime/ime_window.cc",
      "ime/ime_window.h",
      "ime/ime_window_observer.h",
      "views/accelerator_utils_aura.cc",
      "views/apps/app_window_desktop_native_widget_aura_win.cc",
      "views/apps/app_window_desktop_native_widget_aura_win.h",
      "views/apps/app_window_desktop_window_tree_host_win.cc",
      "views/apps/app_window_desktop_window_tree_host_win.h",
      "views/apps/app_window_easy_resize_window_targeter.cc",
      "views/apps/app_window_easy_resize_window_targeter.h",
      "views/apps/chrome_app_window_client_views_chromeos.cc",
      "views/apps/chrome_app_window_client_views_win.cc",
      "views/apps/chrome_native_app_window_views_aura.cc",
      "views/apps/chrome_native_app_window_views_aura.h",
      "views/apps/chrome_native_app_window_views_win.cc",
      "views/apps/chrome_native_app_window_views_win.h",
      "views/apps/glass_app_window_frame_view_win.cc",
      "views/apps/glass_app_window_frame_view_win.h",
      "views/apps/shaped_app_window_targeter.cc",
      "views/apps/shaped_app_window_targeter.h",
      "views/color_chooser_aura.cc",
      "views/color_chooser_aura.h",
      "views/crypto_module_password_dialog_view.cc",
      "views/crypto_module_password_dialog_view.h",
      "views/desktop_capture/desktop_media_list_view.cc",
      "views/desktop_capture/desktop_media_list_view.h",
      "views/desktop_capture/desktop_media_picker_views.cc",
      "views/desktop_capture/desktop_media_picker_views.h",
      "views/desktop_capture/desktop_media_source_view.cc",
      "views/desktop_capture/desktop_media_source_view.h",
      "views/dropdown_bar_host_aura.cc",
      "views/frame/browser_non_client_frame_view_factory_chromeos.cc",
      "views/ime/ime_window_frame_view.cc",
      "views/ime/ime_window_frame_view.h",
      "views/ime/ime_window_view.cc",
      "views/ime/ime_window_view.h",
      "views/renderer_context_menu/render_view_context_menu_views.cc",
      "views/renderer_context_menu/render_view_context_menu_views.h",
      "views/tab_contents/chrome_web_contents_view_delegate_views.cc",
      "views/tab_contents/chrome_web_contents_view_delegate_views.h",
      "views/theme_profile_key.cc",
      "views/theme_profile_key.h",
      "window_sizer/window_sizer_aura.cc",
    ]
    deps += [
      "//ui/aura",
      "//ui/wm",
    ]

    if (!is_chromeos) {
      sources += [
        "views/frame/browser_non_client_frame_view_factory_views.cc",
        "views/frame/desktop_browser_frame_aura.cc",
        "views/frame/desktop_browser_frame_aura.h",
        "views/message_center/popups_only_ui_delegate.cc",
        "views/message_center/popups_only_ui_delegate.h",
      ]
    }
  }

  if (enable_app_list) {
    sources += [
      "app_list/app_context_menu.cc",
      "app_list/app_context_menu.h",
      "app_list/app_context_menu_delegate.h",
      "app_list/app_list_client_impl.cc",
      "app_list/app_list_client_impl.h",
      "app_list/app_list_controller_delegate.cc",
      "app_list/app_list_controller_delegate.h",
      "app_list/app_list_model_builder.cc",
      "app_list/app_list_model_builder.h",
      "app_list/app_list_model_updater.h",
      "app_list/app_list_model_updater_delegate.h",
      "app_list/app_list_syncable_service.cc",
      "app_list/app_list_syncable_service.h",
      "app_list/app_list_syncable_service_factory.cc",
      "app_list/app_list_syncable_service_factory.h",
      "app_list/chrome_app_list_item.cc",
      "app_list/chrome_app_list_item.h",
      "app_list/chrome_app_list_model_updater.cc",
      "app_list/chrome_app_list_model_updater.h",
      "app_list/extension_app_context_menu.cc",
      "app_list/extension_app_context_menu.h",
      "app_list/extension_app_item.cc",
      "app_list/extension_app_item.h",
      "app_list/extension_app_model_builder.cc",
      "app_list/extension_app_model_builder.h",
      "app_list/extension_app_utils.cc",
      "app_list/extension_app_utils.h",
      "app_list/extension_uninstaller.cc",
      "app_list/extension_uninstaller.h",
      "app_list/search/answer_card/answer_card_contents.cc",
      "app_list/search/answer_card/answer_card_contents.h",
      "app_list/search/answer_card/answer_card_result.cc",
      "app_list/search/answer_card/answer_card_result.h",
      "app_list/search/answer_card/answer_card_search_provider.cc",
      "app_list/search/answer_card/answer_card_search_provider.h",
      "app_list/search/answer_card/answer_card_web_contents.cc",
      "app_list/search/answer_card/answer_card_web_contents.h",
      "app_list/search/app_result.cc",
      "app_list/search/app_result.h",
      "app_list/search/app_search_provider.cc",
      "app_list/search/app_search_provider.h",
      "app_list/search/arc/arc_app_data_search_provider.cc",
      "app_list/search/arc/arc_app_data_search_provider.h",
      "app_list/search/arc/arc_app_data_search_result.cc",
      "app_list/search/arc/arc_app_data_search_result.h",
      "app_list/search/arc/arc_app_shortcut_search_result.cc",
      "app_list/search/arc/arc_app_shortcut_search_result.h",
      "app_list/search/arc/arc_app_shortcuts_search_provider.cc",
      "app_list/search/arc/arc_app_shortcuts_search_provider.h",
      "app_list/search/arc/arc_playstore_search_provider.cc",
      "app_list/search/arc/arc_playstore_search_provider.h",
      "app_list/search/arc/arc_playstore_search_result.cc",
      "app_list/search/arc/arc_playstore_search_result.h",
      "app_list/search/chrome_search_result.cc",
      "app_list/search/chrome_search_result.h",
      "app_list/search/common/json_response_fetcher.cc",
      "app_list/search/common/json_response_fetcher.h",
      "app_list/search/common/url_icon_source.cc",
      "app_list/search/common/url_icon_source.h",
      "app_list/search/common/webservice_cache.cc",
      "app_list/search/common/webservice_cache.h",
      "app_list/search/common/webservice_cache_factory.cc",
      "app_list/search/common/webservice_cache_factory.h",
      "app_list/search/common/webservice_search_provider.cc",
      "app_list/search/common/webservice_search_provider.h",
      "app_list/search/dictionary_data_store.cc",
      "app_list/search/dictionary_data_store.h",
      "app_list/search/extension_app_result.cc",
      "app_list/search/extension_app_result.h",
      "app_list/search/mixer.cc",
      "app_list/search/mixer.h",
      "app_list/search/omnibox_provider.cc",
      "app_list/search/omnibox_provider.h",
      "app_list/search/omnibox_result.cc",
      "app_list/search/omnibox_result.h",
      "app_list/search/search_controller.cc",
      "app_list/search/search_controller.h",
      "app_list/search/search_controller_factory.cc",
      "app_list/search/search_controller_factory.h",
      "app_list/search/search_provider.cc",
      "app_list/search/search_provider.h",
      "app_list/search/search_resource_manager.cc",
      "app_list/search/search_resource_manager.h",
      "app_list/search/search_result_ranker/app_launch_predictor.cc",
      "app_list/search/search_result_ranker/app_launch_predictor.h",
      "app_list/search/search_result_ranker/app_search_result_ranker.cc",
      "app_list/search/search_result_ranker/app_search_result_ranker.h",
      "app_list/search/search_util.cc",
      "app_list/search/search_util.h",
      "app_list/search/search_webstore_result.cc",
      "app_list/search/search_webstore_result.h",
      "app_list/search/settings_shortcut/settings_shortcut_metadata.cc",
      "app_list/search/settings_shortcut/settings_shortcut_metadata.h",
      "app_list/search/settings_shortcut/settings_shortcut_provider.cc",
      "app_list/search/settings_shortcut/settings_shortcut_provider.h",
      "app_list/search/settings_shortcut/settings_shortcut_result.cc",
      "app_list/search/settings_shortcut/settings_shortcut_result.h",
      "app_list/search/webstore/webstore_installer.cc",
      "app_list/search/webstore/webstore_installer.h",
      "app_list/search/webstore/webstore_provider.cc",
      "app_list/search/webstore/webstore_provider.h",
      "app_list/search/webstore/webstore_result.cc",
      "app_list/search/webstore/webstore_result.h",
    ]
    deps += [
      # TODO(wutao): Put new icons resources to ash/public/cpp/vector_icons/
      # when UX provides them.
      "//ash/app_list",
      "//ash/public/cpp/app_list/vector_icons",
      "//ash/resources/vector_icons",
      "//ui/views/mus/remote_view:remote_view_provider",
    ]

    if (is_chromeos) {
      sources += [
        "app_icon_loader_delegate.h",
        "app_list/arc/arc_app_context_menu.cc",
        "app_list/arc/arc_app_context_menu.h",
        "app_list/arc/arc_app_dialog.h",
        "app_list/arc/arc_app_icon.cc",
        "app_list/arc/arc_app_icon.h",
        "app_list/arc/arc_app_icon_descriptor.cc",
        "app_list/arc/arc_app_icon_descriptor.h",
        "app_list/arc/arc_app_icon_loader.cc",
        "app_list/arc/arc_app_icon_loader.h",
        "app_list/arc/arc_app_item.cc",
        "app_list/arc/arc_app_item.h",
        "app_list/arc/arc_app_launcher.cc",
        "app_list/arc/arc_app_launcher.h",
        "app_list/arc/arc_app_list_prefs.cc",
        "app_list/arc/arc_app_list_prefs.h",
        "app_list/arc/arc_app_list_prefs_factory.cc",
        "app_list/arc/arc_app_list_prefs_factory.h",
        "app_list/arc/arc_app_model_builder.cc",
        "app_list/arc/arc_app_model_builder.h",
        "app_list/arc/arc_app_utils.cc",
        "app_list/arc/arc_app_utils.h",
        "app_list/arc/arc_data_removal_dialog.h",
        "app_list/arc/arc_default_app_list.cc",
        "app_list/arc/arc_default_app_list.h",
        "app_list/arc/arc_fast_app_reinstall_starter.cc",
        "app_list/arc/arc_fast_app_reinstall_starter.h",
        "app_list/arc/arc_package_sync_data_type_controller.cc",
        "app_list/arc/arc_package_sync_data_type_controller.h",
        "app_list/arc/arc_package_syncable_service.cc",
        "app_list/arc/arc_package_syncable_service.h",
        "app_list/arc/arc_package_syncable_service_factory.cc",
        "app_list/arc/arc_package_syncable_service_factory.h",
        "app_list/arc/arc_pai_starter.cc",
        "app_list/arc/arc_pai_starter.h",
        "app_list/arc/arc_playstore_app_context_menu.cc",
        "app_list/arc/arc_playstore_app_context_menu.h",
        "app_list/arc/arc_usb_host_permission_manager.cc",
        "app_list/arc/arc_usb_host_permission_manager.h",
        "app_list/arc/arc_usb_host_permission_manager_factory.cc",
        "app_list/arc/arc_usb_host_permission_manager_factory.h",
        "app_list/arc/arc_vpn_provider_manager.cc",
        "app_list/arc/arc_vpn_provider_manager.h",
        "app_list/arc/arc_vpn_provider_manager_factory.cc",
        "app_list/arc/arc_vpn_provider_manager_factory.h",
        "app_list/crostini/crostini_app_context_menu.cc",
        "app_list/crostini/crostini_app_context_menu.h",
        "app_list/crostini/crostini_app_icon.cc",
        "app_list/crostini/crostini_app_icon.h",
        "app_list/crostini/crostini_app_icon_loader.cc",
        "app_list/crostini/crostini_app_icon_loader.h",
        "app_list/crostini/crostini_app_item.cc",
        "app_list/crostini/crostini_app_item.h",
        "app_list/crostini/crostini_app_model_builder.cc",
        "app_list/crostini/crostini_app_model_builder.h",
        "app_list/internal_app/internal_app_icon_loader.cc",
        "app_list/internal_app/internal_app_icon_loader.h",
        "app_list/internal_app/internal_app_item.cc",
        "app_list/internal_app/internal_app_item.h",
        "app_list/internal_app/internal_app_metadata.cc",
        "app_list/internal_app/internal_app_metadata.h",
        "app_list/internal_app/internal_app_model_builder.cc",
        "app_list/internal_app/internal_app_model_builder.h",
        "app_list/search/arc_app_result.cc",
        "app_list/search/arc_app_result.h",
        "app_list/search/crostini_app_result.cc",
        "app_list/search/crostini_app_result.h",
        "app_list/search/internal_app_result.cc",
        "app_list/search/internal_app_result.h",
        "ash/launcher/app_window_base.cc",
        "ash/launcher/app_window_base.h",
        "ash/launcher/arc_app_shelf_id.cc",
        "ash/launcher/arc_app_shelf_id.h",
        "ash/launcher/arc_app_window.cc",
        "ash/launcher/arc_app_window.h",
        "ash/launcher/arc_app_window_launcher_controller.cc",
        "ash/launcher/arc_app_window_launcher_controller.h",
        "ash/launcher/arc_app_window_launcher_item_controller.cc",
        "ash/launcher/arc_app_window_launcher_item_controller.h",
        "ash/launcher/arc_launcher_context_menu.cc",
        "ash/launcher/arc_launcher_context_menu.h",
        "ash/launcher/arc_shelf_spinner_item_controller.cc",
        "ash/launcher/arc_shelf_spinner_item_controller.h",
        "ash/launcher/crostini_app_display.cc",
        "ash/launcher/crostini_app_display.h",
        "ash/launcher/crostini_app_window_shelf_controller.cc",
        "ash/launcher/crostini_app_window_shelf_controller.h",
        "ash/launcher/crostini_shelf_context_menu.cc",
        "ash/launcher/crostini_shelf_context_menu.h",
        "ash/launcher/internal_app_shelf_context_menu.cc",
        "ash/launcher/internal_app_shelf_context_menu.h",
        "ash/launcher/internal_app_window_shelf_controller.cc",
        "ash/launcher/internal_app_window_shelf_controller.h",
        "ash/launcher/launcher_arc_app_updater.cc",
        "ash/launcher/launcher_arc_app_updater.h",
        "ash/launcher/launcher_crostini_app_updater.cc",
        "ash/launcher/launcher_crostini_app_updater.h",
        "ash/launcher/shelf_spinner_controller.cc",
        "ash/launcher/shelf_spinner_controller.h",
        "ash/launcher/shelf_spinner_item_controller.cc",
        "ash/launcher/shelf_spinner_item_controller.h",
        "views/arc_app_dialog_view.cc",
        "views/arc_data_removal_dialog_view.cc",
        "views/crostini/crostini_installer_view.cc",
        "views/crostini/crostini_installer_view.h",
        "views/crostini/crostini_uninstaller_view.cc",
        "views/crostini/crostini_uninstaller_view.h",
        "views/crostini/crostini_upgrade_view.cc",
        "views/crostini/crostini_upgrade_view.h",
      ]
      deps += [ "//mash/common" ]
    }
  }

  if (enable_cros_assistant) {
    deps += [
      "//ash/public/cpp",
      "//chromeos/services/assistant:lib",
      "//chromeos/services/assistant/public/mojom",
    ]

    sources += [
      "ash/assistant/assistant_client.cc",
      "ash/assistant/assistant_client.h",
      "ash/assistant/assistant_context_util.cc",
      "ash/assistant/assistant_context_util.h",
      "ash/assistant/assistant_image_downloader.cc",
      "ash/assistant/assistant_image_downloader.h",
      "ash/assistant/assistant_setup.cc",
      "ash/assistant/assistant_setup.h",
      "ash/assistant/device_actions.cc",
      "ash/assistant/device_actions.h",
      "ash/assistant/web_contents_manager.cc",
      "ash/assistant/web_contents_manager.h",
    ]
  }

  if (enable_extensions) {
    deps += [
      "//apps",
      "//chrome/browser/apps",
      "//chrome/browser/apps/platform_apps",  # TODO(loyso): Remove this dep.
      "//chrome/browser/extensions",
      "//chrome/common/extensions/api",
      "//components/drive",
      "//components/guest_view/browser",
      "//extensions/browser",
      "//extensions/common:mojo",
      "//extensions/components/native_app_window",
      "//extensions/strings",
    ]
    allow_circular_includes_from += [
      "//chrome/browser/apps/platform_apps",
      "//chrome/browser/extensions",
    ]
    sources += [
      "extensions/accelerator_priority.cc",
      "extensions/accelerator_priority.h",
      "extensions/app_launch_params.cc",
      "extensions/app_launch_params.h",
      "extensions/application_launch.cc",
      "extensions/application_launch.h",
      "extensions/blocked_action_bubble_delegate.cc",
      "extensions/blocked_action_bubble_delegate.h",
      "extensions/extension_action_platform_delegate.h",
      "extensions/extension_action_view_controller.cc",
      "extensions/extension_action_view_controller.h",
      "extensions/extension_enable_flow.cc",
      "extensions/extension_enable_flow.h",
      "extensions/extension_enable_flow_delegate.h",
      "extensions/extension_install_ui_default.cc",
      "extensions/extension_install_ui_default.h",
      "extensions/extension_install_ui_factory.cc",
      "extensions/extension_install_ui_factory.h",
      "extensions/extension_installed_bubble.cc",
      "extensions/extension_installed_bubble.h",
      "extensions/extension_message_bubble_bridge.cc",
      "extensions/extension_message_bubble_bridge.h",
      "extensions/extension_message_bubble_factory.cc",
      "extensions/extension_message_bubble_factory.h",
      "extensions/hosted_app_browser_controller.cc",
      "extensions/hosted_app_browser_controller.h",
      "extensions/hosted_app_menu_model.cc",
      "extensions/hosted_app_menu_model.h",
      "extensions/icon_with_badge_image_source.cc",
      "extensions/icon_with_badge_image_source.h",
      "extensions/installation_error_infobar_delegate.cc",
      "extensions/installation_error_infobar_delegate.h",
      "extensions/settings_api_bubble_helpers.cc",
      "extensions/settings_api_bubble_helpers.h",
      "views/extensions/extension_popup.cc",
      "views/extensions/extension_popup.h",
      "views/extensions/extension_view_views.cc",
      "views/extensions/extension_view_views.h",
      "webui/extensions/extension_basic_info.cc",
      "webui/extensions/extension_basic_info.h",
      "webui/extensions/extension_icon_source.cc",
      "webui/extensions/extension_icon_source.h",
    ]

    if (!is_mac) {
      deps += [ "//apps/ui/views" ]
    }
    if (!is_mac || mac_views_browser) {
      sources += [
        "views/extensions/browser_action_drag_data.cc",
        "views/extensions/browser_action_drag_data.h",
        "views/extensions/extension_action_platform_delegate_views.cc",
        "views/extensions/extension_action_platform_delegate_views.h",
        "views/extensions/extension_dialog.cc",
        "views/extensions/extension_dialog.h",
        "views/extensions/extension_dialog_observer.cc",
        "views/extensions/extension_dialog_observer.h",
        "views/extensions/media_galleries_dialog_views.cc",
        "views/extensions/media_galleries_dialog_views.h",
        "views/extensions/media_gallery_checkbox_view.cc",
        "views/extensions/media_gallery_checkbox_view.h",
      ]
    }
    if (use_aura) {
      sources += [
        "views/chrome_javascript_native_dialog_factory_views.cc",
        "views/extensions/extension_popup_aura.cc",
        "views/extensions/extension_popup_aura.h",
      ]
      deps += [ "//ui/wm/public" ]
    }
  }

  if (enable_nacl) {
    sources += [
      "webui/nacl_ui.cc",
      "webui/nacl_ui.h",
    ]
    deps += [ "//components/nacl/browser" ]
  }

  if (is_win && is_chrome_branded) {
    deps += [
      "//components/nux:constants",
      "//components/nux:email_feature",
      "//components/nux:google_apps_feature",
    ]
  }

  if (enable_plugins) {
    sources += [
      "hung_plugin_tab_helper.cc",
      "hung_plugin_tab_helper.h",
      "webui/flash_ui.cc",
      "webui/flash_ui.h",
    ]
    deps += [ "//ppapi/proxy:ipc" ]
  }

  if (enable_basic_printing) {
    deps += [
      "//components/printing/browser",
      "//printing",
    ]
    if (!is_chromeos && !is_android) {
      sources += [
        "webui/settings/printing_handler.cc",
        "webui/settings/printing_handler.h",
      ]
    }
    if (use_cups) {
      configs += [ "//printing:cups" ]
    }
  }
  if (enable_print_preview) {
    sources += [
      "webui/print_preview/cloud_printer_handler.cc",
      "webui/print_preview/cloud_printer_handler.h",
      "webui/print_preview/extension_printer_handler.cc",
      "webui/print_preview/extension_printer_handler.h",
      "webui/print_preview/pdf_printer_handler.cc",
      "webui/print_preview/pdf_printer_handler.h",
      "webui/print_preview/policy_settings.cc",
      "webui/print_preview/policy_settings.h",
      "webui/print_preview/print_preview_handler.cc",
      "webui/print_preview/print_preview_handler.h",
      "webui/print_preview/print_preview_ui.cc",
      "webui/print_preview/print_preview_ui.h",
      "webui/print_preview/print_preview_utils.cc",
      "webui/print_preview/print_preview_utils.h",
      "webui/print_preview/printer_handler.cc",
      "webui/print_preview/printer_handler.h",
      "webui/print_preview/sticky_settings.cc",
      "webui/print_preview/sticky_settings.h",
    ]

    if (is_chromeos) {
      sources += [
        "webui/print_preview/local_printer_handler_chromeos.cc",
        "webui/print_preview/local_printer_handler_chromeos.h",
      ]
    } else {
      sources += [
        "webui/print_preview/local_printer_handler_default.cc",
        "webui/print_preview/local_printer_handler_default.h",
      ]
    }

    if (enable_service_discovery) {
      sources += [
        "webui/print_preview/privet_printer_handler.cc",
        "webui/print_preview/privet_printer_handler.h",
      ]
    }
  }

  if (enable_service_discovery) {
    sources += [
      "webui/local_discovery/local_discovery_ui.cc",
      "webui/local_discovery/local_discovery_ui.h",
      "webui/local_discovery/local_discovery_ui_handler.cc",
      "webui/local_discovery/local_discovery_ui_handler.h",
    ]
    if (enable_print_preview && !is_chromeos) {
      deps += [ "//chrome/common:service_process_mojom" ]
    }
  }

  if (safe_browsing_mode == 1) {
    deps += [
      "//chrome/browser/ui/webui/reset_password:mojo_bindings",
      "//chrome/common/safe_browsing:proto",
      "//components/safe_browsing:csd_proto",
    ]
  }

  if (use_dbus) {
    deps += [ "//dbus" ]
  }

  if (use_gio) {
    configs += [ "//build/linux:gio_config" ]
  }

  if (use_nss_certs) {
    sources += [
      "crypto_module_delegate_nss.cc",
      "crypto_module_delegate_nss.h",
      "crypto_module_password_dialog_nss.cc",
      "crypto_module_password_dialog_nss.h",
      "webui/certificate_manager_localized_strings_provider.cc",
      "webui/certificate_manager_localized_strings_provider.h",
      "webui/certificates_handler.cc",
      "webui/certificates_handler.h",
    ]
  }

  if (use_udev) {
    deps += [ "//device/udev_linux" ]
  }

  if (enable_offline_pages) {
    deps += [
      "//components/offline_pages/core",
      "//components/offline_pages/core/background:background_offliner",
      "//components/offline_pages/core/prefetch",
    ]
  }
}

# In GYP this is part of test_support_common.
static_library("test_support") {
  testonly = true

  sources = [
    "cocoa/test/cocoa_test_helper.h",
    "cocoa/test/cocoa_test_helper.mm",
    "cocoa/test/run_loop_testing.h",
    "cocoa/test/run_loop_testing.mm",
    "cocoa/test/scoped_force_rtl_mac.h",
    "cocoa/test/scoped_force_rtl_mac.mm",
    "content_settings/fake_owner.cc",
    "content_settings/fake_owner.h",
    "find_bar/find_bar_host_unittest_util.h",
    "login/login_handler_test_utils.cc",
    "login/login_handler_test_utils.h",
    "passwords/password_ui_view_mock.cc",
    "passwords/password_ui_view_mock.h",
    "permission_bubble/mock_permission_prompt.cc",
    "permission_bubble/mock_permission_prompt.h",
    "permission_bubble/mock_permission_prompt_factory.cc",
    "permission_bubble/mock_permission_prompt_factory.h",
    "toolbar/test_toolbar_action_view_controller.cc",
    "toolbar/test_toolbar_action_view_controller.h",
  ]
  public_deps = [
    ":ui",
  ]
  deps = [
    "//chrome/app/theme:theme_resources",
    "//chrome/browser",
    "//chrome/browser/devtools",
    "//components/password_manager/core/browser",
    "//components/sessions",
    "//components/toolbar",
    "//components/translate/content/browser",
    "//content/public/browser",
    "//content/public/common",
    "//content/test:test_support",
    "//net:test_support",
    "//skia",
    "//testing/gtest",
    "//ui/base",
    "//ui/base:test_support",
    "//ui/gfx:test_support",
    "//ui/shell_dialogs",
  ]

  if (toolkit_views) {
    deps += [
      "//components/constrained_window:constrained_window",
      "//ui/views:test_support",
    ]
    sources += [
      "../../test/views/scoped_macviews_browser_mode.cc",
      "../../test/views/scoped_macviews_browser_mode.h",
      "extensions/browser_action_test_util.h",
      "views/payments/test_chrome_payment_request_delegate.cc",
      "views/payments/test_chrome_payment_request_delegate.h",
      "views/toolbar/browser_action_test_util_views_mac.mm",
      "views/webauthn/authenticator_request_dialog_view_test_api.cc",
      "views/webauthn/authenticator_request_dialog_view_test_api.h",
    ]
    if (is_mac) {
      sources += [
        "cocoa/extensions/browser_action_test_util_views_cocoa.mm",
        "cocoa/find_bar/find_bar_host_unittest_util_cocoa.mm",
      ]
    }
    if (!is_mac || mac_views_browser) {
      sources += [
        "views/find_bar_host_unittest_util_views.cc",
        "views/toolbar/browser_action_test_util_views.cc",
      ]
    }
    if (use_aura) {
      sources += [ "views/toolbar/browser_action_test_util_views_aura.cc" ]
      deps += [
        "//ui/aura",
        "//ui/wm",
      ]
    }
  }

  if (!is_android) {
    sources += [
      "exclusive_access/fullscreen_controller_state_test.cc",
      "exclusive_access/fullscreen_controller_state_test.h",
      "exclusive_access/fullscreen_controller_state_tests.h",
      "exclusive_access/fullscreen_controller_test.cc",
      "exclusive_access/fullscreen_controller_test.h",
      "passwords/manage_passwords_ui_controller_mock.cc",
      "passwords/manage_passwords_ui_controller_mock.h",
      "passwords/password_dialog_controller_mock.cc",
      "passwords/password_dialog_controller_mock.h",
      "passwords/passwords_model_delegate_mock.cc",
      "passwords/passwords_model_delegate_mock.h",
      "tabs/tab_ukm_test_helper.cc",
      "tabs/tab_ukm_test_helper.h",
      "test/test_confirm_bubble_model.cc",
      "test/test_confirm_bubble_model.h",
    ]
    deps += [
      "//chrome/test:test_support_ui",
      "//components/signin/core/browser",
      "//components/ukm:test_support",
      "//components/zoom",
      "//services/metrics/public/mojom",
    ]
  }

  if (is_chromeos) {
    sources += [
      "ash/fake_tablet_mode_controller.cc",
      "ash/fake_tablet_mode_controller.h",
      "ash/test_wallpaper_controller.cc",
      "ash/test_wallpaper_controller.h",
    ]
    deps += [ "//ash/public/cpp" ]
  }

  if (enable_extensions) {
    deps += [ "//extensions/browser" ]
  }
}
