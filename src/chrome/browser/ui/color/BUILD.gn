# Copyright 2019 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//ui/base/ui_features.gni")

source_set("color_headers") {
  sources = [ "chrome_color_id.h" ]

  public_deps = [ "//ui/color:color_headers" ]
}

source_set("mixers") {
  sources = [
    "chrome_color_mixer.cc",
    "chrome_color_mixer.h",
    "chrome_color_mixers.cc",
    "chrome_color_mixers.h",
    "chrome_color_provider_utils.cc",
    "chrome_color_provider_utils.h",
    "native_chrome_color_mixer.cc",
    "native_chrome_color_mixer.h",
    "omnibox_color_mixer.cc",
    "omnibox_color_mixer.h",
  ]

  deps = [
    ":color_headers",
    "//ui/color:color",
    "//ui/color:mixers",
  ]

  if (is_win) {
    sources += [ "win/native_chrome_color_mixer_win.cc" ]
  }
}

if (!is_ios && !is_android && !is_chromecast && !is_fuchsia) {
  executable("dump_colors") {
    testonly = true

    sources = [ "tools/dump_colors.cc" ]

    deps = [
      ":color_headers",
      ":mixers",
      "//chrome/browser",
      "//ui/color:mixers",
    ]

    if (is_mac) {
      sources += [
        "//chrome/app/chrome_crash_reporter_client.cc",
        "//chrome/app/chrome_crash_reporter_client_mac.mm",
      ]

      deps += [
        "//chrome/app_shim",
        "//components/upload_list",
      ]
    }

    if (is_win) {
      deps += [
        "//chrome/chrome_elf:test_stubs",
        "//components/crash/core/app:crash_export_thunks",
      ]
    }
    if (is_chromeos_ash) {
      deps += [ "//components/exo/wayland:weston_test_stub" ]
    }
  }
}
