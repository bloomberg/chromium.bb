# Copyright 2022 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/chromeos/ui_mode.gni")
import("//build/config/ozone.gni")
import("//extensions/buildflags/buildflags.gni")

assert(enable_extensions, "Ash Chrome has to be built with extensions")
assert(is_chromeos_ash)
assert(use_ozone)

source_set("ash") {
  configs += [ "//build/config/compiler:wexit_time_destructors" ]

  sources = [
    "accessibility/accessibility_event_rewriter_delegate_impl.cc",
    "accessibility/accessibility_event_rewriter_delegate_impl.h",
    "accessibility/accessibility_extension_loader.cc",
    "accessibility/accessibility_extension_loader.h",
    "accessibility/accessibility_manager.cc",
    "accessibility/accessibility_manager.h",
    "accessibility/accessibility_panel.cc",
    "accessibility/accessibility_panel.h",
    "accessibility/chromevox_panel.cc",
    "accessibility/chromevox_panel.h",
    "accessibility/dictation.cc",
    "accessibility/dictation.h",
    "accessibility/event_handler_common.cc",
    "accessibility/event_handler_common.h",
    "accessibility/magnification_manager.cc",
    "accessibility/magnification_manager.h",
    "accessibility/magnifier_type.h",
    "accessibility/pumpkin_installer.cc",
    "accessibility/pumpkin_installer.h",
    "accessibility/select_to_speak_event_handler_delegate_impl.cc",
    "accessibility/select_to_speak_event_handler_delegate_impl.h",
    "account_manager/account_apps_availability.cc",
    "account_manager/account_apps_availability.h",
    "account_manager/account_apps_availability_factory.cc",
    "account_manager/account_apps_availability_factory.h",
    "account_manager/account_manager_edu_coexistence_controller.cc",
    "account_manager/account_manager_edu_coexistence_controller.h",
    "account_manager/account_manager_facade_factory_ash.cc",
    "account_manager/account_manager_policy_controller.cc",
    "account_manager/account_manager_policy_controller.h",
    "account_manager/account_manager_policy_controller_factory.cc",
    "account_manager/account_manager_policy_controller_factory.h",
    "account_manager/account_manager_ui_impl.cc",
    "account_manager/account_manager_ui_impl.h",
    "account_manager/account_manager_util.cc",
    "account_manager/account_manager_util.h",
    "account_manager/child_account_type_changed_user_data.cc",
    "account_manager/child_account_type_changed_user_data.h",
    "android_sms/android_sms_app_manager.cc",
    "android_sms/android_sms_app_manager.h",
    "android_sms/android_sms_app_manager_impl.cc",
    "android_sms/android_sms_app_manager_impl.h",
    "android_sms/android_sms_app_setup_controller.h",
    "android_sms/android_sms_app_setup_controller_impl.cc",
    "android_sms/android_sms_app_setup_controller_impl.h",
    "android_sms/android_sms_pairing_state_tracker_impl.cc",
    "android_sms/android_sms_pairing_state_tracker_impl.h",
    "android_sms/android_sms_service.cc",
    "android_sms/android_sms_service.h",
    "android_sms/android_sms_service_factory.cc",
    "android_sms/android_sms_service_factory.h",
    "android_sms/android_sms_switches.cc",
    "android_sms/android_sms_switches.h",
    "android_sms/android_sms_urls.cc",
    "android_sms/android_sms_urls.h",
    "android_sms/connection_establisher.h",
    "android_sms/connection_manager.cc",
    "android_sms/connection_manager.h",
    "android_sms/fcm_connection_establisher.cc",
    "android_sms/fcm_connection_establisher.h",
  ]

  allow_circular_includes_from = [
    "//chrome/browser/chromeos",
    "//chrome/browser/extensions",
  ]

  public_deps = [
    "//ash/components/audio",
    "//ash/public/cpp",
    "//ash/services/multidevice_setup/public/cpp",
    "//ash/services/multidevice_setup/public/cpp:android_sms_app_helper_delegate",
    "//ash/services/multidevice_setup/public/cpp:android_sms_pairing_state_tracker",
    "//base",
    "//chrome/browser/chromeos",
    "//chrome/browser/extensions",
    "//chrome/browser/profiles:profile",
    "//chrome/browser/web_applications",
    "//components/account_id",
    "//components/account_manager_core",
    "//components/content_settings/core/browser",
    "//components/keyed_service/content",
    "//components/keyed_service/core",
    "//components/prefs",
    "//components/session_manager/core",
    "//components/signin/public/identity_manager",
    "//components/soda",
    "//components/user_manager",
    "//content/public/browser",
    "//extensions/browser",
    "//mojo/public/cpp/bindings",
    "//net",
    "//services/media_session/public/mojom",
    "//services/network/public/mojom:cookies_mojom",
    "//third_party/abseil-cpp:absl",
    "//ui/accessibility:ax_enums_mojo_headers",
    "//ui/base/ime",
    "//ui/base/ime/ash",
    "//ui/events",
    "//ui/gfx/geometry",
    "//ui/views",
    "//url",
  ]

  deps = [
    "//ash",
    "//ash/components/account_manager",
    "//ash/components/multidevice/logging",
    "//ash/constants",
    "//ash/services/multidevice_setup/public/cpp:prefs",
    "//ash/services/multidevice_setup/public/mojom",
    "//chrome/app:generated_resources",
    "//chrome/browser:browser_process",
    "//chrome/browser:resources",
    "//chrome/browser/ash/crosapi",
    "//chrome/browser/ui/webui/settings/chromeos/constants:mojom",
    "//chrome/common",
    "//chrome/common:constants",
    "//chrome/common/extensions/api",
    "//chromeos/ash/components/dbus/upstart",
    "//chromeos/constants",
    "//chromeos/dbus/dlcservice",
    "//chromeos/dbus/power",
    "//components/language/core/browser",
    "//components/language/core/common",
    "//components/live_caption:constants",
    "//components/pref_registry",
    "//components/webapps/browser",
    "//components/webapps/browser:constants",
    "//content/public/common",
    "//extensions/browser/api/virtual_keyboard_private",
    "//extensions/browser/api/virtual_keyboard_private:virtual_keyboard_delegate",
    "//extensions/common",
    "//extensions/common:common_constants",
    "//extensions/common:mojom",
    "//services/audio/public/cpp",
    "//services/network/public/cpp",
    "//third_party/blink/public/common:headers",
    "//third_party/blink/public/mojom:mojom_platform",
    "//ui/accessibility:ax_base",
    "//ui/accessibility:ax_enums_mojo",
    "//ui/base",
    "//ui/base/ime:ime_types",
    "//ui/compositor",
    "//ui/content_accelerators",
    "//ui/display",
    "//ui/events/blink",
    "//ui/views/controls/webview",
    "//ui/wm",
  ]
}
