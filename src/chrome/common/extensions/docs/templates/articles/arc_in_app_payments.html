<h1>In-app Purchases for ARC Apps</h1>

<p>
As of Chrome 44, you can enable In-app Purchases in <a
href="getstarted_arc">your ARC app</a>. This article explains how.
</p>

<p class="note">
<b>Note</b>:
In-app payments for ARC apps are subject to a 30% transaction fee.
For example, if you charge $1.99 for an item offered in an ARC app, youâ€™ll receive $1.39.
This is to ensure a consistent pricing structure with in-app payments made in apps available on Google Play.
Paid ARC apps are currently not supported.
</p>

<h2 id="getstarted">Getting started</h2>
<p>
If your app uses <a
href="https://developer.android.com/google/play/billing/index.html"> In-app
Billing</a> on Android, you have probably created a product list in the Google
Play Developer Console. You will need to recreate your product list in the
Chrome Web Store Developer Dashboard. Go to the <a
href="https://chrome.google.com/webstore/developer/dashboard"> Developer
Dashboard</a> and edit your app. Click on the <strong>In-app Products</strong>
tab and create the list of your products. At this time, ARC apps can only use
<strong>managed per user account</strong> in-app products.  Other <a
href="https://developer.android.com/google/play/billing/api.html#producttype">product
types</a> like <strong>unmanaged</strong> and <strong>subscription</strong> are
not supported. It is recommended to use the same product IDs (SKU); this way you
do not have to change product IDs in your code.
</p>

<p>
If you do <a
href="https://developer.android.com/google/play/billing/billing_integrate.html#billing-security">signature
verification</a> in your app, you need to use the public key generated by the
Chrome Web Store, not the one generated by Google Play. You can get the public
key from the <strong>More info</strong> link in the Developer Dashboard. To
avoid maintaining two versions of your app, you can verify signatures using both
Chrome Web Store and Google Play public keys and use the one that succeeds.
Alternatively, you can use the proper public key based on
<code>android.os.Build.BRAND</code> or
<code>android.os.Build.MANUFACTURER</code>, which is set to
<strong>chromium</strong> for ARC.
</p>

<p>
Keep in mind that the Chrome Web Store and Google Play do not link your ARC app
and your Android app together in any way. So, it is recommended that you consume
managed items as soon as possible and sync the result of the consumption via
your own servers or other mediums. This way, a user that has installed your app
on a Chrome OS and an Android device sees a consistent state of your app and
their purchases between different devices.
</p>

<p class="note">
<b>Note</b>:
Do not use <a
href="https://developer.android.com/google/play/billing/billing_best_practices.html#payload">payload
strings</a> when making purchase requests. ARC ignores them.
</p>

<h2 id="testing">Testing your app</h2>
To test the in-app billing experience, review the <a
href="https://developer.chrome.com/webstore/payments-iap#testing">Testing
purchases</a> section of the Chrome Web Store API. You can learn about adding
trusted testers when you <a
href="https://developer.chrome.com/webstore/publish#testaccounts">publish your
app here</a>.
</p>
