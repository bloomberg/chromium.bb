<html>
<head>
<title>Prerender fragment testing under location.hash change</title>

<script>
if (window.location.hash === "") {
  window.location.hash = "fragment";
}

var pageWasPrerendered = false;

function DidPrerenderPass() {
  pageWasPrerendered = true;
  return window.location.hash === "#fragment";
}

// Make sure DidPrerenderPass() was called first.  Otherwise, the page was
// most likely reloaded instead of using the prerendered page.
function DidDisplayPass() {
  return pageWasPrerendered && window.location.hash === "#fragment";
}

</script>

</head>
<body>
  <a name="fragment">Fragment</a>
</body>
</html>

