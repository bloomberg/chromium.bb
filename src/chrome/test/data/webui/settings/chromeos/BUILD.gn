# Copyright 2020 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//chrome/browser/resources/nearby_share/shared/nearby_shared.gni")
import("//chrome/browser/resources/settings/chromeos/os_settings.gni")
import("//third_party/closure_compiler/compile_js.gni")
import("//tools/polymer/polymer.gni")
import("//ui/webui/resources/tools/js_modulizer.gni")
import("./os_namespace_rewrites.gni")

js_type_check("closure_compile") {
  deps = [
    ":fake_settings_search_handler",
    ":fake_user_action_recorder",
  ]
}

js_library("fake_user_action_recorder") {
  deps = [
    "//chrome/browser/ui/webui/settings/chromeos/search:mojo_bindings_js_library_for_compile",
    "//ui/webui/resources/js:cr",
  ]
}

js_library("fake_settings_search_handler") {
  deps = [
    "//chrome/browser/ui/webui/settings/chromeos/search:mojo_bindings_js_library_for_compile",
    "//ui/webui/resources/js:cr",
  ]
}

js_modulizer("modulize") {
  input_files = [
    "add_users_tests.js",
    "ambient_mode_page_test.js",
    "ambient_mode_photos_page_test.js",
    "apps_page_test.js",
    "app_notifications_subpage_tests.js",
    "app_management/app_detail_view_test.js",
    "app_management/app_item_test.js",
    "app_management/app_management_page_tests.js",
    "app_management/chrome_app_detail_view_test.js",
    "app_management/arc_detail_view_test.js",
    "app_management/borealis_detail_view_test.js",
    "app_management/dom_switch_test.js",
    "app_management/main_view_test.js",
    "app_management/pwa_detail_view_test.js",
    "app_management/permission_item_test.js",
    "app_management/pin_to_shelf_item_test.js",
    "app_management/plugin_vm_detail_view_test.js",
    "app_management/managed_apps_test.js",
    "app_management/reducers_test.js",
    "app_management/resize_lock_item_test.js",
    "app_management/supported_links_item_test.js",
    "app_management/test_plugin_vm_browser_proxy.js",
    "app_management/toggle_row_test.js",
    "app_management/test_store.js",
    "app_management/test_util.js",
    "app_management/uninstall_button_test.js",
    "bluetooth_page_tests.js",
    "cellular_networks_list_test.js",
    "cellular_roaming_toggle_button_test.js",
    "cellular_setup_dialog_test.js",
    "crostini_page_test.js",
    "cups_printer_entry_tests.js",
    "cups_printer_landing_page_tests.js",
    "cups_printer_page_tests.js",
    "cups_printer_test_utils.js",
    "dark_mode_subpage_tests.js",
    "date_time_page_tests.js",
    "device_page_tests.js",
    "esim_install_error_dialog_test.js",
    "esim_remove_profile_dialog_test.js",
    "esim_rename_dialog_test.js",
    "fake_bluetooth.js",
    "fake_bluetooth_private.js",
    "fake_quick_unlock_private.js",
    "fake_quick_unlock_uma.js",
    "fake_receive_manager.js",
    "fake_settings_search_handler.js",
    "fake_system_display.js",
    "fake_user_action_recorder.js",
    "fake_users_private.js",
    "fingerprint_browsertest_chromeos.js",
    "google_assistant_page_test.js",
    "guest_os_shared_paths_test.js",
    "guest_os_shared_usb_devices_test.js",
    "input_method_options_page_test.js",
    "input_page_test.js",
    "internet_config_test.js",
    "internet_detail_menu_test.js",
    "internet_detail_page_tests.js",
    "internet_known_networks_page_tests.js",
    "internet_page_tests.js",
    "internet_subpage_tests.js",
    "kerberos_accounts_test.js",
    "kerberos_page_test.js",
    "keyboard_shortcut_banner_test.js",
    "localized_link_test.js",
    "manage_accessibility_page_tests.js",
    "multidevice_feature_item_tests.js",
    "multidevice_feature_toggle_tests.js",
    "multidevice_notification_access_setup_dialog_tests.js",
    "multidevice_page_tests.js",
    "multidevice_smartlock_subpage_test.js",
    "multidevice_subpage_tests.js",
    "multidevice_task_continuation_item_tests.js",
    "multidevice_task_continuation_disabled_link_tests.js",
    "multidevice_wifi_sync_disabled_link_tests.js",
    "multidevice_wifi_sync_item_tests.js",
    "nearby_share_confirm_page_test.js",
    "nearby_share_receive_dialog_tests.js",
    "nearby_share_subpage_tests.js",
    "network_always_on_vpn_test.js",
    "network_proxy_section_test.js",
    "network_summary_test.js",
    "network_summary_item_test.js",
    "os_a11y_page_tests.js",
    "os_about_page_tests.js",
    "os_edit_dictionary_page_test.js",
    "os_files_page_test.js",
    "os_languages_page_v2_tests.js",
    "os_reset_page_test.js",
    "os_people_page_test.js",
    "os_printing_page_tests.js",
    "os_privacy_page_test.js",
    "os_search_page_test.js",
    "os_settings_main_test.js",
    "os_settings_page_test.js",
    "os_settings_search_box_test.js",
    "os_settings_menu_test.js",
    "os_settings_ui_test.js",
    "os_settings_ui_test_2.js",
    "os_sync_controls_test.js",
    "parental_controls_page_test.js",
    "people_page_account_manager_test.js",
    "people_page_change_picture_test.js",
    "quick_unlock_authenticate_browsertest_chromeos.js",
    "lock_screen_tests.js",
    "personalization_page_test.js",
    "search_subpage_test.js",
    "search_engine_test.js",
    "smart_inputs_page_test.js",
    "smb_shares_page_tests.js",
    "switch_access_action_assignment_dialog_test.js",
    "switch_access_setup_guide_dialog_test.js",
    "switch_access_subpage_tests.js",
    "test_about_page_browser_proxy_chromeos.js",
    "test_bluetooth_page_browser_proxy.js",
    "test_crostini_browser_proxy.js",
    "test_android_apps_browser_proxy.js",
    "test_cups_printers_browser_proxy.js",
    "test_device_name_browser_proxy.js",
    "test_guest_os_browser_proxy.js",
    "test_kerberos_accounts_browser_proxy.js",
    "test_multidevice_browser_proxy.js",
    "test_internet_page_browser_proxy.js",
    "test_os_languages_browser_proxy.js",
    "test_os_languages_metrics_proxy.js",
    "test_os_lifetime_browser_proxy.js",
    "test_os_reset_browser_proxy.js",
    "test_os_sync_browser_proxy.js",
    "test_wallpaper_browser_proxy.js",
    "tether_connection_dialog_test.js",
    "text_to_speech_subpage_tests.js",
    "timezone_selector_test.js",
    "timezone_subpage_test.js",
    "tts_subpage_test.js",
    "user_page_tests.js",
  ]
  namespace_rewrites =
      os_settings_namespace_rewrites + os_test_namespace_rewrites +
      nearby_shared_namespace_rewrites +
      [
        "nearby_share.FakeNearbyShareSettings|FakeNearbyShareSettings",
        "nearby_share.setReceiveManagerForTesting|setReceiveManagerForTesting",
        "nearby_share.FakeReceiveManager|FakeReceiveManager",
        "nearby_share.FakeContactManager|FakeContactManager",
        "test_util.isVisible|isVisible",
        "test_util.waitAfterNextRender|waitAfterNextRender",
        "app_management.TestAppManagementStore|TestAppManagementStore",
        "cr.ui.TestStore|TestStore",
        "app_management.convertOptionalBoolToBool|convertOptionalBoolToBool",
        "app_management.actions.changePage|changePage",
        "settings.FakeSystemDisplay|FakeSystemDisplay",
        "settings.setDisplayApiForTesting|setDisplayApiForTesting",
      ]
}
