<!DOCTYPE html>
<x-a id="a2"></x-a>
<script>
(function() {
    var proto = Object.create(HTMLElement.prototype);
    proto.createdCallback = function () {
        window.upgradeIds.push(this.id);
    };

    var ctor = document.registerElement('x-a', {prototype: proto});
})();

test(function () {
    assert_array_equals(window.upgradeIds, ['a1', 'a2'], 'Elements in an import should be upgraded by a definition in the import.');
}, 'upgrade in an import (in import)');
</script>
<x-a id="a3"></x-a>
<x-b id="b0"></x-b>
<link rel="import" href="import-block-upgrade-in-import-grandchild.html">
<x-a id="a4"></x-a>
<x-b id="b3"></x-b>

