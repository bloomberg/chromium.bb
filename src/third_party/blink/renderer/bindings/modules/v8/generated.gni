# Copyright 2014 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/chrome_build.gni")
import("//third_party/blink/renderer/bindings/bindings.gni")
import("//third_party/blink/renderer/bindings/scripts/scripts.gni")
import("//third_party/blink/renderer/core/core_idl_files.gni")
import("//third_party/blink/renderer/modules/modules_idl_files.gni")

bindings_modules_v8_output_dir = "$bindings_output_dir/modules/v8"

bindings_modules_generated_init_partial_interfaces_file =
    "$bindings_modules_v8_output_dir/init_partial_interfaces_in_modules.cc"

# TODO(bashi): It would be better to have a way to update this list automatically.
bindings_modules_generated_union_type_files = [
  "$bindings_modules_v8_output_dir/animation_effect_or_animation_effect_sequence.cc",
  "$bindings_modules_v8_output_dir/animation_effect_or_animation_effect_sequence.h",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_blob_or_usv_string_or_write_params.cc",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_blob_or_usv_string_or_write_params.h",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_json_web_key.cc",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_json_web_key.h",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_readable_stream.cc",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_readable_stream.h",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_string.cc",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_string.h",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_usv_string.cc",
  "$bindings_modules_v8_output_dir/array_buffer_or_array_buffer_view_or_usv_string.h",
  "$bindings_modules_v8_output_dir/array_buffer_view_or_blob_or_string_or_form_data_or_readable_stream.cc",
  "$bindings_modules_v8_output_dir/array_buffer_view_or_blob_or_string_or_form_data_or_readable_stream.h",
  "$bindings_modules_v8_output_dir/audio_context_latency_category_or_double.cc",
  "$bindings_modules_v8_output_dir/audio_context_latency_category_or_double.h",
  "$bindings_modules_v8_output_dir/boolean_or_constrain_boolean_parameters.cc",
  "$bindings_modules_v8_output_dir/boolean_or_constrain_boolean_parameters.h",
  "$bindings_modules_v8_output_dir/boolean_or_media_track_constraints.cc",
  "$bindings_modules_v8_output_dir/boolean_or_media_track_constraints.h",
  "$bindings_modules_v8_output_dir/canvas_image_source.cc",
  "$bindings_modules_v8_output_dir/canvas_image_source.h",
  "$bindings_modules_v8_output_dir/client_or_service_worker_or_message_port.cc",
  "$bindings_modules_v8_output_dir/client_or_service_worker_or_message_port.h",
  "$bindings_modules_v8_output_dir/document_timeline_or_scroll_timeline.cc",
  "$bindings_modules_v8_output_dir/document_timeline_or_scroll_timeline.h",
  "$bindings_modules_v8_output_dir/dom_exception_or_overconstrained_error.cc",
  "$bindings_modules_v8_output_dir/dom_exception_or_overconstrained_error.h",
  "$bindings_modules_v8_output_dir/double_or_constrain_double_range.cc",
  "$bindings_modules_v8_output_dir/double_or_constrain_double_range.h",
  "$bindings_modules_v8_output_dir/double_sequence_or_gpu_color_dict.cc",
  "$bindings_modules_v8_output_dir/double_sequence_or_gpu_color_dict.h",
  "$bindings_modules_v8_output_dir/float32_array_or_float64_array_or_dom_matrix.cc",
  "$bindings_modules_v8_output_dir/float32_array_or_float64_array_or_dom_matrix.h",
  "$bindings_modules_v8_output_dir/gpu_buffer_or_array_buffer.cc",
  "$bindings_modules_v8_output_dir/gpu_buffer_or_array_buffer.h",
  "$bindings_modules_v8_output_dir/gpu_load_op_or_double_sequence_or_gpu_color_dict.cc",
  "$bindings_modules_v8_output_dir/gpu_load_op_or_double_sequence_or_gpu_color_dict.h",
  "$bindings_modules_v8_output_dir/gpu_load_op_or_float.cc",
  "$bindings_modules_v8_output_dir/gpu_load_op_or_float.h",
  "$bindings_modules_v8_output_dir/gpu_load_op_or_unsigned_long_enforce_range.cc",
  "$bindings_modules_v8_output_dir/gpu_load_op_or_unsigned_long_enforce_range.h",
  "$bindings_modules_v8_output_dir/gpu_out_of_memory_error_or_gpu_validation_error.cc",
  "$bindings_modules_v8_output_dir/gpu_out_of_memory_error_or_gpu_validation_error.h",
  "$bindings_modules_v8_output_dir/gpu_sampler_or_gpu_texture_view_or_gpu_buffer_binding.cc",
  "$bindings_modules_v8_output_dir/gpu_sampler_or_gpu_texture_view_or_gpu_buffer_binding.h",
  "$bindings_modules_v8_output_dir/html_canvas_element_or_offscreen_canvas.cc",
  "$bindings_modules_v8_output_dir/html_canvas_element_or_offscreen_canvas.h",
  "$bindings_modules_v8_output_dir/idb_object_store_or_idb_index.cc",
  "$bindings_modules_v8_output_dir/idb_object_store_or_idb_index.h",
  "$bindings_modules_v8_output_dir/idb_object_store_or_idb_index_or_idb_cursor.cc",
  "$bindings_modules_v8_output_dir/idb_object_store_or_idb_index_or_idb_cursor.h",
  "$bindings_modules_v8_output_dir/int32_array_or_long_sequence.cc",
  "$bindings_modules_v8_output_dir/int32_array_or_long_sequence.h",
  "$bindings_modules_v8_output_dir/long_or_constrain_long_range.cc",
  "$bindings_modules_v8_output_dir/long_or_constrain_long_range.h",
  "$bindings_modules_v8_output_dir/media_stream_track_or_string.cc",
  "$bindings_modules_v8_output_dir/media_stream_track_or_string.h",
  "$bindings_modules_v8_output_dir/object_or_string.cc",
  "$bindings_modules_v8_output_dir/object_or_string.h",
  "$bindings_modules_v8_output_dir/offscreen_rendering_context.cc",
  "$bindings_modules_v8_output_dir/offscreen_rendering_context.h",
  "$bindings_modules_v8_output_dir/password_credential_data_or_html_form_element.cc",
  "$bindings_modules_v8_output_dir/password_credential_data_or_html_form_element.h",
  "$bindings_modules_v8_output_dir/path_2d_or_string.cc",
  "$bindings_modules_v8_output_dir/path_2d_or_string.h",
  "$bindings_modules_v8_output_dir/point_2d_sequence_or_constrain_point_2d_parameters.cc",
  "$bindings_modules_v8_output_dir/point_2d_sequence_or_constrain_point_2d_parameters.h",
  "$bindings_modules_v8_output_dir/rendering_context.cc",
  "$bindings_modules_v8_output_dir/rendering_context.h",
  "$bindings_modules_v8_output_dir/request_or_usv_string_or_request_or_usv_string_sequence.cc",
  "$bindings_modules_v8_output_dir/request_or_usv_string_or_request_or_usv_string_sequence.h",
  "$bindings_modules_v8_output_dir/rtc_ice_candidate_init_or_rtc_ice_candidate.cc",
  "$bindings_modules_v8_output_dir/rtc_ice_candidate_init_or_rtc_ice_candidate.h",
  "$bindings_modules_v8_output_dir/string_or_array_buffer_or_array_buffer_view_or_ndef_message_init.cc",
  "$bindings_modules_v8_output_dir/string_or_array_buffer_or_array_buffer_view_or_ndef_message_init.h",
  "$bindings_modules_v8_output_dir/string_or_canvas_gradient_or_canvas_pattern.cc",
  "$bindings_modules_v8_output_dir/string_or_canvas_gradient_or_canvas_pattern.h",
  "$bindings_modules_v8_output_dir/string_or_string_sequence_or_constrain_dom_string_parameters.cc",
  "$bindings_modules_v8_output_dir/string_or_string_sequence_or_constrain_dom_string_parameters.h",
  "$bindings_modules_v8_output_dir/string_or_unsigned_long.cc",
  "$bindings_modules_v8_output_dir/string_or_unsigned_long.h",
  "$bindings_modules_v8_output_dir/string_or_uint32_array.cc",
  "$bindings_modules_v8_output_dir/string_or_uint32_array.h",
  "$bindings_modules_v8_output_dir/unsigned_long_or_unsigned_long_sequence.cc",
  "$bindings_modules_v8_output_dir/unsigned_long_or_unsigned_long_sequence.h",
  "$bindings_modules_v8_output_dir/unsigned_long_enforce_range_sequence_or_gpu_extent_3d_dict.cc",
  "$bindings_modules_v8_output_dir/unsigned_long_enforce_range_sequence_or_gpu_extent_3d_dict.h",
  "$bindings_modules_v8_output_dir/unsigned_long_enforce_range_sequence_or_gpu_origin_2d_dict.cc",
  "$bindings_modules_v8_output_dir/unsigned_long_enforce_range_sequence_or_gpu_origin_2d_dict.h",
  "$bindings_modules_v8_output_dir/unsigned_long_enforce_range_sequence_or_gpu_origin_3d_dict.cc",
  "$bindings_modules_v8_output_dir/unsigned_long_enforce_range_sequence_or_gpu_origin_3d_dict.h",
  "$bindings_modules_v8_output_dir/webgl_rendering_context_or_webgl2_rendering_context.cc",
  "$bindings_modules_v8_output_dir/webgl_rendering_context_or_webgl2_rendering_context.h",
  "$bindings_modules_v8_output_dir/worklet_animation_effect_or_worklet_group_effect.cc",
  "$bindings_modules_v8_output_dir/worklet_animation_effect_or_worklet_group_effect.h",
]

generated_modules_callback_function_files = [
  "$bindings_modules_v8_output_dir/v8_animate_callback.cc",
  "$bindings_modules_v8_output_dir/v8_animate_callback.h",
  "$bindings_modules_v8_output_dir/v8_animator_constructor.cc",
  "$bindings_modules_v8_output_dir/v8_animator_constructor.h",
  "$bindings_modules_v8_output_dir/v8_blink_audio_worklet_process_callback.cc",
  "$bindings_modules_v8_output_dir/v8_blink_audio_worklet_process_callback.h",
  "$bindings_modules_v8_output_dir/v8_blink_audio_worklet_processor_constructor.cc",
  "$bindings_modules_v8_output_dir/v8_blink_audio_worklet_processor_constructor.h",
  "$bindings_modules_v8_output_dir/v8_database_callback.cc",
  "$bindings_modules_v8_output_dir/v8_database_callback.h",
  "$bindings_modules_v8_output_dir/v8_decode_error_callback.cc",
  "$bindings_modules_v8_output_dir/v8_decode_error_callback.h",
  "$bindings_modules_v8_output_dir/v8_decode_success_callback.cc",
  "$bindings_modules_v8_output_dir/v8_decode_success_callback.h",
  "$bindings_modules_v8_output_dir/v8_idb_observer_callback.cc",
  "$bindings_modules_v8_output_dir/v8_idb_observer_callback.h",
  "$bindings_modules_v8_output_dir/v8_launch_consumer.cc",
  "$bindings_modules_v8_output_dir/v8_launch_consumer.h",
  "$bindings_modules_v8_output_dir/v8_lock_granted_callback.cc",
  "$bindings_modules_v8_output_dir/v8_lock_granted_callback.h",
  "$bindings_modules_v8_output_dir/v8_media_session_action_handler.cc",
  "$bindings_modules_v8_output_dir/v8_media_session_action_handler.h",
  "$bindings_modules_v8_output_dir/v8_navigator_user_media_error_callback.cc",
  "$bindings_modules_v8_output_dir/v8_navigator_user_media_error_callback.h",
  "$bindings_modules_v8_output_dir/v8_navigator_user_media_success_callback.cc",
  "$bindings_modules_v8_output_dir/v8_navigator_user_media_success_callback.h",
  "$bindings_modules_v8_output_dir/v8_notification_permission_callback.cc",
  "$bindings_modules_v8_output_dir/v8_notification_permission_callback.h",
  "$bindings_modules_v8_output_dir/v8_paint_callback.cc",
  "$bindings_modules_v8_output_dir/v8_paint_callback.h",
  "$bindings_modules_v8_output_dir/v8_position_callback.cc",
  "$bindings_modules_v8_output_dir/v8_position_callback.h",
  "$bindings_modules_v8_output_dir/v8_position_error_callback.cc",
  "$bindings_modules_v8_output_dir/v8_position_error_callback.h",
  "$bindings_modules_v8_output_dir/v8_remote_playback_availability_callback.cc",
  "$bindings_modules_v8_output_dir/v8_remote_playback_availability_callback.h",
  "$bindings_modules_v8_output_dir/v8_rtc_peer_connection_error_callback.cc",
  "$bindings_modules_v8_output_dir/v8_rtc_peer_connection_error_callback.h",
  "$bindings_modules_v8_output_dir/v8_rtc_session_description_callback.cc",
  "$bindings_modules_v8_output_dir/v8_rtc_session_description_callback.h",
  "$bindings_modules_v8_output_dir/v8_rtc_stats_callback.cc",
  "$bindings_modules_v8_output_dir/v8_rtc_stats_callback.h",
  "$bindings_modules_v8_output_dir/v8_state_callback.cc",
  "$bindings_modules_v8_output_dir/v8_state_callback.h",
  "$bindings_modules_v8_output_dir/v8_storage_error_callback.cc",
  "$bindings_modules_v8_output_dir/v8_storage_error_callback.h",
  "$bindings_modules_v8_output_dir/v8_storage_quota_callback.cc",
  "$bindings_modules_v8_output_dir/v8_storage_quota_callback.h",
  "$bindings_modules_v8_output_dir/v8_storage_usage_callback.cc",
  "$bindings_modules_v8_output_dir/v8_storage_usage_callback.h",
  "$bindings_modules_v8_output_dir/v8_video_decoder_output_callback.cc",
  "$bindings_modules_v8_output_dir/v8_video_decoder_output_callback.h",
  "$bindings_modules_v8_output_dir/v8_video_encoder_output_callback.cc",
  "$bindings_modules_v8_output_dir/v8_video_encoder_output_callback.h",
  "$bindings_modules_v8_output_dir/v8_video_frame_request_callback.cc",
  "$bindings_modules_v8_output_dir/v8_video_frame_request_callback.h",
  "$bindings_modules_v8_output_dir/v8_web_codecs_error_callback.cc",
  "$bindings_modules_v8_output_dir/v8_web_codecs_error_callback.h",
  "$bindings_modules_v8_output_dir/v8_xr_frame_request_callback.cc",
  "$bindings_modules_v8_output_dir/v8_xr_frame_request_callback.h",
]

bindings_generated_v8_context_snapshot_external_references_file =
    "$bindings_modules_v8_output_dir/v8_context_snapshot_external_references.cc"

generated_modules_dictionary_files = []

if (use_v8_bind_gen_for_dictionary) {
  generated_modules_dictionary_files +=
      process_file_template(
          modules_dictionary_idl_files,
          [
            "$bindings_modules_v8_output_dir/v8_{{source_name_part}}.cc",
            "$bindings_modules_v8_output_dir/v8_{{source_name_part}}.h",
          ])
}
