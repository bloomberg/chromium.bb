// Copyright 2017 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

module blink.mojom;

import "mojo/public/mojom/base/time.mojom";
import "url/mojom/url.mojom";

const int64 kAppCacheNoCacheId = 0;
const int64 kAppCacheNoResponseId = 0;
const int64 kAppCacheUnknownCacheId = -1;

// The AppCacheStatus numeric values are specified in the HTML5 spec.
enum AppCacheStatus {
  APPCACHE_STATUS_UNCACHED = 0,
  APPCACHE_STATUS_IDLE = 1,
  APPCACHE_STATUS_CHECKING = 2,
  APPCACHE_STATUS_DOWNLOADING = 3,
  APPCACHE_STATUS_UPDATE_READY = 4,
  APPCACHE_STATUS_OBSOLETE = 5,
};

// Cache-wide information displayed in DevTools.
struct AppCacheInfo {
  url.mojom.Url manifest_url;
  mojo_base.mojom.Time creation_time;
  mojo_base.mojom.Time last_update_time;
  mojo_base.mojom.Time last_access_time;
  mojo_base.mojom.Time token_expires;
  int64 cache_id;
  int64 group_id;
  AppCacheStatus status;
  // Sums up the sizes of all the responses in this cache.
  int64 response_sizes;
  // Sums up the padding sizes for all opaque responses in the cache.
  int64 padding_sizes;
  bool is_complete;
  int64 manifest_parser_version;
  string manifest_scope;
};
