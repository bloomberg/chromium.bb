<!DOCTYPE html>
<script src="../resources/testharness.js"></script>
<script src="../resources/testharnessreport.js"></script>
<iframe srcdoc="
<!DOCTYPE html>
<script>
window.top.promise_test(function() {
  var expectedError = 'InvalidStateError';
  var promise = navigator.getInstalledRelatedApps();
  return window.top.promise_rejects(this, expectedError, promise);
}, 'getInstalledRelatedApps() should error when called in an iframe.');
</script>
"></iframe>
