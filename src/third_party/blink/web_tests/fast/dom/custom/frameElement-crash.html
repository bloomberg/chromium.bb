<!DOCTYPE html>
<html>
<head>
<script src="../../../resources/js-test.js"></script>
</head>
<body>
<script>
function test() {
    testPassed('Did not crash');
    finishJSTest();
}

window.jsTestIsAsync = true;
description('Test that accessing window.frameElement from a custom iframe does not crash.');

var proto = Object.create(HTMLIFrameElement.prototype);
document.registerElement('x-iframe', {prototype: proto, extends: 'iframe'});
</script>
<iframe onload="test();" is="x-iframe" srcdoc="
    <script>
    window.frameElement;
    </script>
"></iframe>
</body>
</html>
