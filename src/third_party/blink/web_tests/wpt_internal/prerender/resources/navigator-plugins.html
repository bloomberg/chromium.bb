<!DOCTYPE html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script>
const bc = new BroadcastChannel('prerender-channel');
assert_true(document.prerendering);

const plugins = new Array();
for (let i = 0; i < navigator.plugins.length; ++i) {
  const plugin = navigator.plugins[i];
  const types = Array.from(plugin, x => x.type);
  plugins[i] = {pluginLength: plugin.length, pluginTypes: types};
}
bc.postMessage(JSON.stringify(plugins));
bc.close();
</script>
