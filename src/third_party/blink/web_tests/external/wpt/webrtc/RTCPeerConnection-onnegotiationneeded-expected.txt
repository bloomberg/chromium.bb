This is a testharness.js-based test.
PASS Creating first data channel should fire negotiationneeded event
PASS calling createDataChannel twice should fire negotiationneeded event once
PASS addTransceiver() should fire negotiationneeded event
PASS Calling addTransceiver() twice should fire negotiationneeded event once
PASS Calling both addTransceiver() and createDataChannel() should fire negotiationneeded event once
PASS negotiationneeded event should not fire if signaling state is not stable
FAIL negotiationneeded event should fire only after signaling state goes back to stable after setRemoteDescription assert_false: negotiationneeded should not fire until the next iteration of the event loop after SRD success expected false got true
FAIL negotiationneeded event should fire only after signaling state goes back to stable after setLocalDescription assert_false: negotiationneeded should not fire until the next iteration of the event loop after SLD success expected false got true
FAIL negotiationneeded event should fire only after signalingstatechange event fires from setRemoteDescription assert_false: negotiationneeded should not fire before signalingstatechange fires expected false got true
FAIL negotiationneeded event should fire only after signalingstatechange event fires from setLocalDescription assert_false: negotiationneeded should not fire until the next iteration of the event loop after returning to stable expected false got true
PASS addTrack should cause negotiationneeded to fire
PASS removeTrack should cause negotiationneeded to fire on the caller
PASS removeTrack should cause negotiationneeded to fire on the callee
PASS Updating the direction of the transceiver should cause negotiationneeded to fire
PASS Calling setStreams should cause negotiationneeded to fire
PASS Adding two transceivers, one at a time, results in the expected number of negotiationneeded events
Harness: the test ran to completion.

