<!DOCTYPE html>
<script src="../../resources/testharness.js"></script>
<script src="../../resources/testharnessreport.js"></script>
<script src="../../resources/run-after-layout-and-paint.js"></script>
<script>
async_test(t => {
  runAfterLayoutAndPaint(t.step_func_done(() => {
    feImage.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#svg');
  }));
});
</script>
<svg>
  <filter id="filter">
    <feImage id="feImage"></feImage>
  </filter>
</svg>
<div style="filter: url(#filter)"></div>
<svg id="svg">
  <foreignObject id="foreignObject">FO</foreignObject>
</svg>
