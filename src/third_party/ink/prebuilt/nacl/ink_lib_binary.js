// Copyright 2018 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
var g,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ca=function(a,b){if(b){var c=ba;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}};
ca("Array.prototype.find",function(a){return a?a:function(a,c){a:{var b=this;b instanceof String&&(b=String(b));for(var e=b.length,f=0;f<e;f++){var h=b[f];if(a.call(c,h,f,b)){a=h;break a}}a=void 0}return a}});
var da=function(){da=function(){};ba.Symbol||(ba.Symbol=ea)},ea=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}(),ha=function(){da();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(this)}});ha=function(){}},fa=function(a){var b=0;return ia(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},ia=function(a){ha();a={next:a};
a[ba.Symbol.iterator]=function(){return this};return a},k=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};ca("Object.entries",function(a){return a?a:function(a){var b=[],d;for(d in a)k(a,d)&&b.push([d,a[d]]);return b}});var ja=function(a){ha();var b=a[Symbol.iterator];return b?b.call(a):fa(a)};
ca("WeakMap",function(a){function b(a){k(a,d)||aa(a,d,{value:{}})}function c(a){var c=Object[a];c&&(Object[a]=function(a){b(a);return c(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(y){return!1}}())return a;var d="$jscomp_hidden_"+Math.random();c("freeze");c("preventExtensions");c("seal");var e=0,f=function(a){this.a=(e+=Math.random()+
1).toString();if(a){da();ha();a=ja(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};f.prototype.set=function(a,c){b(a);if(!k(a,d))throw Error("WeakMap key fail: "+a);a[d][this.a]=c;return this};f.prototype.get=function(a){return k(a,d)?a[d][this.a]:void 0};f.prototype.has=function(a){return k(a,d)&&k(a[d],this.a)};f.prototype.delete=function(a){return k(a,d)&&k(a[d],this.a)?delete a[d][this.a]:!1};return f});
ca("Map",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(ja([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(J){return!1}}())return a;da();ha();var b=new WeakMap,c=function(a){this.f=
{};this.a=f();this.size=0;if(a){a=ja(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};c.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.f[c.id]=[]);c.o?c.o.value=b:(c.o={next:this.a,D:this.a.D,head:this.a,key:a,value:b},c.list.push(c.o),this.a.D.next=c.o,this.a.D=c.o,this.size++);return this};c.prototype.delete=function(a){a=d(this,a);return a.o&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.f[a.id],a.o.D.next=a.o.next,a.o.next.D=a.o.D,a.o.head=null,
this.size--,!0):!1};c.prototype.clear=function(){this.f={};this.a=this.a.D=f();this.size=0};c.prototype.has=function(a){return!!d(this,a).o};c.prototype.get=function(a){return(a=d(this,a).o)&&a.value};c.prototype.entries=function(){return e(this,function(a){return[a.key,a.value]})};c.prototype.keys=function(){return e(this,function(a){return a.key})};c.prototype.values=function(){return e(this,function(a){return a.value})};c.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=
d.value,a.call(b,d[1],d[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(a,c){var d=c&&typeof c;"object"==d||"function"==d?b.has(c)?d=b.get(c):(d=""+ ++h,b.set(c,d)):d="p_"+c;var e=a.f[d];if(e&&k(a.f,d))for(a=0;a<e.length;a++){var f=e[a];if(c!==c&&f.key!==f.key||c===f.key)return{id:d,list:e,index:a,o:f}}return{id:d,list:e,index:-1,o:void 0}},e=function(a,b){var c=a.a;return ia(function(){if(c){for(;c.head!=a.a;)c=c.D;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};
c=null}return{done:!0,value:void 0}})},f=function(){var a={};return a.D=a.next=a.head=a},h=0;return c});
ca("Set",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(ja([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=b||f.value[1]!=b)return!1;f=e.next();return f.done||f.value[0]==b||4!=f.value[0].x||f.value[1]!=f.value[0]?!1:e.next().done}catch(h){return!1}}())return a;da();ha();var b=function(a){this.a=new Map;
if(a){a=ja(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.a.size};b.prototype.add=function(a){this.a.set(a,a);this.size=this.a.size;return this};b.prototype.delete=function(a){a=this.a.delete(a);this.size=this.a.size;return a};b.prototype.clear=function(){this.a.clear();this.size=0};b.prototype.has=function(a){return this.a.has(a)};b.prototype.entries=function(){return this.a.entries()};b.prototype.values=function(){return this.a.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=
b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.a.forEach(function(d){return a.call(b,d,d,c)})};return b});
var l=this,m=function(a){return"string"==typeof a},ka=function(a,b){a=a.split(".");var c=l;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b},la=function(){},n=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==
c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ma=function(a){return"array"==n(a)},na=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},
oa="closure_uid_"+(1E9*Math.random()>>>0),pa=0,qa=function(a,b,c){return a.call.apply(a.bind,arguments)},ra=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},sa=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa=qa:sa=ra;return sa.apply(null,
arguments)},q=function(a,b){function c(){}c.prototype=b.prototype;a.R=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Fd=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var ta=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ta);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(ta,Error);ta.prototype.name="CustomError";var ua;var va=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");ta.call(this,c+a[d])};q(va,ta);va.prototype.name="AssertionError";
var wa=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);throw new va(""+e,f||[]);},r=function(a,b,c){a||wa("",null,b,Array.prototype.slice.call(arguments,2));return a},xa=function(a,b){throw new va("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},ya=function(a,b,c){"number"==typeof a||wa("Expected number but got %s: %s.",[n(a),a],b,Array.prototype.slice.call(arguments,2))},za=function(a,b,c){m(a)||wa("Expected string but got %s: %s.",[n(a),
a],b,Array.prototype.slice.call(arguments,2));return a},Aa=function(a,b,c){na(a)||wa("Expected object but got %s: %s.",[n(a),a],b,Array.prototype.slice.call(arguments,2))};var Ba=Array.prototype.indexOf?function(a,b){r(null!=a.length);return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(m(a))return m(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ca=Array.prototype.forEach?function(a,b,c){r(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=m(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Da=Array.prototype.filter?function(a,b){r(null!=a.length);return Array.prototype.filter.call(a,
b,void 0)}:function(a,b){for(var c=a.length,d=[],e=0,f=m(a)?a.split(""):a,h=0;h<c;h++)if(h in f){var p=f[h];b.call(void 0,p,h,a)&&(d[e++]=p)}return d},Fa=function(a,b){b=Ba(a,b);var c;(c=0<=b)&&Ea(a,b);return c},Ea=function(a,b){r(null!=a.length);Array.prototype.splice.call(a,b,1)},Ga=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e=d,f=n(e);if("array"==f||"object"==f&&"number"==typeof e.length){e=a.length||0;f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}},
Ia=function(a,b,c,d){r(null!=a.length);Array.prototype.splice.apply(a,Ha(arguments,1))},Ha=function(a,b,c){r(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},Ka=function(a,b){a.sort(b||Ja)},Ja=function(a,b){return a>b?1:a<b?-1:0};var La=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Ta=function(a){if(!Ma.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Na,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Oa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Pa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Qa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ra,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Sa,"&#0;"));return a},Na=/&/g,Oa=/</g,Pa=/>/g,Qa=/"/g,Ra=/'/g,Sa=/\x00/g,Ma=
/[\x00&<>"']/,Va=function(a,b){var c=0;a=La(String(a)).split(".");b=La(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",h=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==f[0].length&&0==h[0].length)break;c=Ua(0==f[1].length?0:parseInt(f[1],10),0==h[1].length?0:parseInt(h[1],10))||Ua(0==f[2].length,0==h[2].length)||Ua(f[2],h[2]);f=f[3];h=h[3]}while(0==c)}return c},Ua=function(a,b){return a<b?-1:a>b?1:
0};var Wa;a:{var Xa=l.navigator;if(Xa){var Ya=Xa.userAgent;if(Ya){Wa=Ya;break a}}Wa=""}var u=function(a){return-1!=Wa.indexOf(a)};var Za=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},$a="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ab=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<$a.length;f++)c=$a[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var bb=function(){var a=Wa,b="";u("Windows")?(b=/Windows (?:NT|Phone) ([0-9.]+)/,b=(a=b.exec(a))?a[1]:"0.0"):u("iPhone")&&!u("iPod")&&!u("iPad")||u("iPad")||u("iPod")?(b=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,b=(a=b.exec(a))&&a[1].replace(/_/g,".")):u("Macintosh")?(b=/Mac OS X ([0-9_.]+)/,b=(a=b.exec(a))?a[1].replace(/_/g,"."):"10"):u("Android")?(b=/Android\s+([^\);]+)(\)|;)/,b=(a=b.exec(a))&&a[1]):u("CrOS")&&(b=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,b=(a=b.exec(a))&&a[1]);return b||""};var cb=function(a){cb[" "](a);return a};cb[" "]=la;var db=function(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var eb=u("Opera"),fb=u("Trident")||u("MSIE"),gb=u("Edge"),hb=u("Gecko")&&!(-1!=Wa.toLowerCase().indexOf("webkit")&&!u("Edge"))&&!(u("Trident")||u("MSIE"))&&!u("Edge"),ib=-1!=Wa.toLowerCase().indexOf("webkit")&&!u("Edge"),jb=function(){var a=l.document;return a?a.documentMode:void 0},kb;
a:{var lb="",mb=function(){var a=Wa;if(hb)return/rv:([^\);]+)(\)|;)/.exec(a);if(gb)return/Edge\/([\d\.]+)/.exec(a);if(fb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(ib)return/WebKit\/(\S+)/.exec(a);if(eb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();mb&&(lb=mb?mb[1]:"");if(fb){var nb=jb();if(null!=nb&&nb>parseFloat(lb)){kb=String(nb);break a}}kb=lb}var ob=kb,pb={},qb;var rb=l.document;qb=rb&&fb?jb()||("CSS1Compat"==rb.compatMode?parseInt(ob,10):5):void 0;var sb=Object.freeze||function(a){return a};var tb=function(){};var ub=function(a){if(a.classList)return a.classList;a=a.className;return m(a)&&a.match(/\S+/g)||[]},vb=function(a){a.classList?a=a.classList.contains("fullscreen"):(a=ub(a),a=0<=Ba(a,"fullscreen"));return a},wb=function(a){a.classList?a.classList.remove("fullscreen"):vb(a)&&(a.className=Da(ub(a),function(a){return"fullscreen"!=a}).join(" "))};var yb=function(){this.Fa=xb};yb.prototype.toString=function(){return"TrustedResourceUrl{}"};var xb={};var Ab=function(){this.da="";this.Da=zb};Ab.prototype.toString=function(){return"SafeUrl{"+this.da+"}"};
var Bb=/^(?:audio\/(?:3gpp|3gpp2|aac|midi|mp4|mpeg|ogg|x-m4a|x-wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))$/i,Db=function(a){if(Bb.test(a.type)){var b=void 0!==l.URL&&void 0!==l.URL.createObjectURL?l.URL:void 0!==l.webkitURL&&void 0!==l.webkitURL.createObjectURL?l.webkitURL:void 0!==l.createObjectURL?l:null;if(null==b)throw Error("This browser doesn't seem to support blob URLs");a=b.createObjectURL(a)}else a="about:invalid#zClosurez";return Cb(a)},
Eb=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i,Fb=function(a){var b=a.match(Eb);b=b&&Bb.test(b[1]);return Cb(b?a:"about:invalid#zClosurez")},zb={},Cb=function(a){var b=new Ab;b.da=a;return b};Cb("about:blank");var Gb=function(a,b){this.width=a;this.height=b};g=Gb.prototype;g.clone=function(){return new Gb(this.width,this.height)};g.toString=function(){return"("+this.width+" x "+this.height+")"};g.aspectRatio=function(){return this.width/this.height};g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var Jb=function(a){return a?new Hb(Ib(a)):ua||(ua=new Hb)},Kb=function(a){return m(a)?document.getElementById(a):a},Ib=function(a){r(a,"Node cannot be null or undefined.");return 9==a.nodeType?a:a.ownerDocument||a.document},Hb=function(a){this.a=a||l.document||document};Hb.prototype.B=function(){return m(void 0)?this.a.getElementById(void 0):void 0};var Lb;(Lb=!fb)||(Lb=9<=Number(qb));var Mb=Lb,Nb=fb&&!db(pb,"9",function(){return 0<=Va(ob,"9")}),Ob=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});l.addEventListener("test",la,b);l.removeEventListener("test",la,b);return a}();var v=function(a,b){this.type=a;this.a=this.target=b;this.f=!1;this.ta=!0};v.prototype.h=function(){this.f=!0;this.ta=!1};var Pb=function(a,b){v.call(this,a?a.type:"");this.relatedTarget=this.a=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.j=null;a&&this.init(a,b)};q(Pb,v);var Qb=sb({2:"touch",3:"pen",4:"mouse"});
Pb.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;if(b=a.relatedTarget){if(hb){a:{try{cb(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=
void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=m(a.pointerType)?a.pointerType:Qb[a.pointerType]||"";this.j=a;a.defaultPrevented&&this.h()};
Pb.prototype.h=function(){Pb.R.h.call(this);var a=this.j;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Nb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Rb="closure_listenable_"+(1E6*Math.random()|0),Sb=0;var Tb=function(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.capture=!!d;this.ba=e;this.key=++Sb;this.O=this.Z=!1},Ub=function(a){a.O=!0;a.listener=null;a.a=null;a.src=null;a.ba=null};var Vb=function(a){this.src=a;this.a={};this.f=0};Vb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.f++);var h=Wb(a,b,d,e);-1<h?(b=a[h],c||(b.Z=!1)):(b=new Tb(b,this.src,f,!!d,e),b.Z=c,a.push(b));return b};var Xb=function(a,b){var c=b.type;c in a.a&&Fa(a.a[c],b)&&(Ub(b),0==a.a[c].length&&(delete a.a[c],a.f--))},Wb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.O&&f.listener==b&&f.capture==!!c&&f.ba==d)return e}return-1};var Yb="closure_lm_"+(1E6*Math.random()|0),Zb={},$b=0,bc=function(a,b,c,d,e){if(d&&d.once)return ac(a,b,c,d,e);if(ma(b)){for(var f=0;f<b.length;f++)bc(a,b[f],c,d,e);return null}c=cc(c);a&&a[Rb]?(d=na(d)?!!d.capture:!!d,dc(a),a=a.w.add(String(b),c,!1,d,e)):a=ec(a,b,c,!1,d,e);return a},ec=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=na(e)?!!e.capture:!!e,p=fc(a);p||(a[Yb]=p=new Vb(a));c=p.add(b,c,d,h,f);if(c.a)return c;d=gc();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)Ob||
(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(hc(b.toString()),d);else if(a.addListener&&a.removeListener)r("change"===b,"MediaQueryList only has a change event"),a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");$b++;return c},gc=function(){var a=ic,b=Mb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},ac=function(a,b,c,d,e){if(ma(b)){for(var f=
0;f<b.length;f++)ac(a,b[f],c,d,e);return null}c=cc(c);return a&&a[Rb]?a.w.add(String(b),c,!0,na(d)?!!d.capture:!!d,e):ec(a,b,c,!0,d,e)},jc=function(a,b,c,d,e){if(ma(b))for(var f=0;f<b.length;f++)jc(a,b[f],c,d,e);else(d=na(d)?!!d.capture:!!d,c=cc(c),a&&a[Rb])?(a=a.w,b=String(b).toString(),b in a.a&&(f=a.a[b],c=Wb(f,c,d,e),-1<c&&(Ub(f[c]),Ea(f,c),0==f.length&&(delete a.a[b],a.f--)))):a&&(a=fc(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Wb(b,c,d,e)),(c=-1<a?b[a]:null)&&kc(c))},kc=function(a){if("number"!=typeof a&&
a&&!a.O){var b=a.src;if(b&&b[Rb])Xb(b.w,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(hc(c),d):b.addListener&&b.removeListener&&b.removeListener(d);$b--;(c=fc(b))?(Xb(c,a),0==c.f&&(c.src=null,b[Yb]=null)):Ub(a)}}},hc=function(a){return a in Zb?Zb[a]:Zb[a]="on"+a},mc=function(a,b,c,d){var e=!0;if(a=fc(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.O&&(f=lc(f,d),e=e&&!1!==f)}return e},
lc=function(a,b){var c=a.listener,d=a.ba||a.src;a.Z&&kc(a);return c.call(d,b)},ic=function(a,b){if(a.O)return!0;if(!Mb){if(!b)a:{b=["window","event"];for(var c=l,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new Pb(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.a;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.a=d[e];var f=mc(d[e],
a,!0,b);c=c&&f}for(e=0;e<d.length;e++)b.a=d[e],f=mc(d[e],a,!1,b),c=c&&f}return c}return lc(a,new Pb(b,this))},fc=function(a){a=a[Yb];return a instanceof Vb?a:null},nc="__closure_events_fn_"+(1E9*Math.random()>>>0),cc=function(a){r(a,"Listener can not be null.");if("function"==n(a))return a;r(a.handleEvent,"An object listener must have handleEvent method.");a[nc]||(a[nc]=function(b){return a.handleEvent(b)});return a[nc]};var oc=function(a){this.a=a;this.f={}};q(oc,tb);var pc=[],qc=function(a,b,c,d){ma(c)||(c&&(pc[0]=c.toString()),c=pc);for(var e=0;e<c.length;e++){var f=bc(b,c[e],d||a.handleEvent,!1,a.a||a);if(!f)break;a.f[f.key]=f}},sc=function(a,b,c){rc(a,b,"o",c,void 0)},rc=function(a,b,c,d,e,f){if(ma(c))for(var h=0;h<c.length;h++)rc(a,b,c[h],d,e,f);else(b=ac(b,c,d||a.handleEvent,e,f||a.a||a))&&(a.f[b.key]=b)};oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var w=function(){this.w=new Vb(this);this.Ba=this;this.U=null};q(w,tb);w.prototype[Rb]=!0;w.prototype.ca=function(a){this.U=a};w.prototype.removeEventListener=function(a,b,c,d){jc(this,a,b,c,d)};
var x=function(a,b){dc(a);var c=a.U;if(c){var d=[];for(var e=1;c;c=c.U)d.push(c),r(1E3>++e,"infinite loop")}a=a.Ba;c=b.type||b;m(b)?b=new v(b,a):b instanceof v?b.target=b.target||a:(e=b,b=new v(c,a),ab(b,e));e=!0;if(d)for(var f=d.length-1;0<=f;f--){var h=b.a=d[f];e=tc(h,c,!0,b)&&e}h=b.a=a;e=tc(h,c,!0,b)&&e;e=tc(h,c,!1,b)&&e;if(d)for(f=0;f<d.length;f++)h=b.a=d[f],e=tc(h,c,!1,b)&&e;return e},tc=function(a,b,c,d){b=a.w.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];
if(h&&!h.O&&h.capture==c){var p=h.listener,t=h.ba||h.src;h.Z&&Xb(a.w,h);e=!1!==p.call(t,d)&&e}}return e&&0!=d.ta},dc=function(a){r(a.w,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var z=function(a,b){this.a=a|0;this.f=b|0},uc={},vc={},A=function(a){return db(uc,a,function(a){return new z(a,0>a?-1:0)})},wc=function(a){var b=a|0;r(a===b,"value should be a 32-bit integer");return-128<=b&&128>b?A(b):new z(b,0>b?-1:0)},D=function(a){return isNaN(a)?A(0):a<=-xc?B():a+1>=xc?yc():0>a?C(D(-a)):new z(a%4294967296|0,a/4294967296|0)},E=function(a,b){return new z(a,b)},zc=function(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+
b);if("-"==a.charAt(0))return C(zc(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);for(var c=D(Math.pow(b,8)),d=A(0),e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=D(Math.pow(b,f)),d=F(d,f).add(D(h))):(d=F(d,c),d=d.add(D(h)))}return d},xc=4294967296*4294967296/2,yc=function(){return db(vc,1,function(){return E(-1,2147483647)})},B=function(){return db(vc,2,function(){return E(0,-2147483648)})},Ac=function(){return db(vc,
6,function(){return wc(16777216)})};z.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(Bc(this))return"0";if(0>this.f){if(this.s(B())){var b=D(a),c=Cc(this,b);b=Dc(F(c,b),this);return c.toString(a)+b.a.toString(a)}return"-"+C(this).toString(a)}c=D(Math.pow(a,6));b=this;for(var d="";;){var e=Cc(b,c),f=(Dc(b,F(e,c)).a>>>0).toString(a);b=e;if(Bc(b))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var Ec=function(a){return 0<=a.a?a.a:4294967296+a.a},Bc=function(a){return 0==a.f&&0==a.a};z.prototype.s=function(a){return this.f==a.f&&this.a==a.a};var Gc=function(a){var b=Ac();return 0>Fc(a,b)},Fc=function(a,b){if(a.s(b))return 0;var c=0>a.f,d=0>b.f;return c&&!d?-1:!c&&d?1:0>Dc(a,b).f?-1:1},C=function(a){return a.s(B())?B():E(~a.a,~a.f).add(A(1))};
z.prototype.add=function(a){var b=this.f>>>16,c=this.f&65535,d=this.a>>>16,e=a.f>>>16,f=a.f&65535,h=a.a>>>16;a=(this.a&65535)+(a.a&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return E((h&65535)<<16|a&65535,b<<16|d&65535)};
var Dc=function(a,b){return a.add(C(b))},F=function(a,b){if(Bc(a)||Bc(b))return A(0);if(a.s(B()))return 1==(b.a&1)?B():A(0);if(b.s(B()))return 1==(a.a&1)?B():A(0);if(0>a.f)return 0>b.f?F(C(a),C(b)):C(F(C(a),b));if(0>b.f)return C(F(a,C(b)));if(Gc(a)&&Gc(b))return D((4294967296*a.f+Ec(a))*(4294967296*b.f+Ec(b)));var c=a.f>>>16,d=a.f&65535,e=a.a>>>16;a=a.a&65535;var f=b.f>>>16,h=b.f&65535,p=b.a>>>16;b=b.a&65535;var t=a*b;var y=(t>>>16)+e*b;var K=y>>>16;y=(y&65535)+a*p;K+=y>>>16;K+=d*b;var J=K>>>16;K=
(K&65535)+e*p;J+=K>>>16;K=(K&65535)+a*h;J=J+(K>>>16)+(c*b+d*p+e*h+a*f)&65535;return E((y&65535)<<16|t&65535,J<<16|K&65535)},Cc=function(a,b){if(Bc(b))throw Error("division by zero");if(Bc(a))return A(0);if(a.s(B())){if(b.s(A(1))||b.s(A(-1)))return B();if(b.s(B()))return A(1);var c=1;if(0==c)c=a;else{var d=a.f;c=32>c?E(a.a>>>c|d<<32-c,d>>c):E(d>>c-32,0<=d?0:-1)}c=Hc(Cc(c,b),1);if(c.s(A(0)))return 0>b.f?A(1):A(-1);a=Dc(a,F(b,c));return c.add(Cc(a,b))}if(b.s(B()))return A(0);if(0>a.f)return 0>b.f?Cc(C(a),
C(b)):C(Cc(C(a),b));if(0>b.f)return C(Cc(a,C(b)));for(d=A(0);0<=Fc(a,b);){c=Math.max(1,Math.floor((4294967296*a.f+Ec(a))/(4294967296*b.f+Ec(b))));var e=Math.ceil(Math.log(c)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=D(c),h=F(f,b);0>h.f||0<Fc(h,a);)c-=e,f=D(c),h=F(f,b);Bc(f)&&(f=A(1));d=d.add(f);a=Dc(a,h)}return d};z.prototype.and=function(a){return E(this.a&a.a,this.f&a.f)};z.prototype.or=function(a){return E(this.a|a.a,this.f|a.f)};z.prototype.xor=function(a){return E(this.a^a.a,this.f^a.f)};
var Hc=function(a,b){b&=63;if(0==b)return a;var c=a.a;return 32>b?E(c<<b,a.f<<b|c>>>32-b):E(0,c<<b-32)},Ic=function(a,b){b&=63;if(0==b)return a;var c=a.f;return 32>b?E(a.a>>>b|c<<32-b,c>>>b):32==b?E(c,0):E(c>>>b-32,0)};var Jc=function(a,b){this.ea=a;this.a={};for(a=0;a<b.length;a++){var c=b[a];this.a[c.a]=c}},Kc=function(a){a=Za(a.a);Ka(a,function(a,c){return a.a-c.a});return a},Lc=function(a,b){r(!/[^0-9]/.test(b));return a.a[parseInt(b,10)]||null};var Mc=function(a,b,c){this.i=a;r(!/[^0-9]/.test(b));this.a=b;this.m=!!c.fa;this.h=!!c.l;this.f=c.b;this.j=c.type;this.w=!1;switch(this.f){case 3:case 4:case 6:case 16:case 18:case 2:case 1:this.w=!0}},Nc=function(a){return 11==a.f||10==a.f};var G=function(){this.u={};this.f=this.c().a;this.a=null};G.prototype.has=function(a){r(a.i.prototype.c()==this.c(),"The current message does not contain the given field");return null!=this.u[a.a]};var Oc=function(a,b){r(b.i.prototype.c()==a.c(),"The current message does not contain the given field");b=b.a;return a.f[b].h?null!=a.u[b]?a.u[b].length:0:null!=a.u[b]?1:0};
G.prototype.get=function(a,b){r(a.i.prototype.c()==this.c(),"The current message does not contain the given field");return Pc(this,a.a,b)};G.prototype.set=function(a,b){r(a.i.prototype.c()==this.c(),"The current message does not contain the given field");H(this,a.a,b)};G.prototype.add=function(a,b){r(a.i.prototype.c()==this.c(),"The current message does not contain the given field");Qc(this,a.a,b)};
G.prototype.s=function(a){if(!a||this.constructor!=a.constructor)return!1;for(var b=Kc(this.c()),c=0;c<b.length;c++){var d=b[c],e=d.a;if(null!=this.u[e]!=(null!=a.u[e]))return!1;if(null!=this.u[e]){var f=Nc(d),h=Rc(this,e);e=Rc(a,e);if(d.h){if(h.length!=e.length)return!1;for(d=0;d<h.length;d++){var p=h[d],t=e[d];if(f?!p.s(t):p!=t)return!1}}else if(f?!h.s(e):h!=e)return!1}}return!0};
var Sc=function(a,b){r(a.constructor==b.constructor,"The source message must have the same type.");for(var c=Kc(a.c()),d=0;d<c.length;d++){var e=c[d],f=e.a;if(null!=b.u[f]){a.a&&delete a.a[e.a];var h=Nc(e);if(e.h){e=Rc(b,f)||[];for(var p=0;p<e.length;p++)Qc(a,f,h?e[p].clone():e[p])}else e=Rc(b,f),h?(h=Rc(a,f))?Sc(h,e):H(a,f,e.clone()):H(a,f,e)}}};
G.prototype.clone=function(){var a=new this.constructor;r(a.constructor==this.constructor,"The source message must have the same type.");a!=this&&(a.u={},a.a&&(a.a={}),Sc(a,this));return a};
var Rc=function(a,b){a=a.u[b];return null==a?null:a},Pc=function(a,b,c){var d=Rc(a,b);return a.f[b].h?(a=c||0,r(0<=a&&a<d.length,"Given index %s is out of bounds.  Repeated field length: %s",a,d.length),d[a]):d},H=function(a,b,c){var d=a.f[b];14==d.f?ya(c):r(Object(c).constructor==d.j);a.u[b]=c;a.a&&(a.a[b]=c)},Qc=function(a,b,c){var d=a.f[b];14==d.f?ya(c):r(Object(c).constructor==d.j);a.u[b]||(a.u[b]=[]);a.u[b].push(c);a.a&&delete a.a[b]},I=function(a,b){var c=[],d;for(d in b)0!=d&&c.push(new Mc(a,
d,b[d]));return new Jc(a,c)};var Tc=function(){};Tc.prototype.j=function(a,b){Nc(a)&&Uc(this,b)};Tc.prototype.h=function(a,b){if(Nc(a))return b instanceof G||(a=new (a.j.prototype.c().ea),Vc(this,a,b),r(a instanceof G),b=a),b;if(14==a.f)return m(b)&&Xc.test(b)&&(a=Number(b),0<a)?a:b;if(!a.w)return b;a=a.j;if(a===String){if("number"==typeof b)return String(b)}else if(a===Number&&m(b)&&("Infinity"===b||"-Infinity"===b||"NaN"===b||Xc.test(b)))return Number(b);return b};var Xc=/^-?[0-9]+$/;var Yc={Gd:!0},Zc={Jd:!0},$c={Id:!0},ad={Hd:!0},L=function(){throw Error("Do not instantiate directly");};L.prototype.a=null;L.prototype.toString=function(){return this.$};var bd=function(){L.call(this)};q(bd,L);bd.prototype.H=Yc;var cd=function(){L.call(this)};q(cd,L);cd.prototype.H=Zc;cd.prototype.a=1;var dd=function(){L.call(this)};q(dd,L);dd.prototype.H=$c;dd.prototype.a=1;var hd=function(a,b){r(a,"Soy template may not be null.");b=a(b||ed,void 0,void 0);a=Jb().a.createElement("DIV");b=fd(b);var c=b.match(gd);r(!c,"This template starts with a %s, which cannot be a child of a <div>, as required by soy internals. Consider using goog.soy.renderElement instead.\nTemplate output: %s",c&&c[0],b);a.innerHTML=b;1==a.childNodes.length&&(b=a.firstChild,1==b.nodeType&&(a=b));return a},fd=function(a){if(!na(a))return String(a);if(a instanceof L){if(a.H===Yc)return za(a.$);if(a.H===
ad)return Ta(a.$)}xa("Soy template output is unsafe for use as HTML: "+a);return"zSoyz"},gd=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,ed={};var id=function(){};id.a=void 0;id.S=function(){return id.a?id.a:id.a=new id};id.prototype.a=0;var M=function(a){w.call(this);this.T=a||Jb();this.N=null;this.A=!1;this.f=null;this.ha=void 0;this.M=this.h=this.j=null};q(M,w);M.prototype.ja=id.S();M.prototype.B=function(){return this.f};var jd=function(a){a.ha||(a.ha=new oc(a));return r(a.ha)},kd=function(a,b){if(a==b)throw Error("Unable to set parent component");var c;if(c=b&&a.j&&a.N){var d=a.j;c=a.N;d.M&&c?(d=d.M,c=(null!==d&&c in d?d[c]:void 0)||null):c=null}if(c&&a.j!=b)throw Error("Unable to set parent component");a.j=b;M.R.ca.call(a,b)};
M.prototype.ca=function(a){if(this.j&&this.j!=a)throw Error("Method not supported");M.R.ca.call(this,a)};M.prototype.aa=function(){this.f=this.T.a.createElement("DIV")};M.prototype.render=function(a){if(this.A)throw Error("Component already rendered");this.f||this.aa();a?a.insertBefore(this.f,null):this.T.a.body.appendChild(this.f);this.j&&!this.j.A||this.v()};M.prototype.v=function(){this.A=!0;ld(this,function(a){!a.A&&a.B()&&a.v()})};
var md=function(a,b){var c=a.h?a.h.length:0;r(!!b,"Provided element must not be null.");if(b.A&&!a.A)throw Error("Component already rendered");if(0>c||c>(a.h?a.h.length:0))throw Error("Child component index out of bounds");a.M&&a.h||(a.M={},a.h=[]);if(b.j==a){var d=b.N||(b.N=":"+(b.ja.a++).toString(36));a.M[d]=b;Fa(a.h,b)}else{d=a.M;var e=b.N||(b.N=":"+(b.ja.a++).toString(36));if(null!==d&&e in d)throw Error('The object already contains the key "'+e+'"');d[e]=b}kd(b,a);Ia(a.h,c,0,b);b.A&&a.A&&b.j==
a?(a=a.f,c=a.childNodes[c]||null,c!=b.B()&&a.insertBefore(b.B(),c)):a.A&&!b.A&&b.f&&b.f.parentNode&&1==b.f.parentNode.nodeType&&b.v()},ld=function(a,b){a.h&&Ca(a.h,b,void 0)};var nd=function(a){function b(a){this.$=a}b.prototype=a.prototype;return function(a,d){a=new b(String(a));void 0!==d&&(a.a=d);return a}}(bd),sd=function(a){return null!=a&&a.H===Yc?(r(a.constructor===bd),String(String(a.$).replace(od,"").replace(pd,"&lt;")).replace(qd,rd)):Ta(String(a))},td=function(a,b,c){a||(a=c instanceof Function?c.displayName||c.name||"unknown type name":c instanceof Object?c.constructor.displayName||c.constructor.name||Object.prototype.toString.call(c):null===c?"null":typeof c,
xa("expected param "+b+" of type !goog.soy.data.UnsanitizedText|string"+(", but got "+a)+"."));return c},ud={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},rd=function(a){return ud[a]},vd={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05",
"\u0006":"%06","\u0007":"%07","\b":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\f":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D","\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85",
"\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"},wd=function(a){return vd[a]},qd=/[\x00\x22\x27\x3c\x3e]/g,xd=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,
yd=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,od=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,pd=/</g;var N=function(){G.call(this)};q(N,G);var zd=null,Ad={ud:0,oc:1,KEEP:2,Fb:3,nc:4},Bd={yd:0,Xb:1,hd:2,ic:3,qc:4},O=function(){G.call(this)};q(O,G);var Cd=null,Dd={rd:0,Pb:1,OPENED:2,Kc:3,xc:4,Jc:5,Bb:6,pd:7,Tc:8,Ib:9,Yc:10,xb:11,lc:12},Ed=function(){G.call(this)};q(Ed,G);var Fd=null,Gd=function(){G.call(this)};q(Gd,G);var Hd=null,Id=function(){G.call(this)};q(Id,G);var Jd=null,Kd=function(){G.call(this)};q(Kd,G);var Ld=null,Md=function(){G.call(this)};q(Md,G);var Nd=null,Od=function(){G.call(this)};
q(Od,G);var Pd=null,Qd={wd:0,jd:1,kd:2,gd:3,nd:4,ld:5,md:6,Gb:7,Xc:8},Rd={xd:0,cc:1,xa:2,Aa:3,za:4,Ec:5},Sd={td:0,Wc:1,Yb:2,kc:3},Td=function(){G.call(this)};q(Td,G);var Ud=null,Vd={sd:0,Bc:1,Rc:2},Wd=function(){G.call(this)};q(Wd,G);var Xd=null,Yd={Kb:0,Jb:1,ad:2};
N.prototype.c=function(){var a=zd;a||(zd=a=I(N,{0:{name:"InkEvent",g:"logs.proto.research.ink.InkEvent"},1:{name:"host",b:14,defaultValue:0,type:Ad},2:{name:"event_type",b:14,defaultValue:0,type:Bd},3:{name:"document_event",b:11,type:O},4:{name:"toolbar_event",b:11,type:Od},5:{name:"engine_event",b:11,type:Td},6:{name:"gms_event",b:11,type:Wd}}));return a};N.c=N.prototype.c;
O.prototype.c=function(){var a=Cd;a||(Cd=a=I(O,{0:{name:"DocumentEvent",F:N,g:"logs.proto.research.ink.InkEvent.DocumentEvent"},1:{name:"event_type",b:14,defaultValue:0,type:Dd},2:{name:"opened_event",b:11,type:Ed},3:{name:"open_cancelled_event",b:11,type:Gd},4:{name:"error_code",b:3,type:String},5:{name:"brix_error_code",b:3,type:String},6:{name:"collaborator_joined_event",b:11,type:Id},7:{name:"document_state",b:11,type:Kd}}));return a};O.c=O.prototype.c;
Ed.prototype.c=function(){var a=Fd;a||(Fd=a=I(Ed,{0:{name:"OpenedEvent",F:O,g:"logs.proto.research.ink.InkEvent.DocumentEvent.OpenedEvent"},1:{name:"millis_until_first_byte_loaded",b:3,type:String},2:{name:"millis_until_editable",b:3,type:String},3:{name:"missing_document_bounds",b:8,type:Boolean},4:{name:"was_opened_by_cosmoid",b:8,type:Boolean},5:{name:"active_users",b:3,type:String}}));return a};Ed.c=Ed.prototype.c;
Gd.prototype.c=function(){var a=Hd;a||(Hd=a=I(Gd,{0:{name:"OpenCancelledEvent",F:O,g:"logs.proto.research.ink.InkEvent.DocumentEvent.OpenCancelledEvent"},1:{name:"time_until_cancelled",b:3,type:String}}));return a};Gd.c=Gd.prototype.c;Id.prototype.c=function(){var a=Jd;a||(Jd=a=I(Id,{0:{name:"CollaboratorJoined",F:O,g:"logs.proto.research.ink.InkEvent.DocumentEvent.CollaboratorJoined"},1:{name:"is_me",b:8,type:Boolean}}));return a};Id.c=Id.prototype.c;
Kd.prototype.c=function(){var a=Ld;a||(Ld=a=I(Kd,{0:{name:"DocumentState",F:O,g:"logs.proto.research.ink.InkEvent.DocumentEvent.DocumentState"},1:{name:"stroke_count",b:3,type:String},2:{name:"text_field",l:!0,b:11,type:Md},3:{name:"sticker_count",b:3,type:String}}));return a};Kd.c=Kd.prototype.c;
Md.prototype.c=function(){var a=Nd;a||(Nd=a=I(Md,{0:{name:"TextField",F:Kd,g:"logs.proto.research.ink.InkEvent.DocumentEvent.DocumentState.TextField"},1:{name:"character_count",b:3,type:String},2:{name:"line_count",b:3,type:String}}));return a};Md.c=Md.prototype.c;
Od.prototype.c=function(){var a=Pd;a||(Pd=a=I(Od,{0:{name:"ToolbarEvent",F:N,g:"logs.proto.research.ink.InkEvent.ToolbarEvent"},1:{name:"tool_event_type",b:14,defaultValue:0,type:Qd},2:{name:"tool_type",b:14,defaultValue:0,type:Rd},3:{name:"expand_method",b:14,defaultValue:0,type:Sd},4:{name:"color",b:5,type:Number}}));return a};Od.c=Od.prototype.c;
Td.prototype.c=function(){var a=Ud;a||(Ud=a=I(Td,{0:{name:"EngineEvent",F:N,g:"logs.proto.research.ink.InkEvent.EngineEvent"},1:{name:"engine_event_type",b:14,defaultValue:0,type:Vd},2:{name:"error_code",b:3,type:String}}));return a};Td.c=Td.prototype.c;
Wd.prototype.c=function(){var a=Xd;a||(Xd=a=I(Wd,{0:{name:"GmsEvent",F:N,g:"logs.proto.research.ink.InkEvent.GmsEvent"},1:{name:"gms_event_type",b:14,defaultValue:0,type:Yd},2:{name:"time_since_connect_start",b:3,type:String},3:{name:"failure_has_resolution",b:8,type:Boolean},4:{name:"gms_error_code",b:3,type:String}}));return a};Wd.c=Wd.prototype.c;var Zd=function(){this.a=[];this.i={value:0,length:0};this.w={value:A(0),length:0};this.f=new DataView(new ArrayBuffer(8))};q(Zd,Tc);
var Uc=function(a,b){if(null==b)return[];a.a=[];for(var c=Kc(b.c()),d=0;d<c.length;d++){var e=c[d];if(b.has(e))if(e.h)if(e.m){var f=a,h=b,p=e;e=f.a;P(f,p.a<<3|2);for(var t=e.length,y=0,K=Oc(h,p);y<K;y++){var J=h.get(p,y);f.j(p,J,!0)}h=e.splice(t,e.length-t);P(f,h.length);e.splice.apply(e,[e.length,0].concat(h))}else for(f=0,h=Oc(b,e);f<h;f++)p=b.get(e,f),a.j(e,p);else a.j(e,b.get(e))}return a.a};
Zd.prototype.j=function(a,b,c){if(c=!c){a:{switch(a.f){default:c=!1;break a;case 17:case 18:case 8:case 3:case 14:case 5:case 13:case 4:c=0;break;case 6:case 16:case 1:c=1;break;case 9:case 12:case 11:c=2;break;case 10:c=3;break;case 7:case 15:case 2:c=5}P(this,a.a<<3|c);c=!0}c=!c}if(!c)switch(a.f){default:throw Error("Unknown field type "+a.f);case 17:P(this,b<<1^-(b>>>31));break;case 18:a=zc(b);a=Hc(a,1).xor(C(Ic(a,63)));$d(this,a);break;case 8:P(this,b?1:0);break;case 5:0<b?P(this,b):$d(this,wc(b));
break;case 3:case 4:$d(this,zc(b));break;case 14:case 13:P(this,b);break;case 6:case 16:ae(this,zc(b),8);break;case 1:this.f.setFloat64(0,b,!0);for(a=0;8>a;a++)this.a.push(this.f.getUint8(a));break;case 9:if(null!=b)for(a=unescape(encodeURIComponent(b)),P(this,a.length),b=0;b<a.length;b++)this.a.push(a.charCodeAt(b));break;case 12:if(null!=b)for(P(this,b.length),a=0;a<b.length;a++)this.a.push(b.charCodeAt(a));break;case 10:b=Uc(new Zd,b);Ga(this.a,b);P(this,a.a<<3|4);break;case 11:b=Uc(new Zd,b);
P(this,b.length);Ga(this.a,b);break;case 7:ae(this,D(b),4);break;case 15:ae(this,wc(b),4);break;case 2:for(this.f.setFloat32(0,b,!0),a=0;4>a;a++)this.a.push(this.f.getUint8(a))}};
var Vc=function(a,b,c){if(null!=c){c instanceof ArrayBuffer&&(c=new Uint8Array(c));for(var d=b.c(),e=0;e<c.length;){var f=be(a,c.subarray(e)),h=f.value,p=h>>3;h&=7;e+=f.length;if(f=Lc(d,p))if(f.m)for(p=be(a,c.subarray(e)),h=p.value,e+=p.length;0<h&&e<c.length;){p=a.h(f,c.subarray(e));if(!p)throw Error("Expected "+f.f);b.add(f,p.value);e+=p.length;h-=p.length}else{h=a.h(f,c.subarray(e));if(!h)throw Error("Expected "+f.f);e+=h.length;f.h?b.add(f,h.value):b.set(f,h.value)}else{f=e;p=a;e=c.subarray(e);
var t=0;switch(h){case 0:t=ce(p,e).length;break;case 1:t=8;break;case 2:e=ce(p,e);t=e.length+e.value.a;break;case 3:case 4:xa("Error deserializing group");break;case 5:t=4}e=f+t}}}};
Zd.prototype.h=function(a,b){var c=null,d=a.f,e=ce(this,b),f=e.length;switch(d){case 17:a=e.value.a;c=a>>>1^-(a&1);break;case 18:a=e.value;c=Ic(a,1).xor(C(a.and(A(1)))).toString();break;case 8:c=e.value.s(A(1));break;case 3:case 4:c=e.value.toString();break;case 5:c=e.value.a;break;case 14:case 13:c=Ec(e.value);break;case 6:case 16:a=b.subarray(0,8);c=(new z(de(a.subarray(0,4),!0),de(a.subarray(4,8),!0))).toString();f=8;break;case 1:a=b.subarray(0,8);for(c=0;8>c;c++)this.f.setUint8(c,a[c]);c=this.f.getFloat64(0,
!0);f=8;break;case 9:a=b.subarray(e.length,e.length+e.value.a);a=ee(a);c=decodeURIComponent(escape(a));f=e.length+e.value.a;break;case 12:a=b.subarray(e.length,e.length+e.value.a);c=ee(a);f=e.length+e.value.a;break;case 10:f=c=new (a.j.prototype.c().ea);e=b;d=f.c();for(var h=0;;){var p=be(this,e),t=p.value;p=p.length;var y=t>>3;if(4==(t&7))break;h+=p;t={value:void 0,length:0};(y=Lc(d,y))&&(t=this.h(y,e.subarray(p)))&&null!==t.value&&(y.h?f.add(y,t.value):f.set(y,t.value));h+=t.length;if(e.length<
p+t.length)break;e=e.subarray(p+t.length)}f=h;b=ce(this,b.subarray(f));r(b.value.a==(a.a<<3|4),"Error deserializing group");f+=b.length;break;case 11:f=e.length+e.value.a;b=b.subarray(e.length,f);c=new (a.j.prototype.c().ea);Vc(this,c,b);break;case 7:case 15:c=de(b.subarray(0,4),15==d);f=4;break;case 2:a=b.subarray(0,4);for(c=0;4>c;c++)this.f.setUint8(c,a[c]);c=this.f.getFloat32(0,!0);f=4}return{value:c,length:f}};
var P=function(a,b){do{var c=b&127;b>>>=7;0<b&&(c|=128);a.a.push(c)}while(0<b)},$d=function(a,b){var c=wc(127);do{var d=b.and(c).a;b=Ic(b,7);0<Fc(b,A(0))&&(d|=128);a.a.push(d)}while(0<Fc(b,A(0)))},ce=function(a,b){a=a.w;for(var c=D(0),d=0;d<b.length;d++){var e=Hc(wc(b[d]&127),7*d);c=c.or(e);if(0==(b[d]&128))break}a.value=c;a.length=d+1;return a},be=function(a,b){a=a.i;for(var c=0,d=0;d<b.length&&(c|=(b[d]&127)<<7*d,0!=(b[d]&128));d++);a.value=c;a.length=d+1;return a},ae=function(a,b,c){for(var d=
wc(255),e=0;e<c;e++){var f=b.and(d).a;a.a.push(f);b=Ic(b,8)}},de=function(a,b){for(var c=0,d=0;d<a.length;d++)c|=a[d]<<8*d;b||(c>>>=0);return c},ee=function(a){var b="";a=new Uint16Array(a);for(var c=0;c<a.length;c+=65536)b+=String.fromCharCode.apply(null,a.subarray(c,c+Math.min(65536,a.length-c)));return b};var fe=function(a){for(var b=a.U;b;)a=b,b=a.U;return a},ge=function(a,b){var c=document.createElement("CANVAS"),d=document.createElement("IMG");d.setAttribute("style","position:absolute;visibility:hidden;top:-1000px;left:-1000px;");d.crossOrigin="Anonymous";ac(d,"load",function(){var a=d.width,f=d.height;c.width=a;c.height=f;var h=c.getContext("2d");h.drawImage(d,0,0);h=h.getImageData(0,0,a,f);document.body.removeChild(d);b(h.data,new Gb(a,f))});d.setAttribute("src",a);document.body.appendChild(d)},
he=function(a,b){var c=new N;H(c,1,a);H(c,2,1);a=new O;H(a,1,b);H(c,3,a);return c};var ie=function(a){v.call(this,"b");this.enabled=a};q(ie,v);var je=function(){v.call(this,"d")};q(je,v);var ke=function(){v.call(this,"e")};q(ke,v);var le=function(){v.call(this,"f")};q(le,v);var me=function(a){v.call(this,"g");this.callback=a};q(me,v);var ne=function(a){v.call(this,"h");this.j=a};q(ne,v);var oe=function(){v.call(this,"l")};q(oe,v);var pe=function(){G.call(this)};q(pe,G);var qe=null,Q=function(){G.call(this)};q(Q,G);var re=null;pe.prototype.c=function(){var a=qe;a||(qe=a=I(pe,{0:{name:"Point",g:"sketchology.proto.Point"},1:{name:"x",b:2,type:Number},2:{name:"y",b:2,type:Number}}));return a};pe.c=pe.prototype.c;
Q.prototype.c=function(){var a=re;a||(re=a=I(Q,{0:{name:"Rect",g:"sketchology.proto.Rect"},1:{name:"xlow",b:2,type:Number},2:{name:"xhigh",b:2,type:Number},3:{name:"ylow",b:2,type:Number},4:{name:"yhigh",b:2,type:Number}}));return a};Q.c=Q.prototype.c;var se={Wb:0,uc:1,tc:2,rc:3,sc:4,Ob:5,Nb:6,Lb:7,Mb:8,fd:9,ed:10,cd:11,dd:12,bd:13},te={Vb:0,yc:1,Db:2,Uc:3},ue=function(){G.call(this)};q(ue,G);var ve=null,we=function(){G.call(this)};q(we,G);var xe=null;ue.prototype.c=function(){var a=ve;a||(ve=a=I(ue,{0:{name:"Font",g:"sketchology.proto.text.Font"},1:{name:"postscript_font",b:14,defaultValue:0,type:se},2:{name:"name",b:9,type:String},3:{name:"asset_id",b:9,type:String},4:{name:"resource_id",b:13,type:Number}}));return a};ue.c=ue.prototype.c;
we.prototype.c=function(){var a=xe;a||(xe=a=I(we,{0:{name:"Text",g:"sketchology.proto.text.Text"},1:{name:"text",b:9,type:String},2:{name:"bounds_world",b:11,type:Q},3:{name:"font",b:11,type:ue},4:{name:"font_size_world",b:2,defaultValue:24,type:Number},5:{name:"rgba",b:13,defaultValue:255,type:Number},6:{name:"alignment",b:14,defaultValue:0,type:te}}));return a};we.c=we.prototype.c;var ye={NONE:0,Ad:1,Zc:2,jc:3,Bd:4},ze=function(){G.call(this)};q(ze,G);var Ae=null,Be=function(){G.call(this)};q(Be,G);var Ce=null,De={Y:0,hc:1,vc:2},Ee=function(){G.call(this)};q(Ee,G);var Fe=null,Ge=function(){G.call(this)};q(Ge,G);var He=null,Ie=function(){G.call(this)};q(Ie,G);var Je=null,Ke=function(){G.call(this)};q(Ke,G);var Le=null,Me=function(){G.call(this)};q(Me,G);var Ne=null,Oe=function(){G.call(this)};q(Oe,G);var Pe=null,R=function(){G.call(this)};q(R,G);var Qe=null,Re=function(){G.call(this)};
q(Re,G);var Se=null,Te=function(){G.call(this)};q(Te,G);var Ue=null,Ve=function(){G.call(this)};q(Ve,G);var We=null,Xe=function(){G.call(this)};q(Xe,G);var Ye=null,S=function(){G.call(this)};q(S,G);var Ze=null;S.prototype.B=function(){return Pc(this,2)};var $e=function(){G.call(this)};q($e,G);var af=null,bf={Y:0,Gc:1,Ac:2,Sb:3,Pc:4,Hb:5},cf={Cb:1,Vc:2,$c:3};
ze.prototype.c=function(){var a=Ae;a||(Ae=a=I(ze,{0:{name:"CallbackFlags",g:"sketchology.proto.CallbackFlags"},1:{name:"mesh_data_ctm",b:8,type:Boolean},2:{name:"uncompressed_outline",b:8,type:Boolean},3:{name:"compressed_input_points",b:8,type:Boolean}}));return a};ze.c=ze.prototype.c;Be.prototype.c=function(){var a=Ce;a||(Ce=a=I(Be,{0:{name:"SourceDetails",g:"sketchology.proto.SourceDetails"},1:{name:"origin",b:14,defaultValue:0,type:De},2:{name:"host_source_details",b:13,type:Number}}));return a};
Be.c=Be.prototype.c;Ee.prototype.c=function(){var a=Fe;a||(Fe=a=I(Ee,{0:{name:"BackgroundImageInfo",g:"sketchology.proto.BackgroundImageInfo"},1:{name:"uri",b:9,type:String},3:{name:"bounds",b:11,type:Q}}));return a};Ee.c=Ee.prototype.c;Ge.prototype.c=function(){var a=He;a||(He=a=I(Ge,{0:{name:"Border",g:"sketchology.proto.Border"},1:{name:"uri",b:9,type:String},2:{name:"scale",b:2,defaultValue:1,type:Number}}));return a};Ge.c=Ge.prototype.c;
Ie.prototype.c=function(){var a=Je;a||(Je=a=I(Ie,{0:{name:"GridInfo",g:"sketchology.proto.GridInfo"},1:{name:"uri",b:9,type:String},2:{name:"rgba_multiplier",b:13,defaultValue:4294967295,type:Number},3:{name:"size_world",b:2,defaultValue:50,type:Number},4:{name:"origin",b:11,type:pe}}));return a};Ie.c=Ie.prototype.c;Ke.prototype.c=function(){var a=Le;a||(Le=a=I(Ke,{0:{name:"LOD",g:"sketchology.proto.LOD"},1:{name:"max_coverage",b:2,type:Number},2:{name:"ctm_blob",b:12,type:String}}));return a};
Ke.c=Ke.prototype.c;Me.prototype.c=function(){var a=Ne;a||(Ne=a=I(Me,{0:{name:"Stroke",g:"sketchology.proto.Stroke"},1:{name:"shader_type",b:14,defaultValue:0,type:ye},3:{name:"lod",l:!0,b:11,type:Ke},4:{name:"abgr",b:13,type:Number},5:{name:"point_x",l:!0,fa:!0,b:17,type:Number},6:{name:"point_y",l:!0,fa:!0,b:17,type:Number},7:{name:"point_t_ms",l:!0,fa:!0,b:13,type:Number},8:{name:"deprecated_transform",b:11,type:R},9:{name:"start_time_ms",b:4,type:String}}));return a};Me.c=Me.prototype.c;
Oe.prototype.c=function(){var a=Pe;a||(Pe=a=I(Oe,{0:{name:"UncompressedStroke",g:"sketchology.proto.UncompressedStroke"},1:{name:"outline",l:!0,b:11,type:pe},2:{name:"rgba",b:13,type:Number}}));return a};Oe.c=Oe.prototype.c;
R.prototype.c=function(){var a=Qe;a||(Qe=a=I(R,{0:{name:"AffineTransform",g:"sketchology.proto.AffineTransform"},1:{name:"tx",b:2,type:Number},2:{name:"ty",b:2,type:Number},3:{name:"scale_x",b:2,defaultValue:1,type:Number},4:{name:"scale_y",b:2,defaultValue:1,type:Number},5:{name:"rotation_radians",b:2,type:Number}}));return a};R.c=R.prototype.c;
Re.prototype.c=function(){var a=Se;a||(Se=a=I(Re,{0:{name:"Element",g:"sketchology.proto.Element"},4:{name:"deprecated_uuid",b:9,type:String},5:{name:"minimum_serializer_version",b:13,type:Number},6:{name:"stroke",b:11,type:Me},9:{name:"path",b:11,type:$e},10:{name:"attributes",b:11,type:Te},11:{name:"text",b:11,type:we}}));return a};Re.c=Re.prototype.c;
Te.prototype.c=function(){var a=Ue;a||(Ue=a=I(Te,{0:{name:"ElementAttributes",g:"sketchology.proto.ElementAttributes"},1:{name:"selectable",b:8,defaultValue:!0,type:Boolean},2:{name:"magic_erasable",b:8,defaultValue:!0,type:Boolean},3:{name:"is_sticker",b:8,defaultValue:!1,type:Boolean},4:{name:"is_text",b:8,defaultValue:!1,type:Boolean},5:{name:"is_group",b:8,defaultValue:!1,type:Boolean}}));return a};Te.c=Te.prototype.c;
Ve.prototype.c=function(){var a=We;a||(We=a=I(Ve,{0:{name:"UncompressedElement",g:"sketchology.proto.UncompressedElement"},1:{name:"uncompressed_stroke",b:11,type:Oe}}));return a};Ve.c=Ve.prototype.c;Xe.prototype.c=function(){var a=Ye;a||(Ye=a=I(Xe,{0:{name:"ElementMutation",g:"sketchology.proto.ElementMutation"},1:{name:"uuid",l:!0,b:9,type:String},2:{name:"transform",l:!0,b:11,type:R}}));return a};Xe.c=Xe.prototype.c;
S.prototype.c=function(){var a=Ze;a||(Ze=a=I(S,{0:{name:"ElementBundle",g:"sketchology.proto.ElementBundle"},1:{name:"uuid",b:9,type:String},2:{name:"element",b:11,type:Re},3:{name:"transform",b:11,type:R},4:{name:"uncompressed_element",b:11,type:Ve},5:{name:"group_uuid",b:9,type:String}}));return a};S.c=S.prototype.c;
$e.prototype.c=function(){var a=af;a||(af=a=I($e,{0:{name:"Path",g:"sketchology.proto.Path"},1:{name:"segment_types",l:!0,b:14,defaultValue:0,type:bf},2:{name:"segment_counts",l:!0,b:13,type:Number},3:{name:"segment_args",l:!0,b:1,type:Number},4:{name:"radius",b:1,defaultValue:1,type:Number},5:{name:"rgba",b:13,type:Number},6:{name:"end_cap",b:14,defaultValue:2,type:cf},7:{name:"fill_rgba",b:13,type:Number}}));return a};$e.c=$e.prototype.c;var df={zd:0,$b:1,Zb:2,ac:3,Tb:4},ef=function(){G.call(this)};q(ef,G);var ff=null,gf=function(){G.call(this)};q(gf,G);var hf=null,jf=function(){G.call(this)};q(jf,G);var kf=null,lf=function(){G.call(this)};q(lf,G);var mf=null;ef.prototype.c=function(){var a=ff;a||(ff=a=I(ef,{0:{name:"AnimationCurve",g:"sketchology.proto.AnimationCurve"},1:{name:"type",b:14,defaultValue:1,type:df},2:{name:"params",l:!0,b:2,type:Number}}));return a};ef.c=ef.prototype.c;
gf.prototype.c=function(){var a=hf;a||(hf=a=I(gf,{0:{name:"ColorAnimation",g:"sketchology.proto.ColorAnimation"},1:{name:"duration",b:1,defaultValue:.5,type:Number},2:{name:"curve",b:11,type:ef},3:{name:"rgba",b:13,type:Number}}));return a};gf.c=gf.prototype.c;
jf.prototype.c=function(){var a=kf;a||(kf=a=I(jf,{0:{name:"ScaleAnimation",g:"sketchology.proto.ScaleAnimation"},1:{name:"duration",b:1,defaultValue:.5,type:Number},2:{name:"curve",b:11,type:ef},3:{name:"scale_x",b:2,type:Number},4:{name:"scale_y",b:2,type:Number}}));return a};jf.c=jf.prototype.c;
lf.prototype.c=function(){var a=mf;a||(mf=a=I(lf,{0:{name:"ElementAnimation",g:"sketchology.proto.ElementAnimation"},1:{name:"uuid",b:9,type:String},2:{name:"color_animation",b:11,type:gf},3:{name:"scale_animation",b:11,type:jf},4:{name:"next",b:11,type:lf}}));return a};lf.c=lf.prototype.c;var nf={yb:1,Ub:2},of=function(){G.call(this)};q(of,G);var pf=null,qf=function(){G.call(this)};q(qf,G);var rf=null,sf=function(){G.call(this)};q(sf,G);var tf=null,uf=function(){G.call(this)};q(uf,G);var vf=null,wf=function(){G.call(this)};q(wf,G);var xf=null,yf=function(){G.call(this)};q(yf,G);var zf=null,Af=function(){G.call(this)};q(Af,G);var Bf=null,Cf=function(){G.call(this)};q(Cf,G);var Df=null,Ef=function(){G.call(this)};q(Ef,G);var Ff=null,Gf=function(){G.call(this)};q(Gf,G);
var Hf=null,If=function(){G.call(this)};q(If,G);var Jf=null,T=function(){G.call(this)};q(T,G);var Kf=null;T.prototype.B=function(){return Pc(this,2,void 0)};var Lf=function(){G.call(this)};q(Lf,G);var Mf=null;Lf.prototype.B=function(){return Pc(this,2,void 0)};of.prototype.c=function(){var a=pf;a||(pf=a=I(of,{0:{name:"Color",g:"sketchology.proto.Color"},1:{name:"argb",b:13,type:Number}}));return a};of.c=of.prototype.c;
qf.prototype.c=function(){var a=rf;a||(rf=a=I(qf,{0:{name:"BackgroundColor",g:"sketchology.proto.BackgroundColor"},1:{name:"rgba",b:13,type:Number}}));return a};qf.c=qf.prototype.c;sf.prototype.c=function(){var a=tf;a||(tf=a=I(sf,{0:{name:"PageProperties",g:"sketchology.proto.PageProperties"},1:{name:"background_color",b:11,type:of},2:{name:"background_image",b:11,type:Ee},3:{name:"bounds",b:11,type:Q},4:{name:"border",b:11,type:Ge},5:{name:"grid_info",b:11,type:Ie}}));return a};sf.c=sf.prototype.c;
uf.prototype.c=function(){var a=vf;a||(vf=a=I(uf,{0:{name:"PerPageProperties",g:"sketchology.proto.PerPageProperties"},1:{name:"uuid",b:9,type:String},2:{name:"width",b:2,type:Number},3:{name:"height",b:2,type:Number}}));return a};uf.c=uf.prototype.c;wf.prototype.c=function(){var a=xf;a||(xf=a=I(wf,{0:{name:"AddAction",g:"sketchology.proto.AddAction"},1:{name:"uuid",b:9,type:String},2:{name:"below_element_with_uuid",b:9,type:String}}));return a};wf.c=wf.prototype.c;
yf.prototype.c=function(){var a=zf;a||(zf=a=I(yf,{0:{name:"RemoveAction",g:"sketchology.proto.RemoveAction"},1:{name:"uuid",l:!0,b:9,type:String},2:{name:"was_below_uuid",l:!0,b:9,type:String}}));return a};yf.c=yf.prototype.c;Af.prototype.c=function(){var a=Bf;a||(Bf=a=I(Af,{0:{name:"ClearAction",g:"sketchology.proto.ClearAction"},1:{name:"uuid",l:!0,b:9,type:String}}));return a};Af.c=Af.prototype.c;
Cf.prototype.c=function(){var a=Df;a||(Df=a=I(Cf,{0:{name:"ReplaceAction",g:"sketchology.proto.ReplaceAction"},1:{name:"uuid_add",l:!0,b:9,type:String},2:{name:"below_element_with_uuid",b:9,type:String},3:{name:"uuid_remove",l:!0,b:9,type:String},4:{name:"was_below_uuid",l:!0,b:9,type:String}}));return a};Cf.c=Cf.prototype.c;
Ef.prototype.c=function(){var a=Ff;a||(Ff=a=I(Ef,{0:{name:"SetTransformAction",g:"sketchology.proto.SetTransformAction"},1:{name:"uuid",l:!0,b:9,type:String},2:{name:"from_transform",l:!0,b:11,type:R},3:{name:"to_transform",l:!0,b:11,type:R}}));return a};Ef.c=Ef.prototype.c;Gf.prototype.c=function(){var a=Hf;a||(Hf=a=I(Gf,{0:{name:"SetPageBoundsAction",g:"sketchology.proto.SetPageBoundsAction"},1:{name:"old_bounds",b:11,type:Q},2:{name:"new_bounds",b:11,type:Q}}));return a};Gf.c=Gf.prototype.c;
If.prototype.c=function(){var a=Jf;a||(Jf=a=I(If,{0:{name:"StorageAction",g:"sketchology.proto.StorageAction"},1:{name:"add_action",b:11,type:wf},2:{name:"remove_action",b:11,type:yf},3:{name:"clear_action",b:11,type:Af},4:{name:"replace_action",b:11,type:Cf},5:{name:"set_transform_action",b:11,type:Ef},6:{name:"set_page_bounds_action",b:11,type:Gf}}));return a};If.c=If.prototype.c;
T.prototype.c=function(){var a=Kf;a||(Kf=a=I(T,{0:{name:"Snapshot",g:"sketchology.proto.Snapshot"},1:{name:"page_properties",b:11,type:sf},8:{name:"per_page_properties",l:!0,b:11,type:uf},2:{name:"element",l:!0,b:11,type:S},3:{name:"dead_element",l:!0,b:11,type:S},4:{name:"undo_action",l:!0,b:11,type:If},5:{name:"redo_action",l:!0,b:11,type:If},6:{name:"element_state_index",l:!0,b:14,defaultValue:1,type:nf},7:{name:"fingerprint",b:4,type:String}}));return a};T.c=T.prototype.c;
Lf.prototype.c=function(){var a=Mf;a||(Mf=a=I(Lf,{0:{name:"MutationPacket",g:"sketchology.proto.MutationPacket"},1:{name:"mutation",l:!0,b:11,type:If},2:{name:"element",l:!0,b:11,type:S}}));return a};Lf.c=Lf.prototype.c;var Nf={qd:0,xa:1,wc:2,Aa:3,zb:4,ya:6,za:8,Eb:10,Ab:11},Of={Y:0,Sc:1,ec:2,gc:3,dc:4,fc:5,Cc:6,Ic:7,Rb:8,pc:9},U=function(){G.call(this)};q(U,G);var Pf=null,V=function(){G.call(this)};q(V,G);var Qf=null,Rf=function(){G.call(this)};q(Rf,G);var Sf=null,Tf=function(){G.call(this)};q(Tf,G);var Uf=null,Vf=function(){G.call(this)};q(Vf,G);var Wf=null,Xf=function(){G.call(this)};q(Xf,G);var Yf=null,Zf=function(){G.call(this)};q(Zf,G);var $f=null,ag=function(){G.call(this)};q(ag,G);var bg=null,cg=function(){G.call(this)};
q(cg,G);var dg=null,eg={vd:0,Cd:1,POINTS:2,Dd:3,Mc:4,Nc:5},fg=function(){G.call(this)};q(fg,G);var gg=null,hg=function(){G.call(this)};q(hg,G);var ig=null,jg={Y:0,zc:1,bc:2,Dc:3,Qc:4,Hc:5,mc:6,Oc:7,Qb:8},kg=function(){G.call(this)};q(kg,G);var lg=null,mg=function(){G.call(this)};q(mg,G);var ng=null,og=function(){G.call(this)};q(og,G);var pg=null,qg=function(){G.call(this)};q(qg,G);var rg=null,sg=function(){G.call(this)};q(sg,G);var tg=null,ug={Y:0,Fc:1,od:2,Lc:3,ya:4},vg=function(){G.call(this)};
q(vg,G);var wg=null,xg=function(){G.call(this)};q(xg,G);var yg=null,zg=function(){G.call(this)};q(zg,G);var Ag=null,Bg=function(){G.call(this)};q(Bg,G);var Cg=null,Dg=function(){G.call(this)};q(Dg,G);var Eg=null;
U.prototype.c=function(){var a=Pf;a||(Pf=a=I(U,{0:{name:"Command",g:"sketchology.proto.Command"},1:{name:"set_viewport",b:11,type:Xf},2:{name:"tool_params",b:11,type:hg},3:{name:"add_path",b:11,type:Dg},4:{name:"camera_position",b:11,type:Q},5:{name:"page_bounds",b:11,type:Q},6:{name:"image_export",b:11,type:Zf},7:{name:"flag_assignment",b:11,type:kg},8:{name:"set_element_transforms",b:11,type:Xe},9:{name:"add_element",b:11,type:mg},10:{name:"background_image",b:11,type:Ee},11:{name:"background_color",
b:11,type:qf},12:{name:"set_out_of_bounds_color",b:11,type:og},13:{name:"set_page_border",b:11,type:Ge},14:{name:"send_input_stream",b:11,type:qg},15:{name:"sequence_point",b:11,type:vg},16:{name:"set_callback_flags",b:11,type:xg},17:{name:"set_camera_bounds_config",b:11,type:zg},18:{name:"deselect_all",b:11,type:V},19:{name:"add_image_rect",b:11,type:Bg},21:{name:"clear",b:11,type:V},22:{name:"remove_all_elements",b:11,type:V},23:{name:"undo",b:11,type:V},24:{name:"redo",b:11,type:V},25:{name:"evict_image_data",
b:11,type:Vf},26:{name:"replace_elements",b:11,type:Rf},27:{name:"commit_crop",b:11,type:V},28:{name:"element_animation",b:11,type:lf},29:{name:"set_grid",b:11,type:Ie},30:{name:"clear_grid",b:11,type:V},31:{name:"set_crop",b:11,type:Q},32:{name:"add_text",b:11,type:Tf}}));return a};U.c=U.prototype.c;V.prototype.c=function(){var a=Qf;a||(Qf=a=I(V,{0:{name:"NoArgCommand",g:"sketchology.proto.NoArgCommand"}}));return a};V.c=V.prototype.c;
Rf.prototype.c=function(){var a=Sf;a||(Sf=a=I(Rf,{0:{name:"ReplaceElementsCommand",g:"sketchology.proto.ReplaceElementsCommand"},1:{name:"uuids_to_remove",l:!0,b:9,type:String},2:{name:"paths_to_add",l:!0,b:11,type:$e}}));return a};Rf.c=Rf.prototype.c;Tf.prototype.c=function(){var a=Uf;a||(Uf=a=I(Tf,{0:{name:"AddText",g:"sketchology.proto.AddText"},1:{name:"text",b:11,type:we},2:{name:"group_uuid",b:9,type:String}}));return a};Tf.c=Tf.prototype.c;
Vf.prototype.c=function(){var a=Wf;a||(Wf=a=I(Vf,{0:{name:"EvictImageData",g:"sketchology.proto.EvictImageData"},1:{name:"uri",b:9,type:String}}));return a};Vf.c=Vf.prototype.c;Xf.prototype.c=function(){var a=Yf;a||(Yf=a=I(Xf,{0:{name:"Viewport",g:"sketchology.proto.Viewport"},1:{name:"width",b:13,type:Number},2:{name:"height",b:13,type:Number},3:{name:"ppi",b:2,type:Number}}));return a};Xf.c=Xf.prototype.c;
Zf.prototype.c=function(){var a=$f;a||($f=a=I(Zf,{0:{name:"ImageExport",g:"sketchology.proto.ImageExport"},1:{name:"max_dimension_px",b:13,defaultValue:1024,type:Number},2:{name:"should_draw_background",b:8,defaultValue:!0,type:Boolean}}));return a};Zf.c=Zf.prototype.c;
ag.prototype.c=function(){var a=bg;a||(bg=a=I(ag,{0:{name:"LinearPathAnimation",g:"sketchology.proto.LinearPathAnimation"},1:{name:"rgba_from",b:13,type:Number},2:{name:"rgba_seconds",b:1,type:Number},3:{name:"dilation_from",b:2,type:Number},4:{name:"dilation_seconds",b:1,type:Number}}));return a};ag.c=ag.prototype.c;
cg.prototype.c=function(){var a=dg;a||(dg=a=I(cg,{0:{name:"LineSize",g:"sketchology.proto.LineSize"},7:{name:"stroke_width",b:2,type:Number},8:{name:"units",b:14,defaultValue:1,type:eg},9:{name:"use_web_sizes",b:8,type:Boolean}}));return a};cg.c=cg.prototype.c;fg.prototype.c=function(){var a=gg;a||(gg=a=I(fg,{0:{name:"PusherToolParams",g:"sketchology.proto.PusherToolParams"},1:{name:"manipulate_stickers",b:8,type:Boolean},2:{name:"manipulate_text",b:8,type:Boolean}}));return a};fg.c=fg.prototype.c;
hg.prototype.c=function(){var a=ig;a||(ig=a=I(hg,{0:{name:"ToolParams",g:"sketchology.proto.ToolParams"},1:{name:"tool",b:14,defaultValue:0,type:jg},2:{name:"rgba",b:13,type:Number},3:{name:"line_size",b:11,type:cg},4:{name:"pusher_tool_params",b:11,type:fg},5:{name:"brush_type",b:14,defaultValue:0,type:Nf},6:{name:"linear_path_animation",b:11,type:ag}}));return a};hg.c=hg.prototype.c;
kg.prototype.c=function(){var a=lg;a||(lg=a=I(kg,{0:{name:"FlagAssignment",g:"sketchology.proto.FlagAssignment"},1:{name:"flag",b:14,defaultValue:0,type:Of},2:{name:"bool_value",b:8,type:Boolean}}));return a};kg.c=kg.prototype.c;mg.prototype.c=function(){var a=ng;a||(ng=a=I(mg,{0:{name:"AddElement",g:"sketchology.proto.AddElement"},1:{name:"bundle",b:11,type:S},2:{name:"below_element_with_uuid",b:9,type:String}}));return a};mg.c=mg.prototype.c;
og.prototype.c=function(){var a=pg;a||(pg=a=I(og,{0:{name:"OutOfBoundsColor",g:"sketchology.proto.OutOfBoundsColor"},1:{name:"rgba",b:13,type:Number}}));return a};og.c=og.prototype.c;qg.prototype.c=function(){var a=rg;a||(rg=a=I(qg,{0:{name:"SInputStream",g:"sketchology.proto.SInputStream"},1:{name:"screen_width",b:13,type:Number},2:{name:"screen_height",b:13,type:Number},3:{name:"screen_ppi",b:2,type:Number},4:{name:"input",l:!0,b:11,type:sg}}));return a};qg.c=qg.prototype.c;
sg.prototype.c=function(){var a=tg;a||(tg=a=I(sg,{0:{name:"SInput",g:"sketchology.proto.SInput"},1:{name:"type",b:14,defaultValue:0,type:ug},2:{name:"id",b:13,type:Number},3:{name:"flags",b:13,type:Number},4:{name:"time_s",b:1,type:Number},5:{name:"screen_pos_x",b:2,type:Number},6:{name:"screen_pos_y",b:2,type:Number},7:{name:"pressure",b:2,type:Number},8:{name:"wheel_delta",b:2,type:Number},9:{name:"tilt",b:2,type:Number},10:{name:"orientation",b:2,type:Number}}));return a};sg.c=sg.prototype.c;
vg.prototype.c=function(){var a=wg;a||(wg=a=I(vg,{0:{name:"SequencePoint",g:"sketchology.proto.SequencePoint"},1:{name:"id",b:5,type:Number}}));return a};vg.c=vg.prototype.c;xg.prototype.c=function(){var a=yg;a||(yg=a=I(xg,{0:{name:"SetCallbackFlags",g:"sketchology.proto.SetCallbackFlags"},1:{name:"source_details",b:11,type:Be},2:{name:"callback_flags",b:11,type:ze}}));return a};xg.c=xg.prototype.c;
zg.prototype.c=function(){var a=Ag;a||(Ag=a=I(zg,{0:{name:"CameraBoundsConfig",g:"sketchology.proto.CameraBoundsConfig"},1:{name:"margin_left_px",b:2,type:Number},2:{name:"margin_right_px",b:2,type:Number},3:{name:"margin_bottom_px",b:2,type:Number},4:{name:"margin_top_px",b:2,type:Number},5:{name:"fraction_padding",b:2,defaultValue:.1,type:Number}}));return a};zg.c=zg.prototype.c;
Bg.prototype.c=function(){var a=Cg;a||(Cg=a=I(Bg,{0:{name:"ImageRect",g:"sketchology.proto.ImageRect"},1:{name:"rect",b:11,type:Q},2:{name:"bitmap_uri",b:9,type:String},3:{name:"attributes",b:11,type:Te},4:{name:"rotation_radians",b:2,type:Number},5:{name:"group_uuid",b:9,type:String}}));return a};Bg.c=Bg.prototype.c;
Dg.prototype.c=function(){var a=Eg;a||(Eg=a=I(Dg,{0:{name:"AddPath",g:"sketchology.proto.AddPath"},1:{name:"path",b:11,type:$e},2:{name:"uuid",b:9,type:String},3:{name:"group_uuid",b:9,type:String}}));return a};Dg.c=Dg.prototype.c;var Fg=function(){w.call(this)};q(Fg,w);var Gg="ink_model_instances_"+Math.random();var W=function(){w.call(this);this.f="#000000";this.j=.6;this.h=!1;this.a=this.i=1;this.m="CALLIGRAPHY"};q(W,Fg);(function(a){a.S=function(b){Aa(b);var c=fe(b);(b=c[Gg])||(c[Gg]=b={});var d=a[oa]||(a[oa]=++pa),e=b[d];e?b=e:(c=new a(c),b=b[d]=c);return b}})(W);var Hg={CALLIGRAPHY:1,EDIT:2,ERASER:1,HIGHLIGHTER:1,INKPEN:1,MAGIC_ERASE:3,MARKER:1,PENCIL:1,BALLPOINT:1,BALLPOINT_IN_PEN_MODE_ELSE_MARKER:1,QUERY:4},Ig={CALLIGRAPHY:1,ERASER:6,HIGHLIGHTER:8,INKPEN:2,MARKER:3,BALLPOINT:4,BALLPOINT_IN_PEN_MODE_ELSE_MARKER:11};
g=W.prototype;g.Ra=function(a){this.f=a;x(this,"m")};g.Sa=function(a){this.j=a;x(this,"m")};g.vb=function(a){this.h=a;x(this,"m")};g.wb=function(a){this.i=Hg[a];this.a=void 0!==Ig[a]?Ig[a]:this.a;this.m=a;x(this,"m")};g.Ma=function(){return this.m};g.Oa=function(){return this.f};g.pa=function(){return this.h?"#FFFFFF":this.f};g.qa=function(){return parseInt(this.pa().substring(1),16)};g.Pa=function(){return this.j};g.Ja=function(){return this.h};g.Na=function(){return this.a};g.Qa=function(){return this.i};var Ng=function(a){this.j=Jg(a);this.h=Kg(a);this.f=Lg(a);this.a=Mg(a)},Og=function(a){return"rgb("+[a.h,a.f,a.a].join()+")"},Pg=function(a){return new Uint32Array([a.h<<24|a.f<<16|a.a<<8|a.j])},Qg=function(a){return function(b){return b>>>a&255}},Jg=Qg(24),Kg=Qg(16),Lg=Qg(8),Mg=Qg(0),Rg=new Ng(4278190080),Sg=new Ng(4294967295),Tg=new Ng(4294638330);var Ug={},Vg=(Ug.dots="sketchology://grid_dots_0",Ug.rules="sketchology://grid_rules_0",Ug.square="sketchology://grid_square_0",Ug),Wg={},Xg=(Wg.none="",Wg.dots="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAQAAAD2e2DtAAACoElEQVR4Ae3SsW0iQABE0Y0ogJC+iC0XAy0ANdAF9IFAQrTxL7wLbAuQLlm/eSXMH32/W2MKXPp2PwVwbjCF03sB7BpMYfdeAOsGU1i/E8C9ZYMpLLu+HsC2wTQ2rwbwaNVgGquurwXw0WAqn68EcGgwnf2zARxbNJjOouMzAezdP3ECh58DuPbZYGofPb4O4NqmVYPprdp2/xvApVO71i0bvwbL1u06dxv9aoz+IwSAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACIARAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAhDArXO71i0b/BrL1u06dRlVVd3btmpMj1WbrlVVo3/36KMxNT67Vn0dQNWhRYMpLdpX/RxAHSUwpUXHeiaA2jeYzqGeDaA+G0zlo14J4NqqwTRWPV4LoDYNprGtVwO4tmwwhWX31wOodYMprOudAHYNprB7L4BTgymc3wvg0mAKt77dH6BiW7h7b3psAAAAAElFTkSuQmCC",
Wg.rules="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAQMAAACQp+OdAAAABlBMVEX///////9VfPVsAAAAAnRSTlP/AOW3MEoAAAAUSURBVHgBY4CD/1BAmDHKGGXAAAD0xe4gqLTwJgAAAABJRU5ErkJggg==",Wg.square="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAQMAAACQp+OdAAAABlBMVEX///////9VfPVsAAAAAnRSTlP/AOW3MEoAAAAWSURBVHgBY4CD+v9g8I8wY5QxyoABAGFRzuKVnN1rAAAAAElFTkSuQmCC",Wg),Yg=function(a){return(Object.entries(Vg).find(function(b){return b[1]==a})||["none",""])[0]};var Zg=function(){v.call(this,"n")};q(Zg,v);var $g=function(a,b,c){b=c||b;c=td(m(a.sa)||!1,"manifestUrl",a.sa);var d=td(m(a.ua)||!1,"useMSAA",a.ua),e=td(m(a.va)||!1,"useSingleBuffer",a.va),f=td(m(a.wa)||!1,"useSingleBufferMSAA",a.wa);a=td(m(a.P)||!1,"sengineType",a.P);b="<style"+(b&&b.ga?' nonce="'+sd(b&&b.ga)+'"':"")+'>\n    #ink-engine-hwoverlay {\n      display: none;\n      position: absolute;\n      width: 5px;\n      height: 5px;\n      left: 0px;\n      top: 0px;\n      /* Transforms and semi-transparent color are used to ensure the div\n       * prevents use of a hardware overlay for the underlying canvas element,\n       * despite future optimizations to the hardware overlay eligibility\n       * detection in ChromeOS.  See b/64569245 for details */\n      background-color: rgba(0, 0, 0, 0.01);\n      transform: translate3d(0.33, 0.14, 0);\n    }\n    /* TODO(b/69541198): Hack for hardware overlay in fullscreen mode */\n    #canvas-parent.fullscreen {\n      height: calc(100% - 5px);\n      width: calc(100% - 10px);\n      padding: 0 5px 5px 5px;\n      background-color: transparent;\n    }\n  </style><embed id="ink-engine" use_msaa="'+
sd(d)+'" use_single_buffer="'+sd(e)+'" use_single_buffer_msaa="'+sd(f)+'" src="';null!=c&&c.H===Zc?(r(c.constructor===cd),c=String(c).replace(xd,wd)):null!=c&&c.H===$c?(r(c.constructor===dd),c=String(c).replace(xd,wd)):c instanceof Ab?(c instanceof Ab&&c.constructor===Ab&&c.Da===zb?c=c.da:(xa("expected object of type SafeUrl, got '"+c+"' of type "+n(c)),c="type_error:SafeUrl"),c=String(c).replace(xd,wd)):c instanceof yb?(c instanceof yb&&c.constructor===yb&&c.Fa===xb?c="":(xa("expected object of type TrustedResourceUrl, got '"+
c+"' of type "+n(c)),c="type_error:TrustedResourceUrl"),c=String(c).replace(xd,wd)):(c=String(c),yd.test(c)?c=c.replace(xd,wd):(xa("Bad value `%s` for |filterNormalizeUri",[c]),c="about:invalid#zSoyz"));return nd(b+sd(c)+'" type="application/x-nacl" sengine_type="'+sd(a)+'"><div id="ink-engine-hwoverlay"></div>')};$g.a="ink.soy.nacl.canvasHTML";var ah=function(a,b,c,d,e){M.call(this);r(a);this.Ca=a;this.m=b;this.Ga=c;this.Ea=e;this.I=0;this.K=600;this.J=800;this.G=0;this.i=new Zd;this.C=la;this.ka=this.ma=!1;this.Ha=d;this.na=[];this.V=[];this.W=[];this.oa=[];this.ia=[];this.X=[];this.L={};this.la=0};q(ah,M);ah.prototype.aa=function(){var a=!u("Macintosh")||0<=Va(bb(),"10.12.5"),b=u("CrOS"),c=u("CrOS")&&0<=Va(bb(),"10176");this.f=a=hd($g,{sa:this.Ca,ua:!!a+"",va:!!b+"",wa:!!c+"",P:this.Ha});this.a=a.querySelector("#ink-engine")};
ah.prototype.v=function(){var a=this;this.a.addEventListener("load",function(){bh(a);a.C();ch(a,5,a.ma)})};var dh=function(a){v.call(this,"q");this.enabled=a};q(dh,v);
var eh=function(a){a.a.postMessage(["poke",""])},X=function(a,b){b=Uc(a.i,b);b=new Uint8Array(b);a.a.postMessage(["handleCommand",b.buffer])},bh=function(a){var b=a.a;fh(a,a.I,a.K,a.J,a.G);a.ka||(a.ka=!0,b.addEventListener("message",sa(function(a){if("event_type"in a.data)switch(a=a.data,a.event_type){case "exit":console.log("Engine requested exit.");break;case "debug":console.log(a.message);break;case "image_export":this.Ga(a.width,a.height,new Uint8ClampedArray(a.bytes));break;case "request_image":this.Ea(a.uri);
break;case "element_added":if(this.m){var b=this.m,c=a.uuid,f=a.encoded_element;a=a.encoded_transform;b.G.add(c);x(b,new je(c,f,a))}break;case "elements_mutated":this.m&&x(this.m,new ke(a.uuids,a.encoded_transforms));break;case "elements_removed":this.m&&x(this.m,new le(a.uuids));break;case "flag_changed":5==a.which&&(this.ma=a.enabled,x(this,new dh(a.enabled)));break;case "undo_redo_state_changed":x(this,new Zg(!!a.can_undo,!!a.can_redo));break;case "snapshot_gotten":b=new T;Vc(this.i,b,a.snapshot);
this.na.shift().call(null,b);break;case "brix_elements_converted":b=new T;Vc(this.i,b,a.snapshot);a=new sf;c=new Q;this.W.shift();f=null.La().get("bounds");H(c,2,f.Kd||0);H(c,1,f.Ld||0);H(c,4,f.Md||0);H(c,3,f.Nd||0);H(a,3,c);H(b,1,a);this.V.shift().call(null,b);break;case "snapshot_has_pending_mutations":this.oa.shift().call(null,a.has_mutations);break;case "extracted_mutation_packet":b=new Lf;Vc(this.i,b,a.extraction_packet);this.ia.shift().call(null,b);break;case "cleared_pending_mutations":b=new T;
Vc(this.i,b,a.snapshot);this.X.shift().call(null,b);break;case "hwoverlay":document.querySelector("#ink-engine-hwoverlay").style.display=a.enable?"none":"block";break;case "single_buffer":this.a.style.transform="scaleY(-1)";break;case "sequence_point_reached":a=a.id,b=this.L[a],delete this.L[a],b()}},a)));x(a,"o")},gh=function(a,b,c,d,e){a.a.postMessage(["addImageData",{imageData:b.buffer,uri:d,width:c.width,height:c.height,assetType:e}])},hh=function(a,b){var c=new qf;H(c,1,Pg(b)[0]);b=new U;H(b,
11,c);X(a,b)},ih=function(a){var b=new U,c=new V;H(b,30,c);X(a,b)},jh=function(a,b,c,d,e){a.C=function(){if(1!=d){var f=new hg;H(f,1,d);var h=new U;H(h,2,f);X(this,h)}else a.a.postMessage(["updateBrush",{brush:e,rgba:b[0],stroke_width:c}])};a.C()},ch=function(a,b,c){var d=new kg;H(d,1,b);H(d,2,!!c);b=new U;H(b,7,d);X(a,b)},fh=function(a,b,c,d,e){a.I=b;a.K=c;a.J=d;a.G=e;b=new Q;H(b,1,a.I);H(b,3,a.G);H(b,2,a.J);H(b,4,a.K);c=new U;H(c,5,b);X(a,c)};
ah.prototype.flush=function(a){var b=new U,c=new vg;H(c,1,this.la);this.L[this.la++]=a;H(b,15,c);X(this,b)};var Y=function(a,b){var c=this;M.call(this);this.i=null;this.a=new ah(a,this,sa(this.X,this),b,sa(this.V,this));md(this,this.a);sc(jd(this),this.a,sa(function(){this.J();kh(this);x(this,"c")},this));qc(jd(this),this.a,"p",this.K);qc(jd(this),this.a,"q",function(a){x(c,new ie(a.enabled))});this.m=[];this.G=new Set;this.I=this.W=0;this.C=null;this.L=!1};q(Y,M);Y.prototype.v=function(){Y.R.v.call(this);this.a.render(this.B());var a=jd(this);r(a);this.i=W.S(this);qc(a,this.i,"m",this.J)};
Y.prototype.X=function(a,b,c){var d=this;if(this.C){try{var e=new ImageData(c,a,b),f=document.createElement("canvas"),h=f.getContext("2d");f.width=a;f.height=b;h.putImageData(e,0,0)}catch(p){this.K(p);return}this.L?(a=function(a){d.C(Db(a))},f.msToBlob?f.msToBlob(a,"image/png"):f.toBlob(a,"image/png")):this.C(Fb(f.toDataURL()))}};Y.prototype.V=function(a){var b=this,c=Yg(a);"none"!=c&&ge(Xg[c],function(c,e){gh(b.a,c,e,a,3)})};
var lh=function(a,b,c,d){d=d||{};var e="sketchology://background_"+a.I;a.I++;var f=new Ee;H(f,1,e);if("none"!=d.bounds){d=d.bounds||{xlow:0,ylow:0,xhigh:c.width,yhigh:c.height};var h=new Q;H(h,1,d.xlow);H(h,3,d.ylow);H(h,2,d.xhigh);H(h,4,d.yhigh);H(f,3,h)}a=a.a;gh(a,b,c,e,0);b=new U;H(b,10,f);X(a,b)};Y.prototype.J=function(){r(this.i);var a=this.i.i,b=this.i.a,c=this.i.j,d=new Ng(parseInt(this.i.f.substring(1),16));d.j=255;jh(this.a,Pg(d),c,a,b)};
var kh=function(a){var b=new Ge;H(b,1,"sketchology://border0");H(b,2,1);ge("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AgPEBYrHoEFUgAAAw1JREFUeNrt3b9uE0EQBvBvZvd8LURUkVwEkEDAm9AgQYOQKHgZWloqUMoUaVJSpAivQBEhJGhSWiAlKXz7JwXey9nE9vrOgHT3fZKVFM5F/mUyN5tIY8F2EtG/yNYucnZ21keg/57d3V1RMvzdEJjABGYITGACM+1iNz5RxGGPzCIbnT+i3RA1AjgFcADgR4zRDwTVABjHGF8AeJwOaDnYNgd29jGGED6JyMvxeDwZYvVOJpN3FxcXH0TkWfMovQpac6p39jgdMi4A7Ozs/HLOvQkhfEkurW9yDVh47+GcOxgybsre3t5P59y+937OqHUFhxAQQkBVVd85E/yOc+5bcuk0pqWLeO/hvQ+krV289x45yLqqPSRk5xym0yllZ5lOp6iqCiGEtW3C5lZwzq/DUOK9h4jUwK3GtGYFz1oEZa97cA2crJaNapozoiVk5rqCm+2h898ihn487uKiWPMPy2arYG7G7TQHM91CYAITmCEwgQnMEJjABGYITGCGwAQmMENgAhOYITCBCUwCAhOYITCBCcwQmMAEZghMYIbABCYwQ2ACE5ghMIEJzBCYwAyBCUxghsAEJjBDYAIzBP63wFkLcUX4lhAp3nu79Qr23t8lbZ37WwNuLFx7fnJycnvossfHx7dijK+WGLWrYBFBjPHh5eXl/tHR0Z0h41ZV9T7G+EREum/AThcREaiqqOpTAJ8PDw8/VlX11TnnhgArIrYsy3vn5+evy7J8NLNADrJd1xpUFcaY9BBVfSAib2foAPq7GTAZGGNSkcFaC2stjDH161+BLGsrOAEXRYGyLOsNgKqK5hbovgIng/T6R6MRiqKogVtVcPqi5k+tKIo5XOfcYICNMbDWYjQaoSzLP4BXtYqVFayqiDHCWlsjJnDnXPYG0j5UcCqy9LDWtq/gZcipHxVFMbfitec3uMX70FwP7nyTW2zyaSt236v3pipO7UJVs9pDVgU3p4n0jZqwQwBeHFlzYLPn4MXPb4Lt+5i2CJ1zgsuu4GUX2vBNk3qJnvX8jOdwv3h7O1wBYIqaD5lCtYoAAAAASUVORK5CYII=",
function(c,d){var e=a.a,f=new og;H(f,1,3873892095);var h=new U;H(h,12,f);X(e,h);gh(e,c,d,"sketchology://border0",1);h=new U;H(h,13,b);X(e,h)})};Y.prototype.K=function(a){if(x(this,new oe(a)))throw a||Error("Unhandled fatal ink error");};Y.prototype.flush=function(a){this.a.flush(a)};var mh=function(){M.call(this);this.a=null};q(mh,M);mh.prototype.v=function(){mh.R.v.call(this);this.a=W.S(this);var a=jd(this);qc(a,this.a,"m",this.i);qc(a,fe(this),"a",this.m)};mh.prototype.m=function(a){a.j?this.B().style.cursor="":this.i()};
mh.prototype.i=function(){var a=this.a.qa(),b=8,c=document.createElement("canvas"),d=c.getContext("2d");a=new Ng(a|4278190080);b=Math.max(b,2);var e=Math.ceil(2*b);c.width=e;c.height=e;d.fillStyle=Og(127<.5*(Math.max(a.h,a.f,a.a)+Math.min(a.h,a.f,a.a))?Rg:Sg);d.beginPath();d.arc(b,b,b,0,2*Math.PI);d.closePath();d.fill();d.fillStyle=Og(a);d.beginPath();d.arc(b,b,b-1,0,2*Math.PI);d.closePath();d.fill();b="url("+c.toDataURL()+")8 8, auto";this.B().style.cursor=b};var nh=function(a,b,c){b=c||b;return nd('<div id="canvas-parent"><style'+(b&&b.ga?' nonce="'+sd(b&&b.ga)+'"':"")+'>\n        #canvas-parent {\n          height: 100%;\n          position: relative;\n          width: 100%;\n        }\n        #layer-container {\n          height: 100%;\n          position: relative;\n          width: 100%;\n        }\n        #ink-engine {\n          height: 100%;\n          left: 0;\n          position: absolute;\n          top: 0;\n          width: 100%;\n          touch-action: none;\n        }\n        .above-ink-canvas {\n          display: none;\n        }\n      </style><div class="above-ink-canvas"></div><div id="layer-container"></div><div class="below-ink-canvas"></div></div>')};
nh.a="ink.soy.embedContent";var Z=function(a,b){M.call(this);this.i=a;this.m=new mh;md(this,this.m);this.a=new Y(a.f,a.P);md(this,this.a);this.C=b};q(Z,M);g=Z.prototype;g.Wa=function(){var a=new v("k");x(this,a);a.f||this.a.a.a.postMessage(["removeAll",""])};g.tb=function(){var a=new v("i");x(this,a);if(!a.f){a=this.a.a;var b=new U,c=new V;H(b,23,c);X(a,b)}a=he(this.i.a,7);x(this,new ne(a))};g.hb=function(){var a=new v("j");x(this,a);if(!a.f){a=this.a.a;var b=new U,c=new V;H(b,24,c);X(a,b)}a=he(this.i.a,8);x(this,new ne(a))};
g.lb=function(a,b){var c=this;ge(a,function(a,e){lh(c.a,a,e);b&&b()})};g.pb=function(a,b){var c=this;ge(a,function(a,e){lh(c.a,a,e,{bounds:"none"});b&&b()})};g.kb=function(a){hh(this.a.a,a)};g.ob=function(a,b,c,d,e,f){var h=this;if("none"==a)this.ra();else{var p=Vg[a];ge(Xg[a],function(a,y){var t=h.a,J=new Ie;H(J,1,p);H(J,2,Pg(b)[0]);H(J,3,c);var Wc=new pe;H(Wc,1,d);H(Wc,2,e);H(J,4,Wc);t=t.a;gh(t,a,y,p,3);a=new U;H(a,29,J);X(t,a);f&&f()})}};g.ra=function(){ih(this.a.a)};
g.$a=function(a,b,c,d){var e=this.a;e.C=c;e.L=!!d;c=new Zf;H(c,1,a);H(c,2,b);a=e.a;b=new U;H(b,6,c);X(a,b)};g.mb=function(a){var b=this.a.a,c=new U;H(c,16,a);X(b,c)};g.qb=function(a,b,c,d){fh(this.a.a,a,b,c,d)};g.Za=function(){throw Error("deselectAll not yet implemented for NaCl.");};g.aa=function(){this.f=hd(nh)};
g.v=function(){Z.R.v.call(this);var a=Kb("layer-container");this.a.render(a);var b=this.m;if(b.A)throw Error("Component already rendered");if(a){var c=Ib(a);b.T&&b.T.a==c||(b.T=Jb(a));b.f=a;b.v()}else throw Error("Invalid element to decorate");qc(jd(this),this.a,"c",sa(this.C,this,this))};g.ub=function(a){var b=Kb("canvas-parent");a?b.classList?b.classList.add("fullscreen"):vb(b)||(b.className+=0<b.className.length?" fullscreen":"fullscreen"):wb(b)};
g.Ta=function(a,b){var c=this.a;a.id||(a.id="local-"+c.W++);var d=a.id;Ia(c.m,b,0,d);c.G.has(d)?c.G.delete(d):b<c.m.length-1?(d=c.a,b=c.m[b+1],r(a),d.a.postMessage(["addElementToEngineBelow",{bundle:a,below_uuid:b}])):(b=c.a,r(a),b.a.postMessage(["addElementToEngine",{bundle:a}]));eh(c.a)};g.ib=function(a,b){for(var c=this.a,d=0;d<b;d++)c.a.a.postMessage(["removeElement",c.m[a]]),Ea(c.m,a);eh(c.a)};
g.jb=function(){var a=this.a;a.a.a.postMessage(["clear",""]);hh(a.a,Tg);ih(a.a);a.G.clear();a.m=[];eh(a.a)};g.rb=function(a){ch(this.a.a,1,!!a)};g.nb=function(a,b){if(a.length!==b.length)throw Error("mismatch in transform array lengths");this.a.a.a.postMessage(["setElementTransforms",{uuids:a,encoded_transforms:b}])};g.fb=function(a){var b=new me(a);x(this,b);b.f||a(void 0)};
g.Ia=function(){var a=this.a.f;r(a,"Can not call getElementStrict before rendering/decorating.");a=a.querySelector("canvas,embed");return new Gb(a.clientWidth,a.clientHeight)};g.Ka=function(){return this.i.a};g.Va=function(a,b){ch(this.a.a,a,b)};g.cb=function(a){if("makeSEngineInMemory"!==this.i.P)throw Error("Can't getSnapshot without sengineType IN_MEMORY.");var b=this.a.a;b.na.push(a);b.a.postMessage(["getSnapshot"])};
g.gb=function(a){if("makeSEngineInMemory"!==this.i.P)throw Error("Can't loadFromSnapshot without sengineType IN_MEMORY.");var b=this.a.a;a=Uc(b.i,a);a=new Uint8Array(a);b.a.postMessage(["loadFromSnapshot",a.buffer])};g.eb=function(a){X(this.a.a,a)};g.bb=function(){throw Error("getRawEngineObject not supported for NaCl.");};
g.Ya=function(a,b){var c=this.a.a,d=null.La().get("pages").get(0);if(!d)throw Error("unable to get page from brix document.");d=d.get("elements").Ed();for(var e=[],f=0;f<d.length;f++){var h=d[f];e.push({id:h.get("id"),proto:h.get("proto"),transform:h.get("transform")})}c.W.push(a);c.V.push(b);c.a.postMessage(["convertBrixElements",e])};g.sb=function(a,b){var c=this.a.a;a=Uc(c.i,a);a=new Uint8Array(a);c.oa.push(b);c.a.postMessage(["snapshotHasPendingMutations",a.buffer])};
g.ab=function(a,b){var c=this.a.a;a=Uc(c.i,a);a=new Uint8Array(a);c.ia.push(b);c.a.postMessage(["extractMutationPacket",a.buffer])};g.Xa=function(a,b){var c=this.a.a;a=Uc(c.i,a);a=new Uint8Array(a);c.X.push(b);c.a.postMessage(["clearPendingMutations",a.buffer])};g.flush=function(a){this.a.flush(a)};g.Ua=function(a){ge(a,function(){throw Error("stickers not implemented on nacl yet");})};ka("ink.embed.Config",function(a){a=a||{};this.j=a.parentEl||null;this.h=a.parentComponent||null;this.f=a.nativeClientManifestUrl||null;this.a=a.logsHost||0;this.P=a.sengineType||"makeSEnginePassthroughDocument"});ka("ink.embed.EmbedComponent",Z);Z.execute=function(a,b){b=new Z(a,b);kd(b,a.h);b.render(a.j)};Z.prototype.clear=Z.prototype.Wa;Z.prototype.undo=Z.prototype.tb;Z.prototype.redo=Z.prototype.hb;Z.prototype.setBackgroundImage=Z.prototype.lb;Z.prototype.setImageToUseForPageBackground=Z.prototype.pb;
Z.prototype.setBackgroundColor=Z.prototype.kb;Z.prototype.setGrid=Z.prototype.ob;Z.prototype.clearGrid=Z.prototype.ra;Z.prototype.exportPng=Z.prototype.$a;Z.prototype.setCallbackFlags=Z.prototype.mb;Z.prototype.setPageBounds=Z.prototype.qb;Z.prototype.deselectAll=Z.prototype.Za;Z.prototype.createDom=Z.prototype.aa;Z.prototype.enterDocument=Z.prototype.v;Z.prototype.setFullscreen=Z.prototype.ub;Z.prototype.addElement=Z.prototype.Ta;Z.prototype.removeElements=Z.prototype.ib;
Z.prototype.resetCanvas=Z.prototype.jb;Z.prototype.setReadOnly=Z.prototype.rb;Z.prototype.setElementTransforms=Z.prototype.nb;Z.prototype.isEmpty=Z.prototype.fb;Z.prototype.getCanvasDimensions=Z.prototype.Ia;Z.prototype.getLogsHost=Z.prototype.Ka;Z.prototype.assignFlag=Z.prototype.Va;Z.prototype.getSnapshot=Z.prototype.cb;Z.prototype.loadFromSnapshot=Z.prototype.gb;Z.prototype.handleCommand=Z.prototype.eb;Z.prototype.getRawEngineObject=Z.prototype.bb;Z.prototype.convertBrixDocumentToSnapshot=Z.prototype.Ya;
Z.prototype.snapshotHasPendingMutations=Z.prototype.sb;Z.prototype.extractMutationPacket=Z.prototype.ab;Z.prototype.clearPendingMutations=Z.prototype.Xa;Z.prototype.flush=Z.prototype.flush;Z.prototype.addSticker=Z.prototype.Ua;ka("ink.BrushModel",W);W.getInstance=W.S;W.prototype.setColor=W.prototype.Ra;W.prototype.setStrokeWidth=W.prototype.Sa;W.prototype.setIsErasing=W.prototype.vb;W.prototype.setShape=W.prototype.wb;W.prototype.getShape=W.prototype.Ma;W.prototype.getColor=W.prototype.Oa;
W.prototype.getActiveColor=W.prototype.pa;W.prototype.getActiveColorNumericRbg=W.prototype.qa;W.prototype.getStrokeWidth=W.prototype.Pa;W.prototype.getIsErasing=W.prototype.Ja;W.prototype.getBrushType=W.prototype.Na;W.prototype.getToolType=W.prototype.Qa;
