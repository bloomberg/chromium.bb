(set-threads 3)
(set-files 3)
(lock 0 0)
(match (locked 0 0))
(lock 1 1)
(match (locked 1 1))
(lock 2 2)
(match (locked 2 2))
(lock 2 1)
(match (epsilon))
(unlock 1 1)
(match (all (unlocked 1 1)
            (locked 2 1)))
(lock 1 0)
(match (epsilon))
(unlock 0 0)
(match (all (unlocked 0 0)
            (locked 1 0)))
(lock 0 2)
(match (epsilon))
(unlock 2 2)
(match (all (unlocked 2 2)
            (locked 0 2)))
(unlock 2 1)
(match (unlocked 2 1))
(unlock 1 0)
(match (unlocked 1 0))
(unlock 0 2)
(match (unlocked 0 2))

