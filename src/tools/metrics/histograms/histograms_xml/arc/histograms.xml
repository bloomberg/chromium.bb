<!--
Copyright 2020 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<!--
This file is used to generate a comprehensive list of Arc histograms
along with a detailed description for each histogram.

For best practices on writing histogram descriptions, see
https://chromium.googlesource.com/chromium/src.git/+/HEAD/tools/metrics/histograms/README.md

Please send CLs to chromium-metrics-reviews@google.com rather than to specific
individuals. These CLs will be automatically reassigned to a reviewer within
about 5 minutes. This approach helps the metrics team to load-balance incoming
reviews. Googlers can read more about this at go/gwsq-gerrit.
-->

<histogram-configuration>

<histograms>

<histogram name="Arc.AbiMigration.BootTime" units="ms"
    expires_after="2021-10-10">
  <owner>vraheja@chromium.org</owner>
  <owner>arc-core@google.com</owner>
  <summary>Time taken for ARC to boot during an Abi Migration event.</summary>
</histogram>

<histogram name="Arc.AbiMigration.DowngradeDelay" units="ms"
    expires_after="2021-10-10">
  <owner>vraheja@chromium.org</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    Time taken by ArcAbiMigrationService specifically to downgrade system
    packages.
  </summary>
</histogram>

<histogram name="Arc.AbiMigration.Event" enum="ArcCorePriAbiMigEvent"
    expires_after="2021-10-10">
  <owner>vraheja@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    Records event type for ArcAbiMigrationService during Abi Migration.
  </summary>
</histogram>

<histogram name="Arc.AbiMigration.FailedAttempts" units="units"
    expires_after="2021-10-10">
  <owner>vraheja@chromium.org</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    Records the number of failed attempts in trying to perform Primary Abi
    Migration.
  </summary>
</histogram>

<histogram name="Arc.AccessibilityWithTalkBack" enum="BooleanEnabled"
    expires_after="2021-07-01">
  <owner>hirokisato@chromium.org</owner>
  <owner>sarakato@chromium.org</owner>
  <summary>
    Whether the ARC window is opened with TalkBack enabled or not. Counted when
    a user opens a window or toggles the feature. Checked only when the spoken
    feedback is enabled in Chrome OS.
  </summary>
</histogram>

<histogram name="Arc.AdaptiveIconLoad.FromArcAppIcon"
    enum="BooleanIsAdaptiveIcon" expires_after="2020-12-31">
  <owner>dominickn@chromium.org</owner>
  <owner>lgcheng@google.com</owner>
  <owner>nancylingwang@chromium.org</owner>
  <summary>
    The adaptive Arc app icons are loaded from ArcAppIcon. Recorded whether the
    icon is the adaptive icon when the icon is loaded.
  </summary>
</histogram>

<histogram name="Arc.AdaptiveIconLoad.FromArcDefaultAppIcon"
    enum="BooleanIsAdaptiveIcon" expires_after="2020-12-31">
  <owner>dominickn@chromium.org</owner>
  <owner>lgcheng@google.com</owner>
  <owner>nancylingwang@chromium.org</owner>
  <summary>
    The adaptive Arc app icons are loaded from ArcAppIcon for default Arc apps.
    Recorded whether the icon is the adaptive icon when the icon is loaded.
  </summary>
</histogram>

<histogram name="Arc.AdaptiveIconLoad.FromNonArcAppIcon"
    enum="BooleanIsAdaptiveIcon" expires_after="2020-12-31">
  <owner>dominickn@chromium.org</owner>
  <owner>lgcheng@google.com</owner>
  <owner>nancylingwang@chromium.org</owner>
  <summary>
    The adaptive Arc app icons are loaded from Non ArcAppIcon. Recorded whether
    the icon is the adaptive icon when the icon is loaded.
  </summary>
</histogram>

<histogram name="Arc.AdbSideloadingEnablingScreen"
    enum="AdbSideloadingPromptEvent" expires_after="M96">
  <owner>victorhsieh@chromium.org</owner>
  <owner>tbuckley@chromium.org</owner>
  <summary>
    Record user's choice or error during ADB sideloading opt-in UI after reboot.
  </summary>
</histogram>

<histogram name="Arc.AndroidBootTime" units="ms" expires_after="2021-08-15">
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>The time elapsed for booting up the ARC instance.</summary>
</histogram>

<histogram name="Arc.AppCount" units="units" expires_after="2021-08-15">
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    The number of ARC apps open at any given time. Collected every 5 minutes.
    This indicates both how many users are engaging with apps and, when they do
    engage, how many apps they are engaging with at a time.
  </summary>
</histogram>

<histogram name="Arc.AppInstalledReason" enum="InstallationCounterReasonEnum"
    expires_after="2021-07-04">
  <owner>robsc@chromium.org</owner>
  <owner>napper@chromium.org</owner>
  <summary>
    Record a reason when an arc application completes installation successfully,
    including policy based applications, default applications and user prompted
    installations.
  </summary>
</histogram>

<histogram name="Arc.AppListRecommendedImp.AllImpression" units="count"
    expires_after="2021-08-09">
  <owner>robsc@chromium.org</owner>
  <owner>napper@chromium.org</owner>
  <summary>
    Record a count of an impression of FAR result. This is a count _any_ time
    it's shown, even for a millisecond.
  </summary>
</histogram>

<histogram name="Arc.AppListRecommendedImp.CountedImpression" units="count"
    expires_after="2020-10-04">
  <owner>robsc@chromium.org</owner>
  <owner>napper@chromium.org</owner>
  <summary>
    Record a count of an impression of FAR result. This is a count of heuristic
    real impressions: a new showing after a while, a longer showing, etc.
  </summary>
</histogram>

<histogram name="Arc.AppShortcuts.BuildMenuTime" units="ms"
    expires_after="2021-08-09">
  <owner>mmourgos@chromium.org</owner>
  <owner>newcomer@chromium.org</owner>
  <summary>
    Record the time to build ARC app shortcut items on menu model. We get the
    needed metadata from Android and decode icons in the utility process. It is
    an asynchronous procedure so we need to know the longest waiting time.
  </summary>
</histogram>

<histogram name="Arc.AppsInstalledAtStartup" units="App Count"
    expires_after="M92">
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    Total number of ARC apps installed on a device measured at startup. Note:
    This includes launchable apps that are installed by default, such as Play
    Store and Settings, as well as any vendor specific apps.
  </summary>
</histogram>

<histogram name="Arc.AppUninstallReason" enum="UninstallCounterReasonEnum"
    expires_after="2021-07-18">
  <owner>robsc@chromium.org</owner>
  <owner>napper@chromium.org</owner>
  <summary>
    Record a reason why an application was uninstalled when uninstall is
    completed.
  </summary>
</histogram>

<histogram base="true" name="Arc.Auth.AccountCheck.Status"
    enum="ArcAuthAccountCheckStatus" expires_after="2021-08-19">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>The status of account check before GMS Sign-in.</summary>
</histogram>

<histogram base="true" name="Arc.Auth.AccountCheck.TimeDelta" units="ms"
    expires_after="2021-08-19">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    Elapsed time waiting for the account status check to be completed. This is
    not recorded in case of account status check failure.
  </summary>
</histogram>

<histogram base="true" name="Arc.Auth.Checkin.Attempts" units="attempts"
    expires_after="2021-09-15">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    Number of attempts done while waiting for the check-in task to be completed.
    0 means that device was already checked-in. This is recorded in case
    check-in task is completed successfully.
  </summary>
</histogram>

<histogram base="true" name="Arc.Auth.Checkin.TimeDelta" units="ms"
    expires_after="2021-09-15">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    Elapsed time waiting for the check-in task to be completed. This is recorded
    in case check-in task is completed successfully.
  </summary>
</histogram>

<histogram name="Arc.Auth.MainAccountResolution.Status"
    enum="ArcAuthMainAccountResolutionStatus" expires_after="2021-08-11">
  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>Contains the status of main account resolution.</summary>
</histogram>

<histogram base="true" name="Arc.Auth.NetworkWait.TimeDelta" units="ms"
    expires_after="2021-09-15">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    Elapsed time waiting for network connection before starting other
    authorization operations.
  </summary>
</histogram>

<histogram base="true" name="Arc.Auth.SignIn.TimeDelta" units="ms"
    expires_after="2021-09-15">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>Elapsed time waiting for GMS sign-in to complete.</summary>
</histogram>

<histogram name="Arc.boot_progress" units="ms" expires_after="M81">
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    The relative time of a boot progress event since the ARC starts.
  </summary>
</histogram>

<histogram name="Arc.BootContinueCodeInstallationResult"
    enum="ArcBootContinueCodeInstallationResult" expires_after="M81">
  <owner>elijahtaylor@google.com</owner>
  <owner>xzhou@google.com</owner>
  <summary>Code installation result for ARC boot continue.</summary>
</histogram>

<histogram name="Arc.ClipboardDragDrop" enum="ArcClipboardDragDropEvent"
    expires_after="M95">
  <owner>tetsui@google.com</owner>
  <owner>arc-framework@google.com</owner>
  <summary>The number of clipboard and drag-and-drop events.</summary>
</histogram>

<histogram name="Arc.CodeIntegrityCheckingTotalTime" units="ms"
    expires_after="M81">
  <owner>elijahtaylor@google.com</owner>
  <owner>xzhou@google.com</owner>
  <summary>
    Total time needed to check the integrity of host generated code. If
    signature checking fails, it also includes the time to regenerate and sign
    the code.
  </summary>
</histogram>

<histogram name="Arc.CodeRelocationResult" enum="ArcCodeRelocationResult"
    expires_after="M81">
  <owner>elijahtaylor@google.com</owner>
  <owner>xzhou@google.com</owner>
  <summary>Host code relocation result.</summary>
</histogram>

<histogram name="Arc.CodeRelocationTime" units="ms" expires_after="M81">
  <owner>elijahtaylor@google.com</owner>
  <owner>xzhou@google.com</owner>
  <summary>Time needed to relocate boot*.art files.</summary>
</histogram>

<histogram name="Arc.CodeSigningTime" units="ms" expires_after="M85">
  <owner>elijahtaylor@google.com</owner>
  <owner>xzhou@google.com</owner>
  <summary>Time needed to sign boot*.art files.</summary>
</histogram>

<histogram name="Arc.CodeVerificationResult" enum="ArcCodeVerificationResult"
    expires_after="M85">
  <owner>elijahtaylor@google.com</owner>
  <owner>xzhou@google.com</owner>
  <summary>
    Code verification result for host generated code for boot for login screen.
  </summary>
</histogram>

<histogram name="Arc.CodeVerificationTime" units="ms" expires_after="M85">
  <owner>elijahtaylor@google.com</owner>
  <owner>xzhou@google.com</owner>
  <summary>Time needed to verify host generated code.</summary>
</histogram>

<histogram name="Arc.CompanionLibraryApisCounter"
    enum="CompanionLibraryApisList" expires_after="M93">
  <owner>sstan@google.com</owner>
  <owner>bartfab@chromium.org</owner>
  <owner>giovax@google.com</owner>
  <summary>
    Records the number of times ChromeOS Companion Library API called. Counter
    adding when its Stub library receive the call from applications.
  </summary>
</histogram>

<histogram name="Arc.ComplianceReportSinceUpdateNotificationTime" units="ms"
    expires_after="M85">
  <owner>alexchau@google.com</owner>
  <owner>emaxx@google.com</owner>
  <summary>
    Elapsed time from the policy update notification sent to ARC to the
    corresponding successfully obtained compliance report from CloudDPS.
  </summary>
</histogram>

<histogram name="Arc.ContainerLifetimeEvent" enum="ArcContainerLifetimeEvent"
    expires_after="2021-07-27">
  <owner>elijahtaylor@google.com</owner>
  <owner>yusukes@google.com</owner>
  <summary>
    The number of ARC container lifetime events. One START event and up to one
    non-START event are recorded per ARC session, which ends when the user opts
    out from ARC or signs out.
  </summary>
</histogram>

<histogram name="Arc.ContainerRestartAfterCrashCount" units="units"
    expires_after="2021-08-15">
  <owner>elijahtaylor@google.com</owner>
  <owner>yusukes@google.com</owner>
  <summary>
    The number of times ARC container crashes and automatically restarts in one
    ARC session, which ends when the user opts out from ARC or signs out.
  </summary>
</histogram>

<histogram base="true" name="Arc.CpuRestrictionDisabled" units="ms"
    expires_after="2021-07-18">
  <owner>wvk@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    Records the time that throttling was disabled due to a particular throttle
    observer. The duration begins when a new throttle observer becomes active,
    and measures until it becomes inactive or another throttle observer becomes
    effective.
  </summary>
</histogram>

<histogram name="Arc.CumulativeUseTime" units="seconds"
    expires_after="2020-02-02">
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    ARC use time. The use time is incremented in regular intervals while android
    container is active. Reported at most once a day, at which point accumulated
    time is reset (which means that sum of reported times for a OS version would
    give an estimate of ARC usage time per OS version).
  </summary>
</histogram>

<histogram name="Arc.CupsPrinting.PageCount" units="units"
    expires_after="2020-10-04">
  <owner>skau@chromium.org</owner>
  <owner>vkuzkokov@google.com</owner>
  <summary>
    The number of pages sent to a native printer by ARC. Reported for every
    print job originating in ARC container and sent to a CUPS printer.
  </summary>
</histogram>

<histogram name="Arc.CustomTabs.SessionEndReason"
    enum="ArcCustomTabsSessionEndReason" expires_after="2020-08-23">
  <owner>hashimoto@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    Reason why a custom tab session ended. Recorded when a session ends.
  </summary>
</histogram>

<histogram name="Arc.CustomTabs.SessionLifetime2.All" units="ms"
    expires_after="2020-10-04">
  <owner>hashimoto@google.com</owner>
  <summary>Lifetime of each session. Recorded when a session ends.</summary>
</histogram>

<histogram name="Arc.CustomTabs.SessionLifetime2.Closed" units="ms"
    expires_after="2020-05-31">
  <owner>hashimoto@google.com</owner>
  <summary>
    Lifetime of each session. Recorded when a session is closed.
  </summary>
</histogram>

<histogram name="Arc.CustomTabs.SessionLifetime2.ForwardedToNormalTab"
    units="ms" expires_after="2020-05-31">
  <owner>hashimoto@google.com</owner>
  <summary>
    Lifetime of each session. Recorded when a session ends because the tab was
    forwarded to a normal tab.
  </summary>
</histogram>

<histogram name="Arc.EngagementTime.ArcTotal" units="ms"
    expires_after="2021-08-15">
  <owner>maajid@google.com</owner>
  <owner>shaochuan@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    Total of Arc.EngagementTime.Background and Arc.EngagementTime.Foreground.
    Note that this differs from Arc.EngagementTime.Total in that this is the
    ARC++ engagement time, while Arc.EngagementTime.Total is the CrOS total
    engagement time on devices with ARC++ enabled. See Arc.EngagementTime.Total
    for definition of engagement and further details.
  </summary>
</histogram>

<histogram name="Arc.EngagementTime.Background" units="ms"
    expires_after="2021-08-09">
  <owner>maajid@google.com</owner>
  <owner>shaochuan@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    Times when user is engaged and ARC++ apps are running in the background, but
    the user isn't focusing on an ARC++ app window. See Arc.EngagementTime.Total
    for definition of engagement and details.
  </summary>
</histogram>

<histogram name="Arc.EngagementTime.Foreground" units="ms"
    expires_after="2021-06-27">
  <owner>maajid@google.com</owner>
  <owner>shaochuan@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    Times when user is engaged and focuses on an ARC++ app window. See
    Arc.EngagementTime.Total for definition of engagement and details.
  </summary>
</histogram>

<histogram name="Arc.EngagementTime.Total" units="ms"
    expires_after="2021-08-15">
  <owner>maajid@google.com</owner>
  <owner>shaochuan@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    Total CrOS user session time (from login to logout) excluding times when
    user &quot;disengages&quot;: screen is locked or dims down due to user idle.
    Engagement time metrics, along with foreground and background time, are only
    collected on users with ARC++ enabled. All four metrics are accumulated and
    recorded to UMA once a day. For Total ARC++ engagement time, please see
    Arc.EngagementTime.ArcTotal.
  </summary>
</histogram>

<histogram name="Arc.ExternalStorage.MountedMediaVisibility"
    enum="BooleanEnabled" expires_after="2021-09-01">
  <owner>fukino@chromium.org</owner>
  <owner>yusukes@chromium.org</owner>
  <summary>
    When a removable media is mounted, whether Android apps have full access to
    the media. Users can allow full access in Settings. Changing the preference
    in Settings is tracked by Arc.ExternalStorage.SetVisible.
  </summary>
</histogram>

<histogram name="Arc.ExternalStorage.SetVisible" enum="BooleanEnabled"
    expires_after="2021-09-01">
  <owner>fukino@chromium.org</owner>
  <owner>yusukes@chromium.org</owner>
  <summary>
    When a user clicks a toggle switch in &quot;External storage
    preferences&quot; screen, where the new value is ENABLED or not.
  </summary>
</histogram>

<histogram name="Arc.FirstAppLaunchDelay.TimeDelta" units="ms"
    expires_after="2021-07-18">
  <owner>yusukes@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    How long the user sees the spinning icon waiting for ARC container boot.
    Zero when the container has already been up and running when the user
    launches the ARC app.
  </summary>
</histogram>

<histogram name="Arc.FirstAppLaunchRequest.TimeDelta" units="ms"
    expires_after="2021-03-11">
  <owner>yusukes@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    Elapsed time from the when UI is shown after login to when the user
    activates first ARC app.
  </summary>
</histogram>

<histogram name="Arc.FirstComplianceReportTime.SinceSignIn" units="ms"
    expires_after="M81">
  <owner>alexchau@google.com</owner>
  <owner>emaxx@google.com</owner>
  <summary>
    Elapsed time from the signing in process start to a successfully obtained
    compliance report from CloudDPS.
  </summary>
</histogram>

<histogram name="Arc.FirstComplianceReportTime.SinceStartup" units="ms"
    expires_after="M81">
  <owner>alexchau@google.com</owner>
  <owner>emaxx@google.com</owner>
  <summary>
    Elapsed time from ARC startup to a successfully obtained compliance report
    from CloudDPS. This value is not reported during the first startup when
    signing in happens.
  </summary>
</histogram>

<histogram name="Arc.IconLoadFromFileTime.compressedFirst5" units="ms"
    expires_after="2021-03-11">
  <owner>khmel@google.com</owner>
  <owner>lgcheng@google.com</owner>
  <summary>
    Elapsed time of first 5 compressed app icons is loaded from file system.
    Recorded when the app icon loading completes.
  </summary>
</histogram>

<histogram name="Arc.IconLoadFromFileTime.compressedOthers" units="ms"
    expires_after="2021-03-11">
  <owner>khmel@google.com</owner>
  <owner>lgcheng@google.com</owner>
  <summary>
    Elapsed time of other compressed app icons is loaded from file system.
    Recorded when the app icon loading completes.
  </summary>
</histogram>

<histogram name="Arc.IconLoadFromFileTime.uncompressedFirst5" units="ms"
    expires_after="2021-03-11">
  <owner>khmel@google.com</owner>
  <owner>lgcheng@google.com</owner>
  <summary>
    Elapsed time of first 5 uncompressed app icons is loaded from file system.
    Recorded when the app icon loading completes.
  </summary>
</histogram>

<histogram name="Arc.IconLoadFromFileTime.uncompressedOthers" units="ms"
    expires_after="2021-03-11">
  <owner>khmel@google.com</owner>
  <owner>lgcheng@google.com</owner>
  <summary>
    Elapsed time of other uncompressed app icons is loaded from file system.
    Recorded when the app icon loading completes.
  </summary>
</histogram>

<histogram name="Arc.ImeCount" units="units" expires_after="2021-04-11">
  <owner>yhanada@chromium.org</owner>
  <owner>tetsui@chromium.org</owner>
  <summary>
    The number of IME apps installed. Collected at startup and when an IME app
    is installed or uninstalled.
  </summary>
</histogram>

<histogram name="Arc.IntentHelper.OpenType" enum="ArcIntentHelperOpenType"
    expires_after="2020-08-16">
  <owner>hashimoto@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    Types of things opened via ARC IntentHelperHost interface. Recorded when one
    of the &quot;open&quot; methods of the interface is called.
  </summary>
</histogram>

<histogram name="Arc.LowMemoryKiller.Count" units="units" expires_after="M82">
  <obsolete>
    Removed in Oct 2020. Now reported as Memory.LowMemoryKiller.Count.
  </obsolete>
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>Cumulative count of low memory kills in one user session.</summary>
</histogram>

<histogram name="Arc.LowMemoryKiller.FirstKillLatency" units="ms"
    expires_after="M82">
  <obsolete>
    Removed in Oct 2020. Now reported as
    Memory.LowMemoryKiller.FirstKillLatency.
  </obsolete>
  <owner>cywang@google.com</owner>
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>
    When Chrome OS is in low memory state, TabManager kills some victims to free
    memory. This value is the elapsed time between TabManager receiving the low
    memory notification and the first kill.
  </summary>
</histogram>

<histogram name="Arc.LowMemoryKiller.FreedSize" units="KB"
    expires_after="2021-02-21">
  <obsolete>
    Removed in Oct 2020. Now reported as Memory.LowMemoryKiller.FreedSize.
  </obsolete>
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>The memory size freed by each low memory kill event.</summary>
</histogram>

<histogram name="Arc.LowMemoryKiller.TimeDelta" units="ms"
    expires_after="2021-02-21">
  <obsolete>
    Removed in Oct 2020. Now reported as Memory.LowMemoryKiller.TimeDelta.
  </obsolete>
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>The elapsed time to last low memory kill event.</summary>
</histogram>

<histogram name="Arc.NativeBridge" enum="ArcNativeBridgeType"
    expires_after="never">
<!-- expires-never: used internally for filtering -->

  <owner>elijahtaylor@google.com</owner>
  <owner>levarum@google.com</owner>
  <owner>chrome-metrics-team@google.com</owner>
  <summary>
    Native bridge used for ARC. Can be unknown and none. This is collected along
    with Arc.State during every metrics recording interval, so it is in every
    record uploaded to the server (despite crbug.com/929583 which was fixed in
    M73). This is required because this value is used to categorize all other
    data in the dashboard as collected with specific native bridge in use. Since
    M74 this is also included in initial stability logs.
  </summary>
</histogram>

<histogram name="Arc.OOMKills.Count" units="kills" expires_after="2021-03-07">
  <obsolete>
    Removed in Oct 2020. Now reported as Memory.OOMKills.Count.
  </obsolete>
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>Cumulative count of OOM kills in one user session.</summary>
</histogram>

<histogram name="Arc.OptInAction" enum="ArcOptInAction"
    expires_after="2021-08-15">
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>Arc OptIn action taken by user.</summary>
</histogram>

<histogram name="Arc.OptInCancel" enum="ArcOptInCancel"
    expires_after="2021-08-09">
  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <summary>Arc OptIn cancelation reason.</summary>
</histogram>

<histogram name="Arc.OptInResult" enum="ArcOptInResult"
    expires_after="2021-08-22">
  <owner>elijahtaylor@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>Arc OptIn flow result.</summary>
</histogram>

<histogram name="Arc.OptInSilentAuthCode" enum="ArcOptInSilentAuthCode"
    expires_after="2021-06-27">
  <owner>elijahtaylor@google.com</owner>
  <summary>
    Arc Silent Auth Code status. This status is set during the ARC OptIn flow.
  </summary>
</histogram>

<histogram name="Arc.OptInSilentAuthCode.Reauthorization"
    enum="ArcOptInSilentAuthCode" expires_after="2021-03-15">
  <owner>khmel@google.com</owner>
  <summary>
    Arc Silent Auth Code status. This status is set during the ARC
    Device/Primary Account reauthorization flow.
  </summary>
</histogram>

<histogram name="Arc.OptInSilentAuthCode.SecondaryAccount"
    enum="ArcOptInSilentAuthCode" expires_after="2021-08-09">
  <owner>khmel@google.com</owner>
  <summary>
    Arc Silent Auth Code status. This status is set during the minting of an
    auth code for a Secondary Account. It can be set for Secondary Account
    signin or reauthorization.
  </summary>
</histogram>

<histogram name="Arc.PlayAutoInstallRequest.State"
    enum="ArcPlayAutoInstallRequestState" expires_after="2022-02-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>jhorwich@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>State of PlayAutoInstall flow after the request.</summary>
</histogram>

<histogram name="Arc.PlayAutoInstallRequest.TimeDelta" units="ms"
    expires_after="2022-02-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>jhorwich@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    Elapsed time from the when the PlayAutoInstall request was issued and
    completed.
  </summary>
</histogram>

<histogram name="Arc.PlayStoreLaunch.TimeDelta" units="ms"
    expires_after="2021-11-01">
  <owner>khmel@google.com</owner>
  <owner>yusukes@google.com</owner>
  <summary>
    Elapsed time from the when the user launches the Play Store app and to when
    the Play Store window is shown to the user.
  </summary>
</histogram>

<histogram name="Arc.PlayStoreSearch.DefaultResultClickLatency" units="ms"
    expires_after="2021-12-31">
  <owner>jennyz@chromium.org</owner>
  <owner>newcomer@chromium.org</owner>
  <summary>
    Time between a default play store result being activated by user pressing
    ENTER key and being displayed.
  </summary>
</histogram>

<histogram name="Arc.PlayStoreSearch.QueryTime" units="ms"
    expires_after="2021-06-27">
  <owner>hejq@chromium.org</owner>
  <summary>
    Time between sending an Play Store app discovery request and the storing
    returned results.
  </summary>
</histogram>

<histogram name="Arc.PlayStoreSearch.ResultClickLatency" units="ms"
    expires_after="2021-12-31">
  <owner>jennyz@chromium.org</owner>
  <owner>newcomer@chromium.org</owner>
  <summary>
    Time between a play store result being clicked and being displayed.
  </summary>
</histogram>

<histogram name="Arc.PlayStoreSearch.ReturnedAppsTotal" units="apps"
    expires_after="2021-08-09">
  <owner>hejq@chromium.org</owner>
  <summary>
    The total number of returned apps of a Play Store app discovery query.
  </summary>
</histogram>

<histogram name="Arc.PlayStoreSearch.ReturnedInstantApps" units="apps"
    expires_after="2020-06-28">
  <owner>hejq@chromium.org</owner>
  <summary>
    The number of returned instant apps of a Play Store app discovery query.
  </summary>
</histogram>

<histogram name="Arc.PlayStoreSearch.ReturnedUninstalledApps" units="apps"
    expires_after="2020-06-28">
  <owner>hejq@chromium.org</owner>
  <summary>
    The number of returned uninstalled apps of a Play Store app discovery query.
  </summary>
</histogram>

<histogram name="Arc.PlayStoreShown.TimeDelta" units="ms"
    expires_after="2021-03-11">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>yusukes@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    Elapsed time from the when the user agrees ToS to when the Play Store window
    is shown to the user.
  </summary>
</histogram>

<histogram name="Arc.PrintPreview.PreviewEvent" enum="PrintPreviewHelperEvents"
    expires_after="2021-06-01">
  <owner>bmgordon@chromium.org</owner>
  <owner>jschettler@chromium.org</owner>
  <summary>
    Print preview events for ARC. Recorded when specific print preview events
    occur (print preview requested, preview document created, etc.).
  </summary>
</histogram>

<histogram name="Arc.PrintPreview.RenderAndGeneratePDFTime" units="ms"
    expires_after="2021-06-01">
  <owner>bmgordon@chromium.org</owner>
  <owner>jschettler@chromium.org</owner>
  <summary>
    Time taken for ARC to render and generate a PDF for print preview. Includes
    time to reflow the page back to normal, but not the time to reflow the page
    to prepare for printing.
  </summary>
</histogram>

<histogram name="Arc.PrintPreview.RenderAndGeneratePDFTimeAvgPerPage"
    units="ms" expires_after="2021-06-01">
  <owner>bmgordon@chromium.org</owner>
  <owner>jschettler@chromium.org</owner>
  <summary>
    Time taken for ARC to render and generate a PDF for print preview divided by
    the number of pages. Includes time to reflow the page back to normal, but
    not the time to reflow the page to prepare for printing.
  </summary>
</histogram>

<histogram name="Arc.PrintPreview.RendererError" enum="PrintPreviewFailureType"
    expires_after="2021-08-01">
  <owner>bmgordon@chromium.org</owner>
  <owner>jschettler@chromium.org</owner>
  <summary>
    Count how frequently a set of pre-defined print preview errors occur for
    ARC.
  </summary>
</histogram>

<histogram name="Arc.PrintPreview.RenderToPDFTime" units="ms"
    expires_after="2021-06-01">
  <owner>bmgordon@chromium.org</owner>
  <owner>jschettler@chromium.org</owner>
  <summary>Time taken for ARC to render a PDF for print preview.</summary>
</histogram>

<histogram base="true" name="Arc.Provisioning.CheckInError"
    enum="ArcProvisioningCheckInError" expires_after="2021-12-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    The error that occurred during GMS check-in operation. Recorded when ARC++
    provisioning flow fails.
  </summary>
</histogram>

<histogram base="true" name="Arc.Provisioning.CloudFlowError"
    enum="ArcProvisioningCloudFlowError" expires_after="2021-12-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    The result (success or the reason of failure) of Cloud DPC provisioning.
    Recorded when ARC++ provisioning flow completes.
  </summary>
</histogram>

<histogram base="true" name="Arc.Provisioning.Result"
    enum="ArcProvisioningResult" expires_after="2021-07-01">
  <obsolete>
    Removed in Dec 2020. Now reported as Arc.Provisioning.Status.
  </obsolete>
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>alexchau@google.com</owner>
  <owner>phweiss@google.com</owner>
  <summary>
    The result (success or the type of failure) of ARC provisioning. The base
    value has been deprecated on 2016-09-15 in favour of per user type values.
  </summary>
</histogram>

<histogram base="true" name="Arc.Provisioning.SignInError"
    enum="ArcProvisioningSignInError" expires_after="2021-12-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    The error that occured during GMS sign-in operation. Recorded when ARC++
    provisioning flow fails.
  </summary>
</histogram>

<histogram base="true" name="Arc.Provisioning.Status"
    enum="ArcProvisioningStatus" expires_after="2021-12-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>The status (success or error) of ARC++ provisioning.</summary>
</histogram>

<histogram name="Arc.Provisioning.TimeDelta.Failure" units="ms"
    expires_after="2021-07-04">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>alexchau@google.com</owner>
  <owner>phweiss@google.com</owner>
  <summary>
    Elapsed time from the signing in process start to call to onSignInFailed.
  </summary>
</histogram>

<histogram name="Arc.Provisioning.TimeDelta.Success" units="ms"
    expires_after="2021-07-04">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>alexchau@google.com</owner>
  <owner>phweiss@google.com</owner>
  <summary>
    Elapsed time from the signing in process start to successful call to
    onSignInComplete.
  </summary>
</histogram>

<histogram name="Arc.Reauthorization.Result" enum="ArcProvisioningStatus"
    expires_after="2022-01-12">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@gmail.com</owner>
  <summary>
    The result (success or the type of failure) of ARC reauthorization.
  </summary>
</histogram>

<histogram name="Arc.Runtime.Performance.CommitDeviation" units="microseconds"
    expires_after="2021-08-09">
<!-- Name completed by histogram_suffixes name="ArcPerformanceAppCategories" -->

  <owner>khmel@google.com</owner>
  <owner>camurcu@google.com</owner>
  <summary>Standard deviation for commit time delta from ideal time.</summary>
</histogram>

<histogram name="Arc.Runtime.Performance.FPS" units="fps"
    expires_after="2021-07-18">
<!-- Name completed by histogram_suffixes name="ArcPerformanceAppCategories" -->

  <owner>khmel@google.com</owner>
  <owner>camurcu@google.com</owner>
  <summary>Render frames per second.</summary>
</histogram>

<histogram name="Arc.Runtime.Performance.Generic.FirstFrameRendered" units="ms"
    expires_after="2021-11-28">
  <owner>camurcu@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    Time (in ms) between an app launch request and the detection of the first
    rendered frame. Recorded when the frame is detected by the first commit to
    the Exo surface.
  </summary>
</histogram>

<histogram name="Arc.Runtime.Performance.Generic.FrameTime" units="ms"
    expires_after="2021-09-28">
  <owner>camurcu@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    95 percent of the frames in the first 5 minutes after app launch took
    shorter time (in ms) than this value.
  </summary>
</histogram>

<histogram name="Arc.Runtime.Performance.Generic.Jankiness" units="%"
    expires_after="2021-09-28">
  <owner>camurcu@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    Percentage ratio of janky frames to total frames recorded in a 5 minute
    interval.
  </summary>
</histogram>

<histogram name="Arc.Runtime.Performance.RenderQuality" units="%"
    expires_after="2021-07-18">
<!-- Name completed by histogram_suffixes name="ArcPerformanceAppCategories" -->

  <owner>khmel@google.com</owner>
  <owner>camurcu@google.com</owner>
  <summary>Render quality with maximum 100%.</summary>
</histogram>

<histogram name="Arc.SdkVersionUpgradeType" enum="ArcSdkVersionUpgradeType"
    expires_after="2021-08-09">
  <owner>niwa@google.com</owner>
  <owner>yusukes@google.com</owner>
  <summary>
    The types of ARC SDK version upgrade. (e.g. Upgrade from N to P) Reported
    when SDK version upgrade is detected during ARC boot.
  </summary>
</histogram>

<histogram name="Arc.Secondary.Signin.Result" enum="ArcProvisioningStatus"
    expires_after="2021-07-18">
  <owner>sinhak@google.com</owner>
  <owner>jhorwich@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    The result (success or the type of failure) of ARC Secondary Account signin/
    reauthorization.
  </summary>
</histogram>

<histogram name="Arc.Session.MojoDisconnection" enum="ArcMojoConnectionType"
    expires_after="2021-11-11">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>shaochuan@google.com</owner>
  <owner>khmel@google.com</owner>
  <owner>ttylenda@google.com</owner>
  <summary>
    This is updated when the mojo connections to processes in detailing in
    ArcMojoConnectionType are closed for reasons other than the ARC container
    shutting down or crashing.
  </summary>
</histogram>

<histogram name="Arc.Session.StopReason" enum="ArcStopReason"
    expires_after="2021-08-15">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>shaochuan@google.com</owner>
  <owner>khmel@google.com</owner>
  <owner>mmatena@google.com</owner>
  <summary>
    This is updated in case ARC++ stops for the reasons detailed in
    ArcStopReason. For example, this is recorded in case of a graceful ARC++
    shutdown or if ARC++ crashes.
  </summary>
</histogram>

<histogram name="Arc.ShareFilesOnExit" enum="ArcShareFilesOnExit"
    expires_after="M75">
  <owner>weifangsun@google.com</owner>
  <owner>djacobo@google.com</owner>
  <summary>
    Exit code coming from ARC's share files feature. Used to observe stability
    for the feature.
  </summary>
</histogram>

<histogram name="Arc.ShutdownTime" units="ms" expires_after="M85">
  <owner>elijahtaylor@google.com</owner>
  <summary>
    The time it takes for ARC to shut down. This value is recorded on ARC
    shutdown as the time is takes for the init process to exit after setting
    'sys.powerctl shutdown'. It is reported on the next ARC startup to avoid
    sending data during shutdown.
  </summary>
</histogram>

<histogram name="Arc.State" enum="BooleanEnabled" expires_after="never">
<!-- expires-never: used internally for filtering -->

  <owner>elijahtaylor@google.com</owner>
  <owner>ttylenda@google.com</owner>
  <owner>chrome-metrics-team@google.com</owner>
  <summary>
    Whether ARC is enabled or not. Before M56 this was collected only on login
    and when ARC was enabled or disabled. From M56 forward this is collected
    during every metrics recording interval, so it is in every record uploaded
    to the server (despite crbug.com/929583 which was fixed in M73). This is
    required because this value is used to categorize all other data in the
    dashboard as collected with ARC enabled or not. This is true even for users
    who are running on ecryptfs and skipped Ext4 migration; even though ARC Apps
    do not run until migration is complete on N or later systems. Since M74 this
    is also included in initial stability logs.
  </summary>
</histogram>

<histogram name="Arc.StateByUserType" enum="ArcEnableState"
    expires_after="2021-08-22">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>elijahtaylor@google.com</owner>
  <owner>shihuis@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>
    Similar to &quot;Arc.State&quot; metric but has separation by user type.
  </summary>
</histogram>

<histogram name="Arc.Supervision.Transition.Result"
    enum="ArcSupervisionTransitionResult" expires_after="2021-06-02">
  <owner>giovax@chromium.org</owner>
  <owner>arc-commercial@google.com</owner>
  <summary>
    The result (success or the type of failure) of ARC supervision transition
    events.
  </summary>
</histogram>

<histogram name="Arc.Supervision.Transition.Screen.Success.TimeDelta"
    units="ms" expires_after="2021-06-02">
  <owner>giovax@chromium.org</owner>
  <owner>arc-commercial@google.com</owner>
  <summary>
    Elapsed time for a successful supervision transition, during which the
    supervision transition screen was displayed.
  </summary>
</histogram>

<histogram name="Arc.Supervision.Transition.Screen.Successful"
    enum="BooleanSuccess" expires_after="2021-06-02">
  <owner>giovax@chromium.org</owner>
  <owner>arc-commercial@google.com</owner>
  <summary>
    Whether supervision transition screen exited due to a successful transition.
  </summary>
</histogram>

<histogram name="Arc.Tracing.Tool" enum="ArcTracingToolAction"
    expires_after="M82">
  <owner>elijahtaylor@google.com</owner>
  <owner>khmel@google.com</owner>
  <summary>Action of ARC++ Graphics Tracing tool.</summary>
</histogram>

<histogram name="Arc.UiAvailable.AlreadyProvisioned.TimeDelta" units="ms"
    expires_after="2021-11-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>khmel@google.com</owner>
  <owner>yusukes@google.com</owner>
  <summary>
    Elapsed time from the when ARC++ is started in already provisioned state to
    when the ARC is available for the user.
  </summary>
</histogram>

<histogram name="Arc.UiAvailable.InSessionProvisioning.TimeDelta" units="ms"
    expires_after="2021-11-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>khmel@google.com</owner>
  <owner>yusukes@google.com</owner>
  <summary>
    Elapsed time from the when ARC++ is opted in from the user's session to when
    the ARC is available for the user.
  </summary>
</histogram>

<histogram name="Arc.UiAvailable.OobeProvisioning.TimeDelta" units="ms"
    expires_after="2021-11-01">
<!-- Name completed by histogram_suffixes name="ArcUserTypes" -->

  <owner>khmel@google.com</owner>
  <owner>yusukes@google.com</owner>
  <summary>
    Elapsed time from the when ARC++ is opted in from OOBE to when the ARC is
    available for the user.
  </summary>
</histogram>

<histogram name="Arc.UserInteraction" enum="ArcUserInteraction"
    expires_after="2021-08-15">
  <owner>jhorwich@chromium.org</owner>
  <owner>elijahtaylor@chromium.org</owner>
  <owner>shihuis@google.com</owner>
  <owner>maajid@chromium.org</owner>
  <summary>
    Counts user interactions with ARC by type, such as ARC app launches via the
    shelf or launcher.
  </summary>
</histogram>

<histogram name="ArcAuth.CheckinTime" units="ms" expires_after="M87">
<!-- Deprecated, used to access legacy data -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>
    Elapsed time waiting for the check-in task to be completed. This is recorded
    in case check-in task is completed successfully.
  </summary>
</histogram>

<histogram name="ArcAuth.SignInTime" units="ms" expires_after="M87">
<!-- Deprecated, used to access legacy data -->

  <owner>mhasank@google.com</owner>
  <owner>arc-core@google.com</owner>
  <summary>Elapsed time waiting for GMS sign-in to complete.</summary>
</histogram>

</histograms>

</histogram-configuration>
