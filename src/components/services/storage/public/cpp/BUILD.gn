# Copyright 2019 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

component("cpp") {
  output_name = "storage_service_public"

  public = [
    "constants.h",
    "quota_client_callback_wrapper.h",
    "quota_error_or.h",
  ]

  sources = [
    "constants.cc",
    "quota_client_callback_wrapper.cc",
  ]

  public_deps = [
    ":storage_key",
    "//base",
    "//components/services/storage/public/cpp/filesystem",
    "//components/services/storage/public/mojom",
  ]

  defines = [ "IS_STORAGE_SERVICE_PUBLIC_IMPL" ]
}

component("storage_key") {
  output_name = "storage_service_storage_key_support"

  public = [ "storage_key.h" ]

  sources = [ "storage_key.cc" ]

  public_deps = [
    "//base",
    "//url",
  ]

  defines = [ "IS_STORAGE_SERVICE_STORAGE_KEY_SUPPORT_IMPL" ]
}

source_set("tests") {
  testonly = true
  sources = [ "storage_key_unittest.cc" ]
  deps = [
    ":storage_key",
    "//testing/gtest",
  ]
}
