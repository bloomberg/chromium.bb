<!-- Copyright 2020 The Chromium Authors. All rights reserved.
   Use of this source code is governed by a BSD-style license that can be
   found in the LICENSE file.-->
<!doctype html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="chrome://resources/css/text_defaults.css">
  <link rel="stylesheet" href="chrome://resources/css/roboto.css">

  <link rel="stylesheet" href="conversion_internals.css">
  <script type="module" src="conversion_internals.js"></script>
  <title>Attribution Reporting API Internals</title>
</head>
<body>

<div id="page-heading">
  Attribution Reporting API Internals
</div>
<div id="info">
  <p>Learn more:
    <a href="https://web.dev/using-conversion-measurement/" target="_blank">
      Attribution Reporting API
    </a>
  <p>Attribution reporting is currently <span id="feature-status-content"></span>.
</div>
<hr>
<div id="page-content">
  <div>
    <button id="refresh">Refresh all page data</button>
    <button id="clear-data">Clear all attribution data</button>
  </div>
  <h2> Active Sources </h2>
  <div class="content">
    <div class="table-wrapper">
      <table id="source-table">
        <thead>
          <tr class="header-row">
            <th>
              Source Event ID
            </th>
            <th>
              Source Origin
            </th>
            <th>
              Destination
            </th>
            <th>
              Report To
            </th>
            <th>
              Source Registration Time
            </th>
            <th>
              Expiry Time
            </th>
            <th>
              Source Type
            </th>
            <th>
              Priority
            </th>
            <th>
              Dedup Keys
            </th>
          </tr>
        </thead>
        <tbody id="source-table-body">
        </tbody>
      </table>
    </div>
  </div>
  <h2> Pending Reports </h2>
  <div class="content">
    <div>
      <span id="debug-mode-content"></span>
    </div>
    <div class="table-wrapper">
      <table id="report-table">
        <thead>
          <tr class="header-row">
            <th>
              Source Event ID
            </th>
            <th>
              Trigger Data
            </th>
            <th>
              Destination
            </th>
            <th>
              Report To
            </th>
            <th>
              Report Time
            </th>
            <th>
              Source Type
            </th>
          </tr>
        </thead>
        <tbody id="report-table-body">
        </tbody>
      </table>
    </div>
    <div>
      <button id="send-reports">Send All Reports</button>
    </div>
  </div>
  <h2> Sent Reports </h2>
  <div class="content">
    <div class="table-wrapper">
      <table id="sent-report-table">
        <thead>
          <tr class="header-row">
            <th>
              Report URL
            </th>
            <th>
              Report Body
            </th>
            <th>
              HTTP Response Code
            </th>
          </tr>
        </thead>
        <tbody id="sent-report-table-body">
        </tbody>
      </table>
    </div>
  </div>
</div>

<template id="source-row">
  <tr>
    <td class="source-event-id-cell"></td>
    <td class="source-origin-cell"></td>
    <td class="destination-cell"></td>
    <td class="report-to-cell"></td>
    <td class="source-registration-time-cell"></td>
    <td class="expiry-time-cell"></td>
    <td class="source-type-cell"></td>
    <td class="priority-cell"></td>
    <td class="dedup-keys-cell"></td>
  </tr>
</template>

<template id="report-row">
  <tr>
    <td class="source-event-id-cell"></td>
    <td class="trigger-data-cell"></td>
    <td class="destination-cell"></td>
    <td class="report-to-cell"></td>
    <td class="report-time-cell"></td>
    <td class="source-type-cell"></td>
  </tr>
</template>

<template id="sent-report-row">
  <tr>
    <td class="report-url-cell"></td>
    <td class="report-body-cell"></td>
    <td class="http-response-code-cell"></td>
  </tr>
</template>
</body>
</html>
