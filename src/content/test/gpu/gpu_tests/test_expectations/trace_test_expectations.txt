# BEGIN TAG HEADER (autogenerated, see validate_tag_consistency.py)
# OS
# tags: [ android android-lollipop android-marshmallow android-nougat
#             android-pie android-r
#         chromeos
#         fuchsia
#         linux ubuntu
#         mac bigsur catalina lion highsierra mac-10.12 mojave monterey
#             mountainlion sierra
#         win win7 win8 win10 ]
# Devices
# tags: [ android-nexus-5 android-nexus-5x android-nexus-9 android-pixel-2
#             android-pixel-4 android-shield-android-tv
#         chromeos-board-amd64-generic chromeos-board-kevin chromeos-board-eve
#         fuchsia-board-astro fuchsia-board-sherlock fuchsia-board-qemu-x64 ]
# Platform
# tags: [ desktop
#         mobile ]
# Browser
# tags: [ android-chromium android-webview-instrumentation
#         debug debug-x64
#         release release-x64 ]
# GPU
# tags: [ amd amd-0x6613 amd-0x679e amd-0x6821 amd-0x7340
#         apple apple-apple-m1 apple-angle-metal-renderer:-apple-m1
#         arm
#         google google-0xffff
#         intel intel-0xa2e intel-0xd26 intel-0xa011 intel-0x3e92 intel-0x3e9b
#               intel-0x5912
#         nvidia nvidia-0xfe9 nvidia-0x1cb3 nvidia-0x2184
#         qualcomm ]
# Decoder
# tags: [ passthrough no-passthrough ]
# ANGLE Backend
# tags: [ angle-disabled
#         angle-d3d9 angle-d3d11
#         angle-metal
#         angle-opengl angle-opengles
#         angle-swiftshader
#         angle-vulkan ]
# Skia Renderer
# tags: [ skia-renderer-dawn
#         skia-renderer-disabled
#         skia-renderer-gl
#         skia-renderer-vulkan ]
# SwiftShader
# tags: [ swiftshader-gl no-swiftshader-gl ]
# Driver
# tags: [ intel_lt_25.20.100.6444 intel_lt_25.20.100.6577
#             intel_lt_26.20.100.7000 intel_lt_26.20.100.7870
#             intel_lt_26.20.100.7323 intel_lt_26.20.100.8141
#             intel_lt_27.20.100.8280
#         mesa_lt_19.1 mesa_ge_20.1 ]
# ASan
# tags: [ asan no-asan ]
# Display Server
# tags: [ display-server-wayland display-server-x ]
# OOP-Canvas
# tags: [ oop-c no-oop-c ]
# results: [ Failure RetryOnFailure Skip ]
# END TAG HEADER

###############################
# Permanent Skip Expectations #
###############################
# The "Skip" expectations in this section are expected to never be removed.
# This is for things like tests that will never be supported on a particular
# platform/configuration.

# Require page actions - which are only supported in pixel tests.
crbug.com/1048892 TraceTest_OffscreenCanvasIBRCWebGLMain [ Skip ]
crbug.com/1048892 TraceTest_OffscreenCanvasIBRCWebGLWorker [ Skip ]

# The TraceTest versions of the pixel tests' Video_Context_Loss tests
# appear flaky on multiple platforms. These are mainly meant to run as
# pixel tests so they're being skipped in this test suite.
crbug.com/974077 TraceTest_Video_Context_Loss_MP4 [ Skip ]
crbug.com/974077 TraceTest_Video_Context_Loss_VP9 [ Skip ]

# Skip on platforms where DirectComposition isn't supported
crbug.com/867136 [ mac ] VideoPathTraceTest_* [ Skip ]
crbug.com/867136 [ linux ] VideoPathTraceTest_* [ Skip ]
crbug.com/867136 [ android ] VideoPathTraceTest_* [ Skip ]
crbug.com/867136 [ chromeos ] VideoPathTraceTest_* [ Skip ]
crbug.com/867136 [ win7 ] VideoPathTraceTest_* [ Skip ]
crbug.com/867136 [ fuchsia ] VideoPathTraceTest_* [ Skip ]
crbug.com/867136 [ mac ] OverlayModeTraceTest_* [ Skip ]
crbug.com/867136 [ linux ] OverlayModeTraceTest_* [ Skip ]
crbug.com/867136 [ android ] OverlayModeTraceTest_* [ Skip ]
crbug.com/867136 [ chromeos ] OverlayModeTraceTest_* [ Skip ]
crbug.com/867136 [ win7 ] OverlayModeTraceTest_* [ Skip ]
crbug.com/867136 [ fuchsia ] OverlayModeTraceTest_* [ Skip ]
crbug.com/1009860 [ mac ] SwapChainTraceTest_* [ Skip ]
crbug.com/1009860 [ linux ] SwapChainTraceTest_* [ Skip ]
crbug.com/1009860 [ android ] SwapChainTraceTest_* [ Skip ]
crbug.com/1009860 [ chromeos ] SwapChainTraceTest_* [ Skip ]
crbug.com/1009860 [ win7 ] SwapChainTraceTest_* [ Skip ]
crbug.com/1009860 [ fuchsia ] SwapChainTraceTest_* [ Skip ]

# Playing videos not supported in Fuchsia emulators.
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_BackdropFilter [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_MP4 [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_MP4_DXVA [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_MP4_FourColors_Aspect_4x3 [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_MP4_FourColors_Rot_180 [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_MP4_FourColors_Rot_270 [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_MP4_FourColors_Rot_90 [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_MP4_Rounded_Corner [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_VP9 [ Skip ]
crbug.com/1096431 [ fuchsia fuchsia-board-qemu-x64 ] TraceTest_Video_VP9_DXVA [ Skip ]

# Skip unaccelerated canvas test since we don't use swap chains without GPU compositing.
crbug.com/1009860 [ win10 ] SwapChainTraceTest_CanvasUnacceleratedLowLatency2D [ Skip ]

# Software compositing is not supported on Android/ChromeOS/Fuchsia: we skip the
# tests that disable GPU compositing (--disable-gpu-compositing).
[ android ] TraceTest_RepeatedWebGLTo2D_SoftwareCompositing [ Skip ]
[ android ] TraceTest_Canvas2DTabSwitch_SoftwareCompositing [ Skip ]
[ android ] TraceTest_WebGLReadPixelsTabSwitch_SoftwareCompositing [ Skip ]
[ chromeos ] TraceTest_RepeatedWebGLTo2D_SoftwareCompositing [ Skip ]
[ chromeos ] TraceTest_Canvas2DTabSwitch_SoftwareCompositing [ Skip ]
[ chromeos ] TraceTest_WebGLReadPixelsTabSwitch_SoftwareCompositing [ Skip ]
[ fuchsia ] TraceTest_RepeatedWebGLTo2D_SoftwareCompositing [ Skip ]
[ fuchsia ] TraceTest_Canvas2DTabSwitch_SoftwareCompositing [ Skip ]
[ fuchsia ] TraceTest_WebGLReadPixelsTabSwitch_SoftwareCompositing [ Skip ]

# Cannot use file in Chromium checkout for fake video capture device on Android,
# ChromeOS, or Fuchsia.
crbug.com/1129879 [ android ] TraceTest_Video_Media_Stream_Incompatible_Stride [ Skip ]
crbug.com/1129879 [ chromeos ] TraceTest_Video_Media_Stream_Incompatible_Stride [ Skip ]
crbug.com/1129879 [ fuchsia ] TraceTest_Video_Media_Stream_Incompatible_Stride [ Skip ]

# WebGPU is only supported on Win10, Mac, and Linux+SkiaRenderer+Vulkan.
crbug.com/976495 [ linux skia-renderer-gl ] TraceTest_WebGPU* [ Skip ]
crbug.com/976495 [ linux skia-renderer-dawn ] TraceTest_WebGPU* [ Skip ]
crbug.com/976495 [ linux skia-renderer-disabled ] TraceTest_WebGPU* [ Skip ]
crbug.com/976497 [ android ] TraceTest_WebGPU* [ Skip ]
crbug.com/852089 [ chromeos ] TraceTest_WebGPU* [ Skip ]
crbug.com/852089 [ fuchsia ] TraceTest_WebGPU* [ Skip ]
crbug.com/852089 [ win7 ] TraceTest_WebGPU* [ Skip ]

###############################
# Temporary Skip Expectations #
###############################
# The "Skip" expectations in this section are expected to be removable at some
# point. This is for things like tests that fail in a way that negatively and
# significantly impacts other tests, e.g. killing the test device.

###################
# Failures/Flakes #
###################
# Non-"Skip" expectations go here to suppress regular flakes/failures.

# VP9 videos fail to trigger zero copy video presentation path.
crbug.com/930343 [ win intel ] VideoPathTraceTest_DirectComposition_Video_VP9_Fullsize [ Failure ]

# Incorrectly reporting SCALING instead of DIRECT on Windows 10 UHD 630 GPUs.
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Underlay [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Underlay_DXVA [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Underlay_Fullsize [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_MP4 [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_MP4_DXVA [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_MP4_FourColors_Aspect_4x3 [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_MP4_Fullsize [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_MP4_NV12 [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_MP4_YUY2 [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_VP9 [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_VP9_DXVA [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_VP9_Fullsize [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_VP9_NV12 [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_VP9_YUY2 [ Failure ]
crbug.com/1183090 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_MP4_Rounded_Corner [ Failure ]

# VP scaling tests are also flaky.
crbug.com/1136971 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_MP4_VP_SCALING [ Failure ]
crbug.com/1136971 [ win10 intel-0x3e92 ] OverlayModeTraceTest_DirectComposition_Video_VP9_VP_SCALING [ Failure ]

# Zero copy also needs scaling to work.
crbug.com/1079393 [ win10 intel-0x3e92 ] VideoPathTraceTest_DirectComposition_Underlay_Fullsize [ Failure ]
crbug.com/1079393 [ win10 intel-0x3e92 ] VideoPathTraceTest_DirectComposition_Video_MP4_Fullsize [ Failure ]

# Using YUY2 instead of NV12 on Windows 10 HD 630 GPUs due to NV12 support
# showing up as SOFTWARE which causes zero copy to fail.
crbug.com/1079393 [ win10 intel-0x5912 ] OverlayModeTraceTest_DirectComposition_Video_MP4_NV12 [ Failure ]
crbug.com/1079393 [ win10 intel-0x5912 ] OverlayModeTraceTest_DirectComposition_Video_VP9_NV12 [ Failure ]

# Hardware overlay promotion fails on Win10 AMD.
crbug.com/1246268 [ win10 amd-0x7340 ] OverlayModeTraceTest_DirectComposition_Video_MP4_FourColors_Aspect_4x3 [ Failure ]

# BGRA swap chains don't consistently get promoted to overlays.
crbug.com/1119491 [ win intel ] OverlayModeTraceTest_DirectComposition_Video_MP4_BGRA [ Failure ]
crbug.com/1119491 [ win intel ] OverlayModeTraceTest_DirectComposition_Video_VP9_BGRA [ Failure ]

# Failed to create YUY2 swap chain on Win10 AMD RX 5500 XT
crbug.com/1151767 [ win10 amd-0x7340 ] VideoPathTraceTest_DirectComposition_Video_MP4_YUY2 [ Failure ]
crbug.com/1151767 [ win10 amd-0x7340 ] VideoPathTraceTest_DirectComposition_Video_VP9_YUY2 [ Failure ]

# WebGPU pixel tests hang on mac bots which mostly run older versions of mac os.
crbug.com/1213170 [ mac ] TraceTest_WebGPU* [ Failure ]

# WebGPU pixel tests fail on Linux+SkiaRenderer+Vulkan
crbug.com/1213657 [ linux skia-renderer-vulkan ] TraceTest_WebGPU* [ Failure ]

# Flakes on linux-rel.
crbug.com/1216377 [ linux ] TraceTest_Video_Media_Stream_Incompatible_Stride [ RetryOnFailure ]

# Cannot generate correct rendering results on windows.
crbug.com/1238570 [ win ] TraceTest_WebGPUImportVideoFrame [ Failure ]

# New flakes seen on Nexus 5X bot.
crbug.com/1278028 [ android android-nexus-5x ] TraceTest_Video_MP4_FourColors_Rot_180 [ RetryOnFailure ]
crbug.com/1278028 [ android android-nexus-5x ] TraceTest_Video_VP9 [ RetryOnFailure ]
crbug.com/1278028 [ android android-nexus-5x ] TraceTest_Video_VP9_DXVA [ RetryOnFailure ]

#######################################################################
# Automated Entries After This Point - Do Not Manually Add Below Here #
#######################################################################
