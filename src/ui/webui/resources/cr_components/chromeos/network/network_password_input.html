<link rel="import" href="chrome://resources/html/polymer.html">
<link rel="import" href="chrome://resources/cr_elements/cr_icons_css.html">
<link rel="import" href="chrome://resources/cr_elements/cr_input/cr_input.html">
<link rel="import" href="chrome://resources/cr_elements/policy/cr_policy_network_behavior.html">
<link rel="import" href="chrome://resources/cr_elements/policy/cr_policy_network_indicator.html">
<link rel="import" href="chrome://resources/cr_elements/shared_vars_css.html">
<link rel="import" href="chrome://resources/html/i18n_behavior.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-icon-button/paper-icon-button-light.html">
<link rel="import" href="network_config_element_behavior.html">
<link rel="import" href="network_shared_css.html">

<dom-module id="network-password-input">
  <template>
    <style include="network-shared">
      #container {
        align-items: center;
        display: flex;
        flex-direction: row;
      }

      cr-input {
        width: 100%;
      }

      cr-policy-network-indicator {
        --cr-tooltip-icon-margin-start: var(--cr-controlled-by-spacing);
      }
    </style>

    <div id="container">
      <cr-input id="input" label="[[label]]" value="{{value}}"
          disabled="[[getDisabled_(disabled, property)]]"
          type="[[getInputType_(showPassword)]]"
          on-focus="onFocus_" on-blur="onBlur_" on-input="onInput_"
          on-keypress="onKeypress_">
      </cr-input>
      <template is="dom-if" if="[[!showPolicyIndicator_]]" restamp>
        <paper-icon-button-light id="icon" slot="suffix"
            class$="[[getIconClass_(showPassword)]]">
          <button on-tap="onShowPasswordTap_"
              disabled="[[getButtonDisabled_(value)]]"
              title="[[getShowPasswordTitle_(showPassword)]]">
          </button>
        </paper-icon-button-light>
      </template>
      <template is="dom-if" if="[[showPolicyIndicator_]]" restamp>
        <cr-policy-network-indicator
            property="[[property]]" tooltip-position="left">
        </cr-policy-network-indicator>
      </template>
    </div>
  </template>
  <script src="network_password_input.js"></script>
</dom-module>
