<link rel="import" href="../../html/polymer.html">

<link rel="import" href="../shared_vars_css.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-icon/iron-icon.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-behaviors/paper-ripple-behavior.html">

<dom-module id="cr-icon-button">
  <template>
    <style>
      :host {
        --cr-icon-button-color: var(--google-grey-refresh-700);
        --cr-icon-button-default-icon-padding: 8px;
        --cr-icon-button-icon-size: 20px;
        --cr-icon-button-ripple-color: var(--google-grey-900);
        --cr-icon-button-ripple-size: calc(var(--cr-icon-button-icon-size) +
            2 * var(--cr-icon-button-icon-padding,
                    var(--cr-icon-button-default-icon-padding)));
        --cr-icon-button-size: var(--cr-icon-button-ripple-size);
        background-position: center;
        background-repeat: no-repeat;
        background-size: var(--cr-icon-button-icon-size);
        color: var(--cr-icon-button-color);
        cursor: pointer;
        height: var(--cr-icon-button-size);
        margin-inline-end: var(--cr-icon-ripple-margin);
        margin-inline-start: var(--cr-icon-button-margin-start);
        outline: none;
        user-select: none;
        width: var(--cr-icon-button-size);
      }

      :host([disabled]) {
        cursor: initial;
        opacity: var(--cr-disabled-opacity);
        pointer-events: none;
      }

      :host-context([dir=rtl]) {
        transform: scaleX(-1);  /* Invert X: flip on the Y axis (aka mirror). */
      }

      :host-context([dark]) {
        --cr-icon-button-color: var(--google-grey-refresh-500);
        --cr-icon-button-ripple-color: var(--google-grey-refresh-500);
      }

      :host paper-ripple {
        --paper-ripple-opacity: .15;
        color: var(--cr-icon-button-ripple-color);
      }

      :host-context([dark]) paper-ripple {
        --paper-ripple-opacity: .4;
      }

      #icon {
        height: var(--cr-icon-button-ripple-size);
        /* The |_rippleContainer| must be position relative. */
        position: relative;
        width: var(--cr-icon-button-ripple-size);
      }

      iron-icon {
        --iron-icon-height: var(--cr-icon-button-icon-size);
        --iron-icon-width: var(--cr-icon-button-icon-size);
        padding: var(--cr-icon-button-icon-padding,
                     var(--cr-icon-button-default-icon-padding));
      }
    </style>
    <div id="icon"></div>
  </template>
  <script src="cr_icon_button.js"></script>
</dom-module>
