<!--
  -- Copyright 2015 The Chromium Authors. All rights reserved.
  -- Use of this source code is governed by a BSD-style license that can be
  -- found in the LICENSE file.
  -->

<link rel="import" href="chrome://resources/html/polymer.html">
<link rel="import" href="track_info_panel.html">
<link rel="import" href="track_list.html">
<link rel="import" href="control_panel.html">

<dom-module id="audio-player">
  <template>
    <style>
      :host {
        display: flex;
        flex-direction: column;
        height: 100%;
        justify-content: space-between;
      }

      track-info-panel {
        flex-grow: 0;
        flex-shrink: 0;
      }

      track-list {
        flex-grow: 1;
        flex-shrink: 1;
        overflow-x: hidden;
        overflow-y: scroll;
      }

      control-panel {
        height: 96px;
        flex-shrink: 0;
      }
    </style>
    <track-info-panel id="trackInfo" expanded="{{trackInfoExpanded}}"
        aria-expand-artwork-label="[[ariaExpandArtworkLabel]]">
    </track-info-panel>
    <track-list id="trackList"
        expanded$="[[playlistExpanded]]"
        shuffle="[[shuffle]]"
        current-track-index="{{currentTrackIndex}}"
        on-replay="onReplayCurrentTrack"
        on-play="onPlayCurrentTrack"></track-list>
    <control-panel id="audioController"
        playing="{{playing}}"
        time="[[time]]"
        duration="[[duration]]"
        shuffle="{{shuffle}}"
        repeat-mode="{{repeatMode}}"
        volume="{{volume}}"
        playlist-expanded="{{playlistExpanded}}"
        aria-labels="[[ariaLabels]]"
        on-update-time="onUpdateTime_"
        on-next-clicked="onControllerNextClicked"
        on-previous-clicked="onControllerPreviousClicked"></control-panel>
    <audio id="audio"
        volume="[[computeAudioVolume_(volume)]]"></audio>
  </template>
  <script src="audio_player.js"></script>
</dom-module>
