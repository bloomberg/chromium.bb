# Show pydoc for main types:
import models
help(models)

# Show all attributes of all symbols & per-section totals:
Print(size_info, verbose=True)

# Show two levels of .text, grouped by first two subdirectories
text_syms = size_info.symbols.WhereInSection("t")
by_path = text_syms.GroupBySourcePath(depth=2)
Print(by_path.WhereBiggerThan(1024))

# Show all non-vtable generated symbols
generated_syms = size_info.symbols.WhereIsGenerated()
Print(generated_syms.WhereNameMatches(r"vtable").Inverted())

# Show all symbols that have "print" in their name or path, except
# those within components/.
# Note: Could have also used Inverted(), as above.
# Note: Use "help(ExpandRegex)" for more about what {{_print_}} does.
print_syms = size_info.symbols.WhereMatches(r"{{_print_}}")
Print(print_syms - print_syms.WherePathMatches(r"^components/"))

# Diff two .size files and save result to a file:
Print(Diff(size_info1, size_info2), to_file="output.txt")

Metadata:
    elf_arch=ARM
    elf_build_id=WhatAnAmazingBuildId
    elf_file_name=elf
    elf_mtime={redacted}
    git_revision=abc123
    gn_args=var1=true var2="foo"
    map_file_name=../test.map

Section Sizes (Total=43,785,380 bytes):
    .bss: 1,300,456 bytes (not included in totals)
    .data: 101,768 bytes (0.2%)
    .data.rel.ro: 1,065,224 bytes (2.4%)
    .data.rel.ro.local: 790,024 bytes (1.8%)
    .rodata: 5,927,652 bytes (13.5%)
    .text: 35,900,712 bytes (82.0%)

Showing 43 symbols with total pss: 4036054 bytes
.text=77.8kb     .rodata=2.52mb     other=1.25mb     total=3.85mb
Number of object files: 10

First columns are: running total, address, pss
 1965409 r@0x266e600  1965409 {no path}
             ** merge strings
 2755313 d@0x2c17740  789904  third_party/container.c
             chrome::mojom::FieldTrialRecorderProxy [vtable]
 3431298 r@0x284e518  675985  {no path}
             ** merge strings
 3500422 t@0x28f1e0   69124   third_party/icu/ucnv_ext.c
             foo_bar
 3506140 t@0x28f000   5718    third_party/icu/ucnv_ext.c
             ** symbol gap 0
 3510180 t@0x2a1000   4040    third_party/container.c
             ** symbol gap 1
 3510628 t@0x28f000   448     third_party/icu/ucnv_ext.c
             ucnv_extMatchFromU
 3510780 d@0x2de7008  152     third_party/container.c
             base::android::kBaseRegisteredMethods
 3510874 t@0x2a1000   94      third_party/container.c
             blink::PaintChunker::releasePaintChunks [clone .part.1]
 3510930 d@0x2c176f0  56      third_party/icu/ucnv_ext.c
             ChromeMainDelegate [vtable]
 3510986 d@0x2cd8500  56      third_party/paint.cc
             ChromeMainDelegateAndroid [vtable]
 3511042 t@0x28d910   56      base/page_allocator.cc
             _GLOBAL__sub_I_bbr_sender.cc
 3511097 r@0x28f3450  55      third_party/paint.cc
             kAnimationFrameTimeHistogramClassPath
 3511121 t@0x2a0000   24      third_party/icu/ucnv_ext.c
             BazAlias
 3511145 t@0x2a0000   24      {no path}
             blink::ContiguousContainerBase::shrinkToFit
 3511189 r@0x284e370  44      base/page_allocator.cc
             Name
 3511227 t@0x28d964   38      base/page_allocator.cc
             extFromUUseMapping
 3511259 d@0x2cd84e0  32      third_party/gvr-android-sdk/libgvr_shim_static_arm.a/libcontroller_api_impl.a_controller_api_impl.o
             .Lswitch.table.45
 3511291 r@0x284e398  32      third_party/container.c
             chrome::mojom::FilePatcher::Name_
 3511323 t@0x28d98a   32      base/page_allocator.cc
             extFromUUseMapping
 3511351 t@0x28f1c8   28      third_party/icu/ucnv_ext.c
             _GLOBAL__sub_I_SkDeviceProfile.cpp
 3511379 t@0x28d948   28      base/page_allocator.cc
             _GLOBAL__sub_I_pacing_sender.cc
 3511407 t@0x2a0020   28      third_party/container.c
             blink::ContiguousContainerBase::ContiguousContainerBase
 3511431 d@0x2c17728  24      third_party/icu/ucnv_ext.c
             chrome::mojom::FieldTrialRecorder [vtable]
 3511455 d@0x2cd8538  24      base/page_allocator.cc
             mojo::MessageReceiver [vtable]
 3511471 t@0x28d900   16      base/page_allocator.cc
             _GLOBAL__sub_I_page_allocator.cc
 3511475 t@0x2a0010   4       third_party/fft_float.cc
             BarAlias
 3511479 t@0x2a0010   4       third_party/fft_float.cc
             FooAlias
 3511483 t@0x2a0010   4       third_party/{shared}/2
             blink::ContiguousContainerBase::shrinkToFit [clone .part.1234] [clone .isra.2]
 3511495 d@0x2cd8550  12      base/page_allocator.cc
             kMethodsAnimationFrameTimeHistogram
 3511506 r@0x284e364  11      base/page_allocator.cc
 3511514 d@0x2cd84f0  8       third_party/gvr-android-sdk/libgvr_shim_static_arm.a/libport_android_jni.a_jni_utils.o
             kSystemClassPrefixes
 3511518 d@0x2de70a4  4       third_party/container.c
             base::android::g_library_version_number
 3511522 d@0x2de70a0  4       third_party/container.c
             base::android::g_renderer_histogram_code
 3511526 r@0x28f3480  4       third_party/paint.cc
             blink::CSSValueKeywordsHash::findValueImpl::value_word_list
 3511530 d@0x2de7000  4       base/page_allocator.cc
             google::protobuf::internal::pLinuxKernelCmpxchg
 3511534 d@0x2de7004  4       third_party/container.c
             google::protobuf::internal::pLinuxKernelMemoryBarrier
 3511534 b@0x0        262144  third_party/fft_float.cc
             ff_cos_131072
 3511534 b@0x0        131072  third_party/fft_fixed.cc
             ff_cos_131072_fixed
 3511534 b@0x0        131072  third_party/fft_float.cc
             ff_cos_65536
 3511534 b@0x2dffe80  200     third_party/icu/ucnv_ext.c
             SaveHistogram::atomic_histogram_pointer
 3511534 b@0x2dffda0  28      third_party/icu/ucnv_ext.c
             g_chrome_content_browser_client
 3511534 b@0x2dffe84  4       third_party/icu/ucnv_ext.c
             g_AnimationFrameTimeHistogram_clazz
