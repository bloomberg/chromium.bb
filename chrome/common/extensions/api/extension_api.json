[
  {
    "namespace": "extension",
    "types": [
      {
        "id": "Port",
        "type": "object",
        "description": "An object which allows two way communication with other pages.",
        "properties": {
          "name": {"type": "string"},
          "onDisconnect": {"type": "object"},
          "onMessage": {"type": "object"},
          "postMessage": {"type": "function"}
        }
      }
    ],
    "properties": {
      "lastError": {
        "type": "object",
        "optional": true,
        "description": "Set for the lifetime of a callback if an ansychronous extension api has resulted in an error. If no error has occured lastError will be <var>undefined</var>.",
        "properties": {
          "message": { "type": "string", "description": "Description of the error that has taken place." }
        }
      }
    },
    "functions": [
      {
        "name": "connect",
        "type": "function",
        "description": "Attempts to connect to other listeners within the extension (listeners may be toolstrips or the extension's background page). This is primarily useful for content scripts connecting to their extension processes. Extensions may connect to content scripts embedded in tabs via <a href='broken'><var>chrome.tabs.connectToTab</var></a>.",
        "parameters": [
          {
            "name": "name",
            "type": "string",
            "description": "Will be passed into onConnect for extension processes that are listening for the connection event.",
            "optional": true
          }
        ],
        "returns": {
          "$ref": "Port",
          "description": "Port through which messages can be sent and received with the extension."
        }
      },
      {
        "name": "getViews",
        "type": "function",
        "description": "Returns an array of the global JavaScript objects for each of the views running inside the current extension. This includes toolstrips, background pages, and tabs.",
        "parameters": [],
        "returns": {
          "type": "array",
          "description": "Array of global objects",
          "items": { "type": "object" }
        }
      },
      {
        "name": "getBackgroundPage",
        "type": "function",
        "description": "Returns the global JavaScript object for the background page running inside the current extension. Returns null if the extension has no backround page.",
        "parameters": [],
        "returns": {
          "type": "object"
        }
      },
      {
        "name": "getToolstrips",
        "type": "function",
        "description": "Returns an array of the global JavaScript objects for each of the toolstrip views running inside the current extension. If windowId is specified, returns only the toolstrips attached to the specified window.",
        "parameters": [
          {"type": "integer", "name": "windowId", "optional": true}
        ],
        "returns": {
          "type": "array",
          "description": "Array of global objects",
          "items": { "type": "object" }
        }
      },
      {
        "name": "getTabContentses",
        "type": "function",
        "description": "Returns an array of the global JavaScript objects for each of the tab contents views running inside the current extension. If windowId is specified, returns only the tab contentses attached to the specified window.",
        "parameters": [
          {"type": "integer", "name": "windowId", "optional": true}
        ],
        "returns": {
          "type": "array",
          "description": "Array of global objects",
          "items": { "type": "object" }
        }
      }
    ],
    "events": [
      {
        "name": "onConnect",
        "type": "function",
        "description": "Fired when a connection is made from either an extension process or a content script.",
        "parameters": [
          {"$ref": "Port", "name": "port"}
        ]
      }
    ]
  },
  {
    "namespace": "windows",
    "types": [
      {
        "id": "Window",
        "type": "object",
        "properties": {
          "id": {"type": "integer", "minimum": 0},
          "focused": {"type": "boolean"},
          "top": {"type": "integer"},
          "left": {"type": "integer"},
          "width": {"type": "integer"},
          "height": {"type": "integer"},
          "tabs": {"type": "array", "items": { "$ref": "Tab" }, "optional": true}
        }
      }
    ],
    "functions": [
      {
        "name": "get",
        "type": "function",
        "description": "Get window with given id.",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0},
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {
                "name": "window", "$ref": "Window"
              }
            ]
          }
        ]
      },
      {
        "name": "getCurrent",
        "type": "function",
        "description": "Get the window that is the container for the caller. i.e. the window containing the toolstrip that makes the call.",
        "parameters": [
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {
                "name": "window", "$ref": "Window"
              }
            ]
          }
        ]
      },
      {
        "name": "getLastFocused",
        "type": "function",
        "description": "Get the window that was most recenly focused -- typically the window 'on top'.",
        "parameters": [
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {
                "name": "window", "$ref": "Window"
              }
            ]
          }
        ]
      },
      {
        "name": "getAll",
        "type": "function",
        "description": "Get all windows. If <var>populate</var> is true, each window object will have a <var>tabs</var> property that contains a list of the Tab objects for that window.",
        "parameters": [
          {"type": "boolean", "name": "populate", "optional": true},
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {
                "name": "windows", "type": "array", "items": { "$ref": "Window" }
              }
            ]
          }
        ]
      },
      {
        "name": "create",
        "type": "function",
        "description": "Create (open) a new browser with any optional sizing, position or default url provided.",
        "parameters": [
          {
            "type": "object",
            "name": "createData",
            "properties": {
              "url": {"type": "string", "optional": true},
              "left": {"type": "integer", "optional": true},
              "top": {"type": "integer", "optional": true},
              "width": {"type": "integer", "minimum": 0, "optional": true},
              "height": {"type": "integer", "minimum": 0, "optional": true}
            },
            "optional": true
          },
          {
            "type": "function",
            "name": "callback",
            "optional": true,
            "parameters": [
              {
                "name": "window", "$ref": "Window"
              }
            ]
          }
        ]
      },
      {
        "name": "update",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0},
          {
            "type": "object",
            "name": "updateInfo",
            "properties": {
              "left": {"type": "integer", "optional": true},
              "top": {"type": "integer", "optional": true},
              "width": {"type": "integer", "minimum": 0, "optional": true},
              "height": {"type": "integer", "minimum": 0, "optional": true}
            }
          },
          {
            "type": "function",
            "name": "callback",
            "optional": true,
            "parameters": [
              {
                "name": "window", "$ref": "Window"
              }
            ]
          }
        ]
      },
      {
        "name": "remove",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0},
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      }
    ],
    "events": [
      {
        "name": "onCreated",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0}
        ]
      },
      {
        "name": "onRemoved",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0}
        ]
      },
      {
        "name": "onFocusChanged",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0}
        ]
      }
    ]
  },
  {
    "namespace": "tabs",
    "types": [
      {
        "id": "Tab",
        "type": "object",
        "properties": {
          "id": {"type": "integer", "minimum": 0},
          "index": {"type": "integer", "minimum": 0},
          "windowId": {"type": "integer", "minimum": 0},
          "selected": {"type": "boolean"},
          "url": {"type": "string"},
          "title": {"type": "string", "optional": true},
          "favIconUrl": {"type": "string", "optional": true},
          "status": {"type": "string", "optional": true}
        }
      }
    ],
    "functions": [
      {
        "name": "get",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0},
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {"name": "tab", "$ref": "Tab"}
            ]
          }
        ]
      },
      {
        "name": "connect",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "optional": true, "minimum": 0},
          {"type": "string", "name": "name", "optional": true}
        ],
        "returns": {
          "$ref": "Port"
        }
      },
      {
        "name": "getSelected",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0, "optional": true},
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {"name": "tab", "$ref": "Tab"}
            ]
          }
        ]
      },
      {
        "name": "getAllInWindow",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0, "optional": true},
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {"name": "tabs", "type": "array", "items": { "$ref": "Tab" } }
            ]
          }
        ]
      },
      {
        "name": "create",
        "type": "function",
        "description": "",
        "parameters": [
          {
            "type": "object",
            "name": "createProperties",
            "properties": {
              "windowId": {"type": "integer", "minimum": 0, "optional": true},
              "index": {"type": "integer", "minimum": 0, "optional": true},
              "url": {"type": "string", "optional": true},
              "selected": {"type": "boolean", "optional": true}
            }
          },
          {
            "type": "function",
            "name": "callback",
            "optional": true, 
            "parameters": [
              {"name": "tab", "$ref": "Tab"}
            ]
          }
        ]
      },
      {
        "name": "update",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0},
          {
            "type": "object",
            "name": "updateProperties",
            "properties": {
              "url": {"type": "string", "optional": true},
              "selected": {"type": "boolean", "optional": true}
            }
          },
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      },
      {
        "name": "move",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0},
          {
            "type": "object",
            "name": "moveProperties",
            "properties": {
              "windowId": {"type": "integer", "minimum": 0, "optional": true},
              "index": {"type": "integer", "minimum": 0}
            }
          },
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      },
      {
        "name": "remove",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0, "optional": true},
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      },
      {
        "name": "detectLanguage",
        "type": "function",
        "description": "detect language of tab.",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0, "optional": true},
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {"type": "string", "name": "language"}
            ]
          }
        ]
      },
      {
        "name": "captureVisibleTab",
        "type": "function",
        "description": "Captures the visible area of the visible tab in the given window.",
        "parameters": [
          {"type": "integer", "name": "windowId", "minimum": 0, "optional": true, "description": "The target window. If <var>null</var> or <var>undefined</var>, the 'current' window will be assumed."},
          {"type": "function", "name": "callback", "parameters": [
              {"type": "string", "name": "dataUrl", "description": "a data url encoding of the captured tab."}
            ]
          }
        ]
      }
    ],
    "events": [
      {
        "name": "onCreated",
        "type": "function",
        "description": "",
        "parameters": [
          {"$ref": "Tab", "name": "tab"}
        ]
      },
      {
        "name": "onUpdated",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0},
          {
            "type": "object",
            "name": "changedProps",
            "properties": {
              "status": {"type": "string"},
              "url": {"type": "string", "optional": true}
            }
          }
        ]
      },
      {
        "name": "onMoved",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0},
          {
            "type": "object",
            "name": "MoveInfo",
            "properties": {
              "windowId": {"type": "integer", "minimum": 0},
              "fromIndex": {"type": "integer", "minimum": 0},
              "toIndex": {"type": "integer", "minimum": 0}
            }
          }
        ]
      },
      {
        "name": "onSelectionChanged",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0},
          {
            "type": "object", "name": "SelectInfo",
            "properties": {
              "windowId": {"type": "integer", "minimum": 0}
            }
          }
        ]
      },
      {
        "name": "onAttached",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0},
          {
            "type": "object",
            "name": "AttachInfo",
            "properties": {
              "newWindowId": {"type": "integer", "minimum": 0},
              "newPosition": {"type": "integer", "minimum": 0}
            }
          }
        ]
      },
      {
        "name": "onDetached",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0},
          {
            "type": "object",
            "name": "DetachInfo",
            "properties": {
              "oldWindowId": {"type": "integer", "minimum": 0},
              "oldPosition": {"type": "integer", "minimum": 0}
            }
          }
        ]
      },
      {
        "name": "onRemoved",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "tabId", "minimum": 0}
        ]
      }
    ]
  },
  {
    "namespace": "pageActions",
    "types": [],
    "functions": [
      {
        "name": "enableForTab",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "pageActionId"},
          {
            "type": "object",
            "name": "action",
            "properties": {
              "tabId": {"type": "integer", "minimum": 0},
              "url": {"type": "string"},
              "title": {"type": "string", "optional": true},
              "iconId": {"type": "integer", "minimum": 0, "optional": true}
            },
            "optional": false
          }
        ]
      },
      {
        "name": "disableForTab",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "pageActionId"},
          {
            "type": "object",
            "name": "action",
            "properties": {
              "tabId": {"type": "integer", "minimum": 0},
              "url": {"type": "string"}
            },
            "optional": false
          }
        ]
      }
    ],
    "events": [
    ]
  },
  {
    "namespace": "bookmarks",
    "types": [
      {
        "id": "BookmarkTreeNode",
        "type": "object",
        "properties": {
          "id": {"type": "string", "minimum": 0},
          "parentId": {"type": "string", "minimum": 0, "optional": true},
          "index": {"type": "integer", "optional": true},
          "url": {"type": "string", "optional": true},
          "title": {"type": "string"},
          "dateAdded": {"type": "number", "optional": true},
          "dateGroupModified": {"type": "number", "optional": true},
          "children": {"type": "array", "optional": true, "items": {"$ref": "BookmarkTreeNode"}}
        }
      }
    ],
    "functions": [
      {
        "name": "get",
        "type": "function",
        "description": "Retrieves the specified BookmarkTreeNode(s).",
        "parameters": [
          {
            "name": "idOrIdList",
            "description": "A single string-valued id, or an array of string-valued ids",
            "choices": [
              {"type": "string"},
              {"type": "array", "items": {"type": "string"}, "minItems": 1}
            ]
          },
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {"name": "results", "type": "array", "items": { "$ref": "BookmarkTreeNode"} }
            ]
          }
        ]
      },
      {
        "name": "getChildren",
        "type": "function",
        "description": "Retrieves the children of the specified BookmarkTreeNode id.",
        "parameters": [
          {"type": "string", "name": "id"},
          {
            "type": "function", 
            "name": "callback",
            "parameters": [
              {"name": "results", "type": "array", "items": { "$ref": "BookmarkTreeNode"} }
            ]
          }
        ]
      },
      {
        "name": "getTree",
        "type": "function",
        "description": "Retrieves the entire Bookmarks hierarchy.",
        "parameters": [
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {"name": "results", "type": "array", "items": { "$ref": "BookmarkTreeNode"} }
            ]
          }
        ]
      },
      {
        "name": "search",
        "type": "function",
        "description": "Seaches for BookmarkTreeNodes matching the given query.",
        "parameters": [
          {"type": "string", "name": "query"},
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {"name": "results", "type": "array", "items": { "$ref": "BookmarkTreeNode"} }
            ]
          }
        ]
      },
      {
        "name": "create",
        "type": "function",
        "description": "",
        "parameters": [
          {
            "type": "object",
            "name": "bookmark",
            "properties": {
              "parentId": {"type": "string"},
              "index": {"type": "integer", "minimum": 0, "optional": true},
              "title": {"type": "string", "optional": true},
              "url": {"type": "string", "optional": true}
            }
          },
          {
            "type": "function",
            "name": "callback",
            "optional": true,
            "parameters": [
              {"name": "result", "$ref": "BookmarkTreeNode" }
            ]
          }
        ]
      },
      {
        "name": "move",
        "type": "function",
        "description": "Moves the specified BookmarkTreeNode to the provided location.",
        "parameters": [
          {"type": "string", "name": "id"},
          {
            "type": "object",
            "name": "destination",
            "properties": {
              "parentId": {"type": "string"},
              "index": {"type": "integer", "minimum": 0, "optional": true}
            }
          },
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      },
      {
        "name": "update",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "id"},
          {
            "type": "object",
            "name": "changes",
            "properties": {
              "title": {"type": "string", "optional": true}
            }
          },
          {
            "type": "function", 
            "name": "callback",
            "optional": true,
            "parameters": [
              {"name": "result", "$ref": "BookmarkTreeNode" }
            ]
          }
        ]
      },
      {
        "name": "remove",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "id"},
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      },
      {
        "name": "removeTree",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "id"},
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      }
    ],
    "events": [
      {
        "name": "onAdded",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "id"},
          {
            "$ref": "BookmarkTreeNode",
            "name": "bookmark"
          }
        ]
      },
      {
        "name": "onRemoved",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "id"},
          {
            "type": "object",
            "name": "removeInfo",
            "properties": {
              "parentId": { "type": "string" },
              "index": { "type": "integer" }
            }
          }
        ]
      },
      {
        "name": "onChanged",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "id"},
          {
            "type": "object",
            "name": "changeInfo",
            "properties": {
              "title": { "type": "string" }
            }
          }
        ]
      },
      {
        "name": "onMoved",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "id"},
          {
            "type": "object",
            "name": "moveInfo",
            "properties": {
              "parentId": { "type": "string" },
              "index": { "type": "integer" },
              "oldParentId": { "type": "string" },
              "oldIndex": { "type": "integer" }
            }
          }
        ]
      },
      {
        "name": "onChildrenReordered",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "id"},
          {
            "type": "array",
            "name": "childIds",
            "items": { "type": "string" }
          }
        ]
      }
    ]
  },
  {
    "namespace": "toolstrip",
    "types": [],
    "functions": [
      {
        "name": "expand",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "integer", "name": "height", "minimum": 0},
          {"type": "string", "name": "url", "optional": true},
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      },
      {
        "name": "collapse",
        "type": "function",
        "description": "",
        "parameters": [
          {"type": "string", "name": "url", "optional": true},
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      }
    ],
    "events": []
  },
  {
    "namespace": "test",
    "types": [],
    "functions": [
      {
        "name": "fail",
        "type": "function",
        "description": "Notify the browser process that test code running in the extension failed.  This is only used for internal unit testing.",
        "parameters": [
          {"type": "string", "name": "message"}
        ]
      },
      {
        "name": "pass",
        "type": "function",
        "description": "Notify the browser process that test code running in the extension passed.  This is only used for internal unit testing.",
        "parameters": []
      }
    ],
    "events": []
  }
]
