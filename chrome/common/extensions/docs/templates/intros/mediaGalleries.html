<table class="intro">
  <tr>
    <th scope="col"></th>
    <th scope="col"></th>
  </tr>
  <tr>
    <td><strong>Description:</strong></td>
    <td>Use the <code>chrome.mediaGalleries</code> API
    to access media files (images, video, audio)
    from the user's local disks (with the user's consent).</td>
  </tr>
  <tr>
    <td><strong>Availability:</strong></td>
    <td>Google Chrome 23 (read permission)<br>
    Google Chrome 26 (write permission)</td>
  </tr>
  <tr>
    <td><strong>Permissions:</strong></td>
    <td><code>"mediaGalleries": ["accessType"]</code>,
    <code>"mediaGalleries": ["accessType", "allAutoDetected"]</code><br>
    See <a href="#manifest">Manifest</a> below
    for more information.</td>
  </tr>
  <tr>
    <td><strong>Learn more:</strong></td>
    <td><a href="https://developers.google.com/live/shows/10479832/">Chrome Office Hours: The Media Galleries API</a></td>
  </tr>
</table>

<h2 id="usage">Usage</h2>

<p>
Using the API, you can prompt the user for permission to access the media
galleries. The permission dialog will contain common media locations for
the platform and will allow the user to add additional locations. From those
locations, only media files will be present in the file system objects.
</p>

<h2 id="manifest">Manifest</h2>
<p>The media galleries API has two axes of permission parameters; the locations
that can be accessed, and the type of access (read-only, read-write,
add-files).</p>

<p>On the location axis, specifying no location-type permission parameters
means that
no media galleries are accessible until the user grants permission to
specific media galleries at runtime using the media gallery configuration
dialog. This dialog can be programmatically triggered.  Alternatively,
specifying the "allAutoDetected" permission parameter grants access to all
auto-detected media galleries on the user's computer. However, this
permission displays an install time prompt indicating that the extension
will have access to all of the user's media files.</p>

<p>On the access type axis, the "read" permission parameter grants the
extension the right to read files. This permission does not trigger an install
time permission prompt because the user must still grant access to particular
galleries, either with the "allAutoDetected" permission parameter or at
runtime by using the media gallery management dialog. For example:</p>

<pre>{
  "name": "My extension",
  ...
  "permissions": [
    <b>{ "mediaGalleries": ["read", "allAutoDetected"] }</b>
  ],
  ...
}</pre>

<p>The above permission will trigger an install time permission prompt
and let the extension read from all auto-detected media galleries on the
user's computer. The user may add or remove galleries using the
media gallery management dialog, after which the extension will be able
to read all the media files from galleries that the user has selected.</p>

<p>Another possible access type is "write", which can be put in place of
"read". Specifying "write" allows read and write access to the accessible
media galleries.
</p>

<p>Currently "read" and "write" access types are supported by
this API. Add-file access with be implemented soon.</p>
