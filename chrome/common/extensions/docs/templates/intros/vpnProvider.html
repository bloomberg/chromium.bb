<h2 id="usage">Usage</h2>
<p>
Typical usage of vpnProvider is as follows:

<ul>
  <li>Create VPN configurations using the $(ref:createConfig) method. A VPN
    configuration is a persistent entry shown to the user in a native Chrome OS
    UI. The user can select a VPN configuration from a list and connect to it or
    disconnect from it.</li>
  <li>Add listeners to the events $(ref:onPlatformMessage),
    $(ref:onPacketReceived) and $(ref:onConfigRemoved).</li>
  <li>When the user connects to the VPN configuration, $(ref:onPlatformMessage)
    will be received with the message <code>"connected"</code>. We refer to the
    period between the messages <code>"connected"</code> and
    <code>"disconnected"</code> as a VPN session. In this time period, the
    extension that receives the message is said to own the VPN session.</li>
  <li>Initiate connection to the VPN server and start the VPN client.</li>
  <li>Set the Parameters of the connection using $(ref:setParameters).</li>
  <li>Notify the connection state as <code>"connected"</code> using
    $(ref:notifyConnectionStateChanged).</li>
  <li>When the steps above are completed without errors, a virtual tunnel is
    created to the network stack of Chrome OS. IP packets can be sent through
    the tunnel using $(ref:sendPacket) and any packets originating on the Chrome
    OS device will be received using the event $(ref:onPacketReceived).</li>
  <li>When the user disconnects from the VPN configuration,
    $(ref:onPlatformMessage) will be fired with the message
    <code>"disconnected"</code>.</li>
  <li>If the VPN configuration is no longer necessary, it can be destroyed using
    $(ref:destroyConfig).</li>
</ul>
</p>
