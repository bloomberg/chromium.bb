<!--
Copyright 2018 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.

This is an internal only page meant for debugging. It is not intended for
general use and is not localized.
-->
<link rel="import" href="chrome://resources/html/polymer.html">

<dom-module id="database-tab">
  <template>
    <style>
      table {
        border-collapse: collapse;
      }

      table td,
      table th {
        border: 1px solid #777;
        padding-left: 4px;
        padding-right: 4px;
      }

      table th {
        background: rgb(224, 236, 255);
        padding-bottom: 4px;
        padding-inline-end: 16px;
        padding-top: 4px;
        white-space: nowrap;
      }

      .header-cell-container {
        align-items: center;
        display: flex;
        justify-content: flex-start;
      }
    </style>
    <table>
      <thead>
        <tr>
          <th>
            <div class="header-cell-container">
              Origin
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              Dirty
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              Last Loaded
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              <div>
                <div>Updates Favicon</div>
                <div>In Background</div>
              </div>
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              <div>
                <div>Updates Title</div>
                <div>In Background</div>
              </div>
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              <div>
                <div>Used Audio</div>
                <div>In Background</div>
              </div>
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              <div>
                <div>Uses Notifications</div>
                <div>In Background</div>
              </div>
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              <div>
                <div>Average CPU usage</div>
                <div>(microseconds)</div>
              </div>
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              <div>
                <div>Average Memory</div>
                <div>Footprint (kb)</div>
              </div>
            </div>
          </th>
          <th>
            <div class="header-cell-container">
              <div>
                <div>Average Load</div>
                <div>Time (us)</div>
              </div>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <template is="dom-repeat" sort="compareRows_" items="[[rows_]]">
          <tr>
            <td class="origin-cell">[[item.origin]]</td>
            <td class="dirty-cell">[[boolToString_(item.dirty)]]</td>
            <td>[[lastUseToString_(item.value.lastLoaded)]]</td>
            <td>[[featureToString_(item.value.updatesFaviconInBackground)]]</td>
            <td>[[featureToString_(item.value.updatesTitleInBackground)]]</td>
            <td>[[featureToString_(item.value.usesAudioInBackground)]]</td>
            <td>
                [[featureToString_(item.value.usesNotificationsInBackground)]]
            </td>
            <td>[[getLoadTimeEstimate_(item, "avgCpuUsageUs")]]</td>
            <td>[[getLoadTimeEstimate_(item, "avgFootprintKb")]]</td>
            <td>[[getLoadTimeEstimate_(item, "avgLoadDurationUs")]]</td>
          </tr>
        </template>
      </tbody>
    </table>
  </template>
  <script src="database_tab.js"></script>
</dom-module>
