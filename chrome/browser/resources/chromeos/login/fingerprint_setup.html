<!-- Copyright 2018 The Chromium Authors. All rights reserved.
     Use of this source code is governed by a BSD-style license that can be
     found in the LICENSE file. -->

<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="chrome://resources/html/i18n_behavior.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-icon/iron-icon.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-iconset-svg/iron-iconset-svg.html">
<link rel="import" href="chrome://resources/cr_elements/cr_fingerprint/cr_fingerprint_progress_arc.html">
<link rel="import" href="chrome://resources/cr_elements/chromeos/cr_lottie/cr_lottie.html">

<iron-iconset-svg name="fingerprint-setup-32" size="32">
  <svg>
    <defs>
      <g id="fingerprint" fill-rule="evenodd" fill="none">
        <path d="M20.036 5.029a.603.603 0 0 1-.259-.062c-2.154-1.114-4.027-1.592-6.266-1.592-2.233 0-4.337.534-6.266 1.586a.565.565 0 0 1-.54-.99 14.08 14.08 0 0 1 6.806-1.721c2.397 0 4.489.529 6.784 1.716.276.14.382.483.242.759a.57.57 0 0 1-.5.304zM3.937 10.935a.56.56 0 0 1-.461-.883 11.717 11.717 0 0 1 4.225-3.684c3.538-1.829 8.06-1.834 11.604-.012 1.682.867 3.1 2.093 4.219 3.656a.559.559 0 0 1-.13.782.566.566 0 0 1-.787-.129 10.561 10.561 0 0 0-3.814-3.307c-3.229-1.66-7.352-1.654-10.575.01a10.564 10.564 0 0 0-3.82 3.336.573.573 0 0 1-.46.231zm7.037 13.573a.558.558 0 0 1-.399-.169c-.973-.984-1.502-1.608-2.261-2.964-.777-1.384-1.187-3.077-1.187-4.888 0-3.341 2.857-6.064 6.373-6.064s6.373 2.717 6.373 6.064c0 .31-.253.562-.562.562a.564.564 0 0 1-.563-.562c0-2.723-2.351-4.939-5.248-4.939-2.891 0-5.248 2.216-5.248 4.939 0 1.62.36 3.116 1.04 4.337.726 1.293 1.21 1.85 2.076 2.722.22.22.22.58-.005.793a.504.504 0 0 1-.389.17zm8.061-2.081c-1.339 0-2.514-.338-3.488-.996-1.67-1.136-2.671-2.981-2.671-4.939 0-.309.253-.562.562-.562.31 0 .563.253.563.563 0 1.58.815 3.076 2.182 4.005.793.54 1.727.804 2.852.804.27 0 .726-.028 1.176-.107a.565.565 0 0 1 .652.456.565.565 0 0 1-.456.652 8.055 8.055 0 0 1-1.372.124zm-2.267 2.323a.42.42 0 0 1-.146-.023c-1.794-.489-2.964-1.153-4.18-2.362a8.236 8.236 0 0 1-2.435-5.872c0-1.829 1.552-3.314 3.465-3.314 1.912 0 3.465 1.485 3.465 3.313 0 1.204 1.052 2.189 2.34 2.189 1.288 0 2.34-.98 2.34-2.189 0-4.24-3.656-7.689-8.15-7.689-3.201 0-6.12 1.778-7.437 4.534-.439.911-.658 1.974-.658 3.155 0 .878.079 2.262.748 4.056a.567.567 0 0 1-.332.726.567.567 0 0 1-.726-.332c-.55-1.48-.82-2.93-.82-4.45 0-1.35.258-2.576.77-3.639 1.502-3.139 4.82-5.17 8.449-5.17 5.113 0 9.275 3.955 9.275 8.815 0 1.828-1.558 3.313-3.465 3.313-1.907 0-3.465-1.485-3.465-3.313 0-1.204-1.052-2.188-2.34-2.188-1.288 0-2.34.979-2.34 2.188 0 1.918.748 3.724 2.104 5.074 1.063 1.057 2.098 1.642 3.684 2.076a.564.564 0 0 1 .394.691.559.559 0 0 1-.54.411z" fill="#4285F4"></path>
        <path d="M0 0h27v27H0z"></path>
      </g>
    </defs>
  </svg>
</iron-iconset-svg>

<iron-iconset-svg name="fingerprint-setup-64" size="64">
  <svg>
    <defs>
      <g id="fingerprint" fill-rule="evenodd" fill="none">
        <path d="M40.072 10.057c-.18 0-.348-.045-.517-.123C35.246 7.706 31.5 6.75 27.023 6.75c-4.467 0-8.674 1.069-12.533 3.172a1.129 1.129 0 0 1-1.53-.45 1.129 1.129 0 0 1 .45-1.53C17.606 5.66 22.185 4.5 27.023 4.5 31.815 4.5 36 5.558 40.59 7.931c.551.282.765.968.484 1.519a1.139 1.139 0 0 1-1.002.607zM7.875 21.87c-.225 0-.45-.068-.652-.203a1.12 1.12 0 0 1-.27-1.563 23.434 23.434 0 0 1 8.448-7.369c7.076-3.656 16.122-3.667 23.209-.022 3.364 1.732 6.199 4.185 8.438 7.312.36.506.247 1.204-.26 1.564a1.131 1.131 0 0 1-1.574-.259c-2.025-2.835-4.59-5.063-7.628-6.615-6.457-3.319-14.703-3.307-21.15.023a21.128 21.128 0 0 0-7.639 6.67 1.145 1.145 0 0 1-.922.462zm14.074 27.146c-.293 0-.574-.112-.799-.337-1.946-1.969-3.004-3.218-4.522-5.929-1.553-2.767-2.374-6.154-2.374-9.776 0-6.683 5.715-12.128 12.746-12.128 7.031 0 12.746 5.434 12.746 12.128 0 .619-.506 1.125-1.125 1.125a1.128 1.128 0 0 1-1.125-1.125c0-5.445-4.702-9.878-10.496-9.878-5.782 0-10.496 4.433-10.496 9.878 0 3.24.72 6.232 2.081 8.674 1.451 2.587 2.419 3.7 4.151 5.444a1.11 1.11 0 0 1-.011 1.587 1.009 1.009 0 0 1-.776.337zm16.121-4.162c-2.678 0-5.029-.675-6.975-1.992-3.341-2.272-5.344-5.962-5.344-9.877 0-.619.506-1.125 1.125-1.125s1.125.506 1.125 1.125c0 3.161 1.631 6.154 4.365 8.01 1.587 1.08 3.454 1.609 5.704 1.609.54 0 1.451-.056 2.351-.214a1.13 1.13 0 0 1 1.305.911 1.13 1.13 0 0 1-.911 1.305 16.11 16.11 0 0 1-2.745.248zM33.536 49.5a.839.839 0 0 1-.292-.045c-3.589-.979-5.929-2.306-8.359-4.725a16.472 16.472 0 0 1-4.871-11.745c0-3.656 3.105-6.626 6.93-6.626 3.825 0 6.93 2.97 6.93 6.626 0 2.407 2.103 4.376 4.68 4.376 2.576 0 4.68-1.957 4.68-4.376 0-8.482-7.313-15.379-16.302-15.379-6.4 0-12.24 3.555-14.872 9.068-.878 1.822-1.316 3.948-1.316 6.311 0 1.755.157 4.523 1.496 8.111a1.133 1.133 0 0 1-.664 1.452 1.133 1.133 0 0 1-1.451-.664c-1.102-2.959-1.643-5.861-1.643-8.899 0-2.7.518-5.152 1.542-7.279 3.004-6.277 9.641-10.338 16.897-10.338 10.227 0 18.551 7.908 18.551 17.628 0 3.657-3.116 6.627-6.93 6.627-3.813 0-6.93-2.97-6.93-6.627 0-2.407-2.103-4.376-4.68-4.376-2.576 0-4.68 1.957-4.68 4.376 0 3.837 1.497 7.448 4.208 10.148 2.126 2.115 4.196 3.285 7.369 4.151.596.169.956.788.787 1.384a1.117 1.117 0 0 1-1.08.821z" fill="#4285F4"></path>
        <path d="M0 0h54v54H0z"></path>
      </g>
    </defs>
  </svg>
</iron-iconset-svg>

<dom-module id="fingerprint-setup">
  <template>
    <link rel="stylesheet" href="oobe_dialog_host.css">
    <link rel="stylesheet" href="fingerprint_setup.css">
    <link rel="stylesheet" href="oobe_flex_layout.css">
    <oobe-dialog id="setupFingerprint" role="dialog" has-buttons
        aria-label$="[[i18nDynamic(locale, 'setupFingerprintScreenTitle')]]"
        hidden>
      <hd-iron-icon slot="oobe-icon"
          icon1x="fingerprint-setup-32:fingerprint"
          icon2x="fingerprint-setup-64:fingerprint">
      </hd-iron-icon>
      <h1 slot="title">
        [[i18nDynamic(locale, 'setupFingerprintScreenTitle')]]
      </h1>
      <div slot="subtitle">
          [[i18nDynamic(locale, 'setupFingerprintScreenDescription')]]
      </div>
      <div slot="footer" class="layout vertical center">
        <div id="fingerprintUnlockIcon"></div>
      </div>
      <div slot="bottom-buttons" class="layout horizontal end-justified">
        <oobe-text-button id="skipFingerprintSetup"
            on-tap="onFingerprintSetupSkipped_">
          <div>
            [[i18nDynamic(locale, 'skipFingerprintSetup')]]
          </div>
        </oobe-text-button>
        <oobe-next-button id="showSensorLocationButton"
            on-tap="onContinueToSensorLocationScreen_" class="focus-on-show"
            inverse>
          <div>
            [[i18nDynamic(locale, 'fingerprintSetupNext')]]
          </div>
        </oobe-next-button>
      </div>
    </oobe-dialog>
    <oobe-dialog id="placeFinger" role="dialog" has-buttons
        aria-label$="[[i18nDynamic(locale, 'placeFingerScreenTitle')]]"
        hidden>
      <hd-iron-icon slot="oobe-icon"
          icon1x="fingerprint-setup-32:fingerprint"
          icon2x="fingerprint-setup-64:fingerprint">
      </hd-iron-icon>
      <h1 slot="title">
        [[i18nDynamic(locale, 'placeFingerScreenTitle')]]
      </h1>
      <div slot="subtitle">
          [[i18nDynamic(locale, 'setupFingerprintScreenDescription')]]
      </div>
      <div slot="footer" class="layout vertical center">
        <div id="sensorLocationContainer">
          <template is="dom-if" if="[[shouldUseLottieAnimation_]]">
            <cr-lottie id="scannerLocationLottie"
                animation-url="fingerprint_scanner_animation.json">
            </cr-lottie>
          </template>
          <template is="dom-if" if="[[!shouldUseLottieAnimation_]]">
            <div id="sensorLocation"></div>
          </template>
        </div>
      </div>
      <div slot="bottom-buttons" class="layout horizontal end-justified">
        <oobe-text-button id="setupFingerprintLater"
            on-tap="onFingerprintSetupSkipped_" class="focus-on-show">
          <div >
            [[i18nDynamic(locale, 'fingerprintSetupLater')]]
          </div>
        </oobe-text-button>
      </div>
    </oobe-dialog>
    <oobe-dialog id="startFingerprintEnroll" role="dialog" has-buttons
        aria-label$="[[i18nDynamic(locale, 'enrollmentProgressScreenTitle')]]"
        hidden>
      <hd-iron-icon slot="oobe-icon"
          icon1x="fingerprint-setup-32:fingerprint"
          icon2x="fingerprint-setup-64:fingerprint">
      </hd-iron-icon>
      <h1 slot="title" hidden="[[!enrollInProgress_(percentComplete_)]]">
        [[i18nDynamic(locale, 'enrollmentProgressScreenTitle')]]
      </h1>
      <h1 slot="title" hidden="[[enrollInProgress_(percentComplete_)]]">
        [[i18nDynamic(locale, 'setupFingerprintEnrollmentSuccessTitle')]]
      </h1>
      <div slot="subtitle" hidden="[[enrollInProgress_(percentComplete_)]]">
        [[i18nDynamic(locale, 'setupFingerprintEnrollmentSuccessDescription')]]
      </div>
      <div slot="subtitle" hidden="[[!isProblemImmobile_(scanResult_)]]">
        [[i18nDynamic(locale, 'setupFingerprintScanMoveFinger')]]
      </div>
      <div slot="subtitle" hidden="[[!isProblemOther_(scanResult_)]]">
        [[i18nDynamic(locale, 'setupFingerprintScanTryAgain')]]
      </div>
      <div slot="footer" class="layout vertical center">
        <cr-fingerprint-progress-arc id="arc">
        </cr-fingerprint-progress-arc>
      </div>
      <div slot="bottom-buttons" class="layout horizontal end-justified">
        <oobe-text-button id="skipFingerprintEnroll"
            on-tap="onFingerprintSetupSkipped_" class="focus-on-show"
            hidden="[[!enrollInProgress_(percentComplete_)]]">
          <div>
            [[i18nDynamic(locale, 'skipFingerprintSetup')]]
          </div>
        </oobe-text-button>
        <oobe-text-button id="fingerprintAddAnother"
            hidden="[[!isAnotherButtonVisible_(percentComplete_,
                canAddFinger)]]"
            on-tap="onFingerprintAddAnother_">
          <div>
            [[i18nDynamic(locale, 'fingerprintSetupAddAnother')]]
          </div>
        </oobe-text-button>
        <oobe-text-button id="fingerprintEnrollDone"
            hidden="[[enrollInProgress_(percentComplete_)]]"
            on-tap="onFingerprintSetupDone_" class="focus-on-show" inverse>
          <div>
            [[i18nDynamic(locale, 'fingerprintSetupDone')]]
          </div>
        </oobe-text-button>
      </div>
    </oobe-dialog>
  </template>
</dom-module>
