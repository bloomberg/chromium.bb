<!-- Copyright 2016 The Chromium Authors. All rights reserved.
     Use of this source code is governed by a BSD-style license that can be
     found in the LICENSE file. -->

<link rel="import" href="chrome://resources/polymer/v1_0/iron-icon/iron-icon.html">
<link rel="import" href="chrome://resources/polymer/v1_0/iron-iconset-svg/iron-iconset-svg.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-progress/paper-progress.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-styles/color.html">

<iron-iconset-svg name="oobe-update" size="24">
  <svg>
    <defs>
      <!-- The Google "G" icon (copied from settings). -->
      <g id="googleg">
        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path>
        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path>
        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path>
        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path>
        <path fill="none" d="M1 1h22v22H1z"></path>
      </g>
    </defs>
  </svg>
</iron-iconset-svg>

<dom-module id="oobe-update-md">
  <template>
    <link rel="stylesheet" href="oobe_dialog_host.css">
    <link rel="stylesheet" href="oobe_flex_layout.css">
    <link rel="stylesheet" href="oobe_update.css">
    <oobe-dialog hidden="[[!checkingForUpdate]]" tabindex="0"
        aria-live="polite" id="checking-for-updates-dialog" footer-shrinkable
        full-screen-dialog>
      <iron-icon icon="oobe-update:googleg" slot="oobe-icon"></iron-icon>
      <h1 slot="title" i18n-content="checkingForUpdates"></h1>
      <div slot="subtitle" class="update-subtitle" id="checkingForUpdatesMsg"
          i18n-content="checkingForUpdatesMsg">
      </div>
      <div slot="subtitle" class="update-subtitle" id="checkingForUpdateCancelHint"
          i18n-content="cancelUpdateHint" hidden="[[!cancelAllowed]]">
      </div>
      <paper-progress slot="progress" id="checking-progress"
          hidden="[[!checkingForUpdate]]">
      </paper-progress>
      <div slot="footer" class="flex layout vertical center-justified center">
        <img class="update-illustration oobe-illustration"
            srcset="images/1x/updating_1x.svg 1x,
                    images/2x/updating_2x.svg 2x">
      </div>
    </oobe-dialog>
    <oobe-dialog hidden="[[!requiresPermissionForCellular]]" tabindex="0"
        aria-live="polite" has-buttons footer-shrinkable
        id="cellular-permission-dialog">
      <iron-icon icon="oobe-update:googleg" slot="oobe-icon"></iron-icon>
      <h1 slot="title">
          [[i18nRecursive(locale, 'updateOverCellularPromptTitle',
                          'productName')]]
      </h1>
      <div slot="subtitle" class="update-subtitle">
          [[i18nDynamic(locale, 'updateOverCellularPromptMessage')]]
      </div>
      <div slot="footer" class="flex layout vertical center-justified center">
        <img class="update-illustration oobe-illustration"
            srcset="images/1x/updating_1x.svg 1x,
                    images/2x/updating_2x.svg 2x">
      </div>
      <div slot="bottom-buttons" class="layout horizontal justified">
        <oobe-back-button id="cellular-permission-back" inverse
            on-click="onBackClicked_"></oobe-back-button>
        <oobe-next-button id="cellular-permission-next" inverse
            on-tap="onNextClicked_"></oobe-next-button>
      </div>
    </oobe-dialog>
    <oobe-dialog footer-shrinkable id="updating-dialog"
        hidden="[[hideUpdatingScreen_(checkingForUpdate,
                                      requiresPermissionForCellular)]]"
        tabindex="0" aria-live="polite">
      <iron-icon icon="oobe-update:googleg" slot="oobe-icon"></iron-icon>
      <h1 slot="title" i18n-content="updatingScreenTitle"></h1>
      <div slot="subtitle" class="update-subtitle"
          i18n-content="installingUpdateDesc"
          hidden="[[updateCompleted]]"></div>
      <div slot="subtitle" class="update-subtitle" id="updatingCancelHint"
          i18n-content="cancelUpdateHint"
          hidden="[[isNotAllowedOrUpdateCompleted_(cancelAllowed,
                                                   updateCompleted)]]">
      </div>
      <div id="update-complete-msg" slot="subtitle" class="update-subtitle"
          i18n-content="updateCompeletedMsg" hidden="[[!updateCompleted]]">
      </div>
      <paper-progress id="updating-progress" slot="progress" min="0" max="100"
          value="[[progressValue]]" hidden="[[updateCompleted]]">
      </paper-progress>
      <div slot="footer" class="flex layout vertical">
        <div id="estimated-time-left" class="progress-message"
            hidden="[[isNotAllowedOrUpdateCompleted_(estimatedTimeLeftShown,
                                                     updateCompleted)]]">
          [[estimatedTimeLeft]]
        </div>
        <div id="progress-message" class="progress-message"
            hidden="[[isNotAllowedOrUpdateCompleted_(progressMessageShown,
                                                     updateCompleted)]]">
          [[progressMessage]]
        </div>
        <div class="flex layout vertical center-justified center">
          <img class="update-illustration oobe-illustration"
              srcset="images/1x/updating_1x.svg 1x,
                      images/2x/updating_2x.svg 2x">
        </div>
      </div>
    </oobe-dialog>
  </template>
</dom-module>
