<!doctype html>
<html>
  <head>
    <title>drive-internals</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="chrome://resources/css/text_defaults.css">
    <link rel="stylesheet" href="drive_internals.css">
    <script src="chrome://resources/js/util.js"></script>
    <script src="chrome://drive-internals/drive_internals.js"></script>
  </head>
  <body>
    <h1>Drive Internals</h1>
    <ul id="toc"></ul>

    <h2 id="connection-status-section">Connection Status</h2>
    <ul>
      <li>
        Status: <span id="connection-status"></span>
      </li>
      <li>
        Has refresh token: <span id="has-refresh-token"></span>
        <button id="button-clear-refresh-token">clear</button>
      </li>
      <li>
        Has access token: <span id="has-access-token"></span>
        <button id="button-clear-access-token">clear</button>
      </li>
    </ul>

    <h2 id="account-information-section">Account Information</h2>
    <ul>
      <li>Remote Changestamp:
        <span id="account-largest-changestamp-remote"></span>
      </li>
      <li>Quota Information: <span id="account-quota-info"></span></li>
      <li>Root Resource Id: <span id="root-resource-id"></span></li>
    </ul>

    <h2 id="local-metadata-section">Local Metadata</h2>
    <div>
      <button id="button-reset-drive-filesystem">
        Clear local data
      </button>
      <span id="reset-status-text"></span>
    </div>
    <ul>
      <li>Local Free Space:
        <span id="local-storage-freespace"></span> MB
      </li>
    </ul>

    <h2 id="delta-update-status-section">Delta Update Status</h2>
    <ul>
      <li>Push notification is enabled:
        <span id="push-notification-enabled"></span></li>
    </ul>
    <table>
      <tbody id="delta-update-status">
        <tr>
          <th>Source</th>
          <th>Virtual Path</th>
          <th>Start Page Token</th>
          <th>Last Update Check Time</th>
          <th>Last Update Check Result</th>
          <th>Refreshing</th>
        </tr>
      </tbody>
    </table>

    <h2 id="in-flight-operations-section">In-flight Operations</h2>
    <table>
      <tbody id="in-flight-operations-contents">
        <tr>
          <th>ID</th>
          <th>Type</th>
          <th>File Path</th>
          <th>State</th>
          <th>Progress</th>
        </tr>
      </tbody>
    </table>

    <h2 id="file-system-contents-section">File System Contents</h2>
    <button id="button-show-file-entries">Show</button>
    <div id="file-system-contents"></div>

    <h2 id="path-configurations-section">Path Configurations</h2>
    <ul id="path-configurations">
    </ul>

    <h2 id="gcache-contents-section">GCache Contents</h2>
    <table>
      <tbody id="gcache-contents">
        <tr>
          <th>Path</th>
          <th>Size</th>
          <th>Last Modified</th>
          <th>Permission</th>
        </tr>
      </tbody>
    </table>

    <ul>
      <li>
        Total Size:
        <span id="gcache-summary-total-size">(calculating...)</span> MB.
      </li>
    </ul>

    <h2 id="cache-contents-section">Cache Contents</h2>
    <table>
      <tbody id="cache-contents">
        <tr>
          <th>Local ID</th>
          <th>MD5</th>
          <th>Present</th>
          <th>Pinned</th>
          <th>Dirty</th>
        </tr>
      </tbody>
    </table>

    <h2 id="drive-related-preferences-section">Drive related Preferences</h2>
    <ul id="drive-related-preferences">
    </ul>

    <h2 id="app-list-section">Application List</h2>
    <ul>
      <li>ETag: <span id="app-list-etag"></span></li>
    </ul>
    <table>
      <tbody id="app-list-items">
        <tr>
          <th>App Name</th>
          <th>App ID</th>
          <th>Object Type</th>
          <th>Support Create</th>
        </tr>
      </tbody>
    </table>

    <h2 id="event-log-section">Event Log</h2>
    <ul id="event-log">
    </ul>

    <h2 id="service-log-section">Service Log</h2>
    <ul id="service-log">
    </ul>
  </body>
</html>
