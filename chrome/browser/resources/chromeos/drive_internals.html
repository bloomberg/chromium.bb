<!DOCTYPE HTML>
<html>
  <head>
    <title>drive-internals</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="drive_internals.css">
    <script src="chrome://resources/js/util.js"></script>
    <script src="chrome://drive-internals/drive_internals.js"></script>
  </head>
  <body>
    <h1>Drive Internals</h1>
    <ul id='toc'></ul>

    <h2 id='drive-related-flags-section'>Drive related Flags</h2>
    <ul id='drive-related-flags'>
    </ul>

    <h2 id='drive-related-preferences-section'>Drive related Preferences</h2>
    <ul id='drive-related-preferences'>
    </ul>

    <h2 id='authentication-status-section'>Authentication Status</h2>
    <ul>
      <li>
        Has refresh token: <span id='has-refresh-token'></span>
        <button id='button-clear-refresh-token'>clear</button>
      </li>
      <li>
        Has access token: <span id='has-access-token'></span>
        <button id='button-clear-access-token'>clear</button>
      </li>
    </ul>

    <h2 id='account-information-section'>Account Information</h2>
    <ul>
      <li>Quota Information: <span id='account-quota-info'></span></li>
      <li>Largest Changestamp (remote):
        <span id='account-largest-changestamp-remote'></span>
      </li>
      <li>Root Resource Id: <span id='root-resource-id'></span></li>
    </ul>

    <h2 id='app-list-section'>Application List</h2>
    <ul>
      <li>ETag: <span id='app-list-etag'></span></li>
    </ul>
    <table>
      <tbody id='app-list-items'>
        <tr>
          <th>App Name</th>
          <th>App ID</th>
          <th>Object Type</th>
          <th>Support Create</th>
        </tr>
      </tbody>
    </table>

    <h2 id='local-metadata-section'>Local Metadata</h2>
    <ul>
      <li>File system is loaded: <span id='account-metadata-loaded'></span></li>
      <li>Largest Changestamp (local):
        <span id='account-largest-changestamp-local'></span>
      </li>
    </ul>

    <h2 id='delta-update-status-section'>Delta Update Status</h2>
    <ul>
      <li>Push notification is enabled:
        <span id='push-notification-enabled'></span></li>
      <li>Polling interval:
        <span id='polling-interval-sec'></span> seconds</li>
      <li>Last update check time:
        <span id='last-update-check-time'></span></li>
      <li>Last update check result:
        <span id='last-update-check-error'></span></li>
    </ul>

    <h2 id='in-flight-operations-section'>In-flight Operations</h2>
    <table>
      <tbody id='in-flight-operations-contents'>
        <tr>
          <th>Operation ID</th>
          <th>Operation Type</th>
          <th>File Path</th>
          <th>Transfer State</th>
          <th>Start Time</th>
          <th>Progress</th>
        </tr>
      </tbody>
    </table>

    <h2 id='gcache-contents-section'>GCache Contents</h2>
    <table>
      <tbody id='gcache-contents'>
        <tr><th>Path</th><th>Size</th><th>Last Modified</th></tr>
      </tbody>
    </table>

    <ul>
      <li>
        Total Size:
        <span id='gcache-summary-total-size'>(calculating...)</span> bytes.
      </li>
    </ul>

    <h2 id='file-system-contents-section'>File System Contents</h2>
    <div id='file-system-contents'></div>

    <h2 id='cache-contents-section'>Cache Contents</h2>
    <table>
      <tbody id='cache-contents'>
        <tr>
          <th>Resource ID</th>
          <th>MD5</th>
          <th>Present</th>
          <th>Pinned</th>
          <th>Dirty</th>
          <th>Mounted</th>
          <th>Persistent</th>
        </tr>
      </tbody>
    </table>

    <h2 id='local-storage-usage-section'>Local Storage Usage</h2>
    <div>Free space: <span id='local-storage-freespace'></span> MB</div>

    <h2 id='event-log-section'>Event Log</h2>
    <ul id='event-log'>
    </ul>
  </body>
</html>
