<link rel="import" href="chrome://resources/html/polymer.html">

<link rel="import" href="chrome://resources/cr_elements/cr_container_shadow_behavior.html">
<link rel="import" href="chrome://resources/cr_elements/cr_search_field/cr_search_field.html">
<link rel="import" href="chrome://resources/cr_elements/paper_button_style_css.html">
<link rel="import" href="chrome://resources/cr_elements/shared_vars_css.html">
<link rel="import" href="chrome://resources/html/cr.html">
<link rel="import" href="chrome://resources/html/cr/ui/focus_without_ink.html">
<link rel="import" href="chrome://resources/polymer/v1_0/paper-icon-button/paper-icon-button-light.html">
<link rel="import" href="activity_log_history.html">
<link rel="import" href="../navigation_helper.html">
<link rel="import" href="../shared_style.html">

<dom-module id="extensions-activity-log">
  <template>
    <style include="iron-flex cr-shared-style shared-style paper-button-style">
      #activity-log-heading {
        flex-grow: 1;
        margin-inline-start: 16px;
      }

      #clear-activities-button {
        margin-inline-start: 8px;
      }

      cr-search-field  {
        padding-inline-end: 8px;
      }
    </style>
    <div class="page-container" id="container">
      <div class="page-content">
        <div class="page-header">
          <paper-icon-button-light class="icon-arrow-back no-overlap">
            <button id="closeButton" aria-label="$i18n{back}"
                on-click="onCloseButtonTap_"></button>
          </paper-icon-button-light>
          <span id="activity-log-heading">$i18n{activityLogPageHeading}</span>
          <cr-search-field label="$i18n{activityLogSearchLabel}"
              on-search-changed="onSearchChanged_">
          </cr-search-field >
          <paper-button id="clear-activities-button"
              on-click="onClearButtonTap_">
            $i18n{clearActivities}
          </paper-button>
        </div>
        <template is="dom-if" if="[[showHistory_]]" restamp>
          <activity-log-history extension-id="[[extensionId]]"
              delegate="[[delegate]]" last-search="[[lastSearch_]]">
          </activity-log-history>
        </template>
      </div>
    </div>
  </template>
  <script src="activity_log.js"></script>
</dom-module>
