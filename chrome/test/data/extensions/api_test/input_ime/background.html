<script>
  function setMenuItemsTest() {
    chrome.experimental.input.ime.setMenuItems({
      "engineID": "test",
      "items": [{
        "id": "Menu 1",
        "label": "Menu 1",
        "style": "check",
        "visible": true,
        "enabled": true
      }, {
        "id": "Menu 2",
        "label": "Menu 2",
        "style": "radio",
        "visible": true,
        "enabled": true
      }]
    }, function () {
      chrome.test.assertNoLastError();
      chrome.test.succeed();
    });
  }

  function updateMenuItemsTest() {
    chrome.experimental.input.ime.updateMenuItems({
      "engineID": "test",
      "items": [{
        "id": "Menu 1",
        "enabled": false
      }, {
        "id": "Menu 2",
        "visible": false,
      }]
    }, function () {
      chrome.test.assertNoLastError();
      chrome.test.succeed();
    });
  }

  chrome.test.runTests([setMenuItemsTest, updateMenuItemsTest]);
</script>
