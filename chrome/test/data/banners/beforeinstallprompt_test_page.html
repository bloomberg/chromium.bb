<!DOCTYPE html>
<html>
    <head>
        <title>beforeinstallprompt event test page</title>
        <link rel="manifest" href="manifest.json" />
        <script src="main.js"></script>
        <script>
            // These blanks will get filled in when each event comes through.
            var gotEventsFrom = ['________', '____'];

            function setTitle() {
              window.document.title = 'Got beforeinstallprompt: ' +
                gotEventsFrom.join(', ');
            }

            window.addEventListener('load', () => {
              // Test both the addEventListener and onX attribute versions.
              // When a prompt is shown, each should fire once.
              window.addEventListener('beforeinstallprompt', () => {
                gotEventsFrom[0] = 'listener';
                setTitle();
              });
              window.onbeforeinstallprompt = () => {
                gotEventsFrom[1] = 'attr';
                setTitle();
              };
            });
        </script>
    </head>
    <body onload="initialize()"></body>
</html>
